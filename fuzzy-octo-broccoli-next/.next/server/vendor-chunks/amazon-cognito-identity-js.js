"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/amazon-cognito-identity-js";
exports.ids = ["vendor-chunks/amazon-cognito-identity-js"];
exports.modules = {

/***/ "(ssr)/./node_modules/amazon-cognito-identity-js/es/AuthenticationDetails.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/amazon-cognito-identity-js/es/AuthenticationDetails.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AuthenticationDetails)\n/* harmony export */ });\n/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */ /** @class */ var AuthenticationDetails = /*#__PURE__*/ function() {\n    /**\n   * Constructs a new AuthenticationDetails object\n   * @param {object=} data Creation options.\n   * @param {string} data.Username User being authenticated.\n   * @param {string} data.Password Plain-text password to authenticate with.\n   * @param {(AttributeArg[])?} data.ValidationData Application extra metadata.\n   * @param {(AttributeArg[])?} data.AuthParamaters Authentication paramaters for custom auth.\n   */ function AuthenticationDetails(data) {\n        var _ref = data || {}, ValidationData = _ref.ValidationData, Username = _ref.Username, Password = _ref.Password, AuthParameters = _ref.AuthParameters, ClientMetadata = _ref.ClientMetadata;\n        this.validationData = ValidationData || {};\n        this.authParameters = AuthParameters || {};\n        this.clientMetadata = ClientMetadata || {};\n        this.username = Username;\n        this.password = Password;\n    }\n    /**\n   * @returns {string} the record's username\n   */ var _proto = AuthenticationDetails.prototype;\n    _proto.getUsername = function getUsername() {\n        return this.username;\n    } /**\n   * @returns {string} the record's password\n   */ ;\n    _proto.getPassword = function getPassword() {\n        return this.password;\n    } /**\n   * @returns {Array} the record's validationData\n   */ ;\n    _proto.getValidationData = function getValidationData() {\n        return this.validationData;\n    } /**\n   * @returns {Array} the record's authParameters\n   */ ;\n    _proto.getAuthParameters = function getAuthParameters() {\n        return this.authParameters;\n    } /**\n   * @returns {ClientMetadata} the clientMetadata for a Lambda trigger\n   */ ;\n    _proto.getClientMetadata = function getClientMetadata() {\n        return this.clientMetadata;\n    };\n    return AuthenticationDetails;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYW1hem9uLWNvZ25pdG8taWRlbnRpdHktanMvZXMvQXV0aGVudGljYXRpb25EZXRhaWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7O0NBR0MsR0FDRCxXQUFXLEdBQ1gsSUFBSUEsd0JBQXdCLFdBQVcsR0FBRTtJQUN2Qzs7Ozs7OztHQU9DLEdBQ0QsU0FBU0Esc0JBQXNCQyxJQUFJO1FBQ2pDLElBQUlDLE9BQU9ELFFBQVEsQ0FBQyxHQUNsQkUsaUJBQWlCRCxLQUFLQyxjQUFjLEVBQ3BDQyxXQUFXRixLQUFLRSxRQUFRLEVBQ3hCQyxXQUFXSCxLQUFLRyxRQUFRLEVBQ3hCQyxpQkFBaUJKLEtBQUtJLGNBQWMsRUFDcENDLGlCQUFpQkwsS0FBS0ssY0FBYztRQUN0QyxJQUFJLENBQUNDLGNBQWMsR0FBR0wsa0JBQWtCLENBQUM7UUFDekMsSUFBSSxDQUFDTSxjQUFjLEdBQUdILGtCQUFrQixDQUFDO1FBQ3pDLElBQUksQ0FBQ0ksY0FBYyxHQUFHSCxrQkFBa0IsQ0FBQztRQUN6QyxJQUFJLENBQUNJLFFBQVEsR0FBR1A7UUFDaEIsSUFBSSxDQUFDUSxRQUFRLEdBQUdQO0lBQ2xCO0lBRUE7O0dBRUMsR0FDRCxJQUFJUSxTQUFTYixzQkFBc0JjLFNBQVM7SUFDNUNELE9BQU9FLFdBQVcsR0FBRyxTQUFTQTtRQUM1QixPQUFPLElBQUksQ0FBQ0osUUFBUTtJQUN0QixFQUVBOztHQUVDO0lBQ0RFLE9BQU9HLFdBQVcsR0FBRyxTQUFTQTtRQUM1QixPQUFPLElBQUksQ0FBQ0osUUFBUTtJQUN0QixFQUVBOztHQUVDO0lBQ0RDLE9BQU9JLGlCQUFpQixHQUFHLFNBQVNBO1FBQ2xDLE9BQU8sSUFBSSxDQUFDVCxjQUFjO0lBQzVCLEVBRUE7O0dBRUM7SUFDREssT0FBT0ssaUJBQWlCLEdBQUcsU0FBU0E7UUFDbEMsT0FBTyxJQUFJLENBQUNULGNBQWM7SUFDNUIsRUFFQTs7R0FFQztJQUNESSxPQUFPTSxpQkFBaUIsR0FBRyxTQUFTQTtRQUNsQyxPQUFPLElBQUksQ0FBQ1QsY0FBYztJQUM1QjtJQUNBLE9BQU9WO0FBQ1Q7QUFDNEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mdXp6eS1vY3RvLWJyb2Njb2xpLW5leHQvLi9ub2RlX21vZHVsZXMvYW1hem9uLWNvZ25pdG8taWRlbnRpdHktanMvZXMvQXV0aGVudGljYXRpb25EZXRhaWxzLmpzP2M5NTQiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cbi8qKiBAY2xhc3MgKi9cbnZhciBBdXRoZW50aWNhdGlvbkRldGFpbHMgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQ29uc3RydWN0cyBhIG5ldyBBdXRoZW50aWNhdGlvbkRldGFpbHMgb2JqZWN0XG4gICAqIEBwYXJhbSB7b2JqZWN0PX0gZGF0YSBDcmVhdGlvbiBvcHRpb25zLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YS5Vc2VybmFtZSBVc2VyIGJlaW5nIGF1dGhlbnRpY2F0ZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhLlBhc3N3b3JkIFBsYWluLXRleHQgcGFzc3dvcmQgdG8gYXV0aGVudGljYXRlIHdpdGguXG4gICAqIEBwYXJhbSB7KEF0dHJpYnV0ZUFyZ1tdKT99IGRhdGEuVmFsaWRhdGlvbkRhdGEgQXBwbGljYXRpb24gZXh0cmEgbWV0YWRhdGEuXG4gICAqIEBwYXJhbSB7KEF0dHJpYnV0ZUFyZ1tdKT99IGRhdGEuQXV0aFBhcmFtYXRlcnMgQXV0aGVudGljYXRpb24gcGFyYW1hdGVycyBmb3IgY3VzdG9tIGF1dGguXG4gICAqL1xuICBmdW5jdGlvbiBBdXRoZW50aWNhdGlvbkRldGFpbHMoZGF0YSkge1xuICAgIHZhciBfcmVmID0gZGF0YSB8fCB7fSxcbiAgICAgIFZhbGlkYXRpb25EYXRhID0gX3JlZi5WYWxpZGF0aW9uRGF0YSxcbiAgICAgIFVzZXJuYW1lID0gX3JlZi5Vc2VybmFtZSxcbiAgICAgIFBhc3N3b3JkID0gX3JlZi5QYXNzd29yZCxcbiAgICAgIEF1dGhQYXJhbWV0ZXJzID0gX3JlZi5BdXRoUGFyYW1ldGVycyxcbiAgICAgIENsaWVudE1ldGFkYXRhID0gX3JlZi5DbGllbnRNZXRhZGF0YTtcbiAgICB0aGlzLnZhbGlkYXRpb25EYXRhID0gVmFsaWRhdGlvbkRhdGEgfHwge307XG4gICAgdGhpcy5hdXRoUGFyYW1ldGVycyA9IEF1dGhQYXJhbWV0ZXJzIHx8IHt9O1xuICAgIHRoaXMuY2xpZW50TWV0YWRhdGEgPSBDbGllbnRNZXRhZGF0YSB8fCB7fTtcbiAgICB0aGlzLnVzZXJuYW1lID0gVXNlcm5hbWU7XG4gICAgdGhpcy5wYXNzd29yZCA9IFBhc3N3b3JkO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IHRoZSByZWNvcmQncyB1c2VybmFtZVxuICAgKi9cbiAgdmFyIF9wcm90byA9IEF1dGhlbnRpY2F0aW9uRGV0YWlscy5wcm90b3R5cGU7XG4gIF9wcm90by5nZXRVc2VybmFtZSA9IGZ1bmN0aW9uIGdldFVzZXJuYW1lKCkge1xuICAgIHJldHVybiB0aGlzLnVzZXJuYW1lO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IHRoZSByZWNvcmQncyBwYXNzd29yZFxuICAgKi87XG4gIF9wcm90by5nZXRQYXNzd29yZCA9IGZ1bmN0aW9uIGdldFBhc3N3b3JkKCkge1xuICAgIHJldHVybiB0aGlzLnBhc3N3b3JkO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtBcnJheX0gdGhlIHJlY29yZCdzIHZhbGlkYXRpb25EYXRhXG4gICAqLztcbiAgX3Byb3RvLmdldFZhbGlkYXRpb25EYXRhID0gZnVuY3Rpb24gZ2V0VmFsaWRhdGlvbkRhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMudmFsaWRhdGlvbkRhdGE7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge0FycmF5fSB0aGUgcmVjb3JkJ3MgYXV0aFBhcmFtZXRlcnNcbiAgICovO1xuICBfcHJvdG8uZ2V0QXV0aFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBnZXRBdXRoUGFyYW1ldGVycygpIHtcbiAgICByZXR1cm4gdGhpcy5hdXRoUGFyYW1ldGVycztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7Q2xpZW50TWV0YWRhdGF9IHRoZSBjbGllbnRNZXRhZGF0YSBmb3IgYSBMYW1iZGEgdHJpZ2dlclxuICAgKi87XG4gIF9wcm90by5nZXRDbGllbnRNZXRhZGF0YSA9IGZ1bmN0aW9uIGdldENsaWVudE1ldGFkYXRhKCkge1xuICAgIHJldHVybiB0aGlzLmNsaWVudE1ldGFkYXRhO1xuICB9O1xuICByZXR1cm4gQXV0aGVudGljYXRpb25EZXRhaWxzO1xufSgpO1xuZXhwb3J0IHsgQXV0aGVudGljYXRpb25EZXRhaWxzIGFzIGRlZmF1bHQgfTsiXSwibmFtZXMiOlsiQXV0aGVudGljYXRpb25EZXRhaWxzIiwiZGF0YSIsIl9yZWYiLCJWYWxpZGF0aW9uRGF0YSIsIlVzZXJuYW1lIiwiUGFzc3dvcmQiLCJBdXRoUGFyYW1ldGVycyIsIkNsaWVudE1ldGFkYXRhIiwidmFsaWRhdGlvbkRhdGEiLCJhdXRoUGFyYW1ldGVycyIsImNsaWVudE1ldGFkYXRhIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsIl9wcm90byIsInByb3RvdHlwZSIsImdldFVzZXJuYW1lIiwiZ2V0UGFzc3dvcmQiLCJnZXRWYWxpZGF0aW9uRGF0YSIsImdldEF1dGhQYXJhbWV0ZXJzIiwiZ2V0Q2xpZW50TWV0YWRhdGEiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/amazon-cognito-identity-js/es/AuthenticationDetails.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/amazon-cognito-identity-js/es/AuthenticationHelper.js":
/*!****************************************************************************!*\
  !*** ./node_modules/amazon-cognito-identity-js/es/AuthenticationHelper.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AuthenticationHelper)\n/* harmony export */ });\n/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! buffer */ \"buffer\");\n/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(buffer__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_WordArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/WordArray */ \"(ssr)/./node_modules/amazon-cognito-identity-js/es/utils/WordArray.js\");\n/* harmony import */ var _aws_crypto_sha256_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @aws-crypto/sha256-js */ \"(ssr)/./node_modules/@aws-crypto/sha256-js/build/index.js\");\n/* harmony import */ var _aws_crypto_sha256_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_aws_crypto_sha256_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _BigInteger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BigInteger */ \"(ssr)/./node_modules/amazon-cognito-identity-js/es/BigInteger.js\");\n/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */ \n\n\n/**\n * Returns a Buffer with a sequence of random nBytes\n *\n * @param {number} nBytes\n * @returns {Buffer} fixed-length sequence of random bytes\n */ function randomBytes(nBytes) {\n    return buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(new _utils_WordArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"]().random(nBytes).toString(), \"hex\");\n}\n\n/**\n * Tests if a hex string has it most significant bit set (case-insensitive regex)\n */ var HEX_MSB_REGEX = /^[89a-f]/i;\nvar initN = \"FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD1\" + \"29024E088A67CC74020BBEA63B139B22514A08798E3404DD\" + \"EF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245\" + \"E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7ED\" + \"EE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3D\" + \"C2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F\" + \"83655D23DCA3AD961C62F356208552BB9ED529077096966D\" + \"670C354E4ABC9804F1746C08CA18217C32905E462E36CE3B\" + \"E39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9\" + \"DE2BCBF6955817183995497CEA956AE515D2261898FA0510\" + \"15728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64\" + \"ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7\" + \"ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6B\" + \"F12FFA06D98A0864D87602733EC86A64521F2B18177B200C\" + \"BBE117577A615D6C770988C0BAD946E208E24FA074E5AB31\" + \"43DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF\";\nvar newPasswordRequiredChallengeUserAttributePrefix = \"userAttributes.\";\n/** @class */ var AuthenticationHelper = /*#__PURE__*/ function() {\n    /**\n   * Constructs a new AuthenticationHelper object\n   * @param {string} PoolName Cognito user pool name.\n   */ function AuthenticationHelper(PoolName) {\n        this.N = new _BigInteger__WEBPACK_IMPORTED_MODULE_3__[\"default\"](initN, 16);\n        this.g = new _BigInteger__WEBPACK_IMPORTED_MODULE_3__[\"default\"](\"2\", 16);\n        this.k = new _BigInteger__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this.hexHash(\"\" + this.padHex(this.N) + this.padHex(this.g)), 16);\n        this.smallAValue = this.generateRandomSmallA();\n        this.getLargeAValue(function() {});\n        this.infoBits = buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(\"Caldera Derived Key\", \"utf8\");\n        this.poolName = PoolName;\n    }\n    /**\n   * @returns {BigInteger} small A, a random number\n   */ var _proto = AuthenticationHelper.prototype;\n    _proto.getSmallAValue = function getSmallAValue() {\n        return this.smallAValue;\n    } /**\n   * @param {nodeCallback<BigInteger>} callback Called with (err, largeAValue)\n   * @returns {void}\n   */ ;\n    _proto.getLargeAValue = function getLargeAValue(callback) {\n        var _this = this;\n        if (this.largeAValue) {\n            callback(null, this.largeAValue);\n        } else {\n            this.calculateA(this.smallAValue, function(err, largeAValue) {\n                if (err) {\n                    callback(err, null);\n                }\n                _this.largeAValue = largeAValue;\n                callback(null, _this.largeAValue);\n            });\n        }\n    } /**\n   * helper function to generate a random big integer\n   * @returns {BigInteger} a random value.\n   * @private\n   */ ;\n    _proto.generateRandomSmallA = function generateRandomSmallA() {\n        // This will be interpreted as a postive 128-bit integer\n        var hexRandom = randomBytes(128).toString(\"hex\");\n        var randomBigInt = new _BigInteger__WEBPACK_IMPORTED_MODULE_3__[\"default\"](hexRandom, 16);\n        // There is no need to do randomBigInt.mod(this.N - 1) as N (3072-bit) is > 128 bytes (1024-bit)\n        return randomBigInt;\n    } /**\n   * helper function to generate a random string\n   * @returns {string} a random value.\n   * @private\n   */ ;\n    _proto.generateRandomString = function generateRandomString() {\n        return randomBytes(40).toString(\"base64\");\n    } /**\n   * @returns {string} Generated random value included in password hash.\n   */ ;\n    _proto.getRandomPassword = function getRandomPassword() {\n        return this.randomPassword;\n    } /**\n   * @returns {string} Generated random value included in devices hash.\n   */ ;\n    _proto.getSaltDevices = function getSaltDevices() {\n        return this.SaltToHashDevices;\n    } /**\n   * @returns {string} Value used to verify devices.\n   */ ;\n    _proto.getVerifierDevices = function getVerifierDevices() {\n        return this.verifierDevices;\n    } /**\n   * Generate salts and compute verifier.\n   * @param {string} deviceGroupKey Devices to generate verifier for.\n   * @param {string} username User to generate verifier for.\n   * @param {nodeCallback<null>} callback Called with (err, null)\n   * @returns {void}\n   */ ;\n    _proto.generateHashDevice = function generateHashDevice(deviceGroupKey, username, callback) {\n        var _this2 = this;\n        this.randomPassword = this.generateRandomString();\n        var combinedString = \"\" + deviceGroupKey + username + \":\" + this.randomPassword;\n        var hashedString = this.hash(combinedString);\n        var hexRandom = randomBytes(16).toString(\"hex\");\n        // The random hex will be unambiguously represented as a postive integer\n        this.SaltToHashDevices = this.padHex(new _BigInteger__WEBPACK_IMPORTED_MODULE_3__[\"default\"](hexRandom, 16));\n        this.g.modPow(new _BigInteger__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this.hexHash(this.SaltToHashDevices + hashedString), 16), this.N, function(err, verifierDevicesNotPadded) {\n            if (err) {\n                callback(err, null);\n            }\n            _this2.verifierDevices = _this2.padHex(verifierDevicesNotPadded);\n            callback(null, null);\n        });\n    } /**\n   * Calculate the client's public value A = g^a%N\n   * with the generated random number a\n   * @param {BigInteger} a Randomly generated small A.\n   * @param {nodeCallback<BigInteger>} callback Called with (err, largeAValue)\n   * @returns {void}\n   * @private\n   */ ;\n    _proto.calculateA = function calculateA(a, callback) {\n        var _this3 = this;\n        this.g.modPow(a, this.N, function(err, A) {\n            if (err) {\n                callback(err, null);\n            }\n            if (A.mod(_this3.N).equals(_BigInteger__WEBPACK_IMPORTED_MODULE_3__[\"default\"].ZERO)) {\n                callback(new Error(\"Illegal paramater. A mod N cannot be 0.\"), null);\n            }\n            callback(null, A);\n        });\n    } /**\n   * Calculate the client's value U which is the hash of A and B\n   * @param {BigInteger} A Large A value.\n   * @param {BigInteger} B Server B value.\n   * @returns {BigInteger} Computed U value.\n   * @private\n   */ ;\n    _proto.calculateU = function calculateU(A, B) {\n        this.UHexHash = this.hexHash(this.padHex(A) + this.padHex(B));\n        var finalU = new _BigInteger__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this.UHexHash, 16);\n        return finalU;\n    } /**\n   * Calculate a hash from a bitArray\n   * @param {Buffer} buf Value to hash.\n   * @returns {String} Hex-encoded hash.\n   * @private\n   */ ;\n    _proto.hash = function hash(buf) {\n        var awsCryptoHash = new _aws_crypto_sha256_js__WEBPACK_IMPORTED_MODULE_2__.Sha256();\n        awsCryptoHash.update(buf);\n        var resultFromAWSCrypto = awsCryptoHash.digestSync();\n        var hashHex = buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(resultFromAWSCrypto).toString(\"hex\");\n        return new Array(64 - hashHex.length).join(\"0\") + hashHex;\n    } /**\n   * Calculate a hash from a hex string\n   * @param {String} hexStr Value to hash.\n   * @returns {String} Hex-encoded hash.\n   * @private\n   */ ;\n    _proto.hexHash = function hexHash(hexStr) {\n        return this.hash(buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(hexStr, \"hex\"));\n    } /**\n   * Standard hkdf algorithm\n   * @param {Buffer} ikm Input key material.\n   * @param {Buffer} salt Salt value.\n   * @returns {Buffer} Strong key material.\n   * @private\n   */ ;\n    _proto.computehkdf = function computehkdf(ikm, salt) {\n        var infoBitsBuffer = buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.concat([\n            this.infoBits,\n            buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(String.fromCharCode(1), \"utf8\")\n        ]);\n        var awsCryptoHash = new _aws_crypto_sha256_js__WEBPACK_IMPORTED_MODULE_2__.Sha256(salt);\n        awsCryptoHash.update(ikm);\n        var resultFromAWSCryptoPrk = awsCryptoHash.digestSync();\n        var awsCryptoHashHmac = new _aws_crypto_sha256_js__WEBPACK_IMPORTED_MODULE_2__.Sha256(resultFromAWSCryptoPrk);\n        awsCryptoHashHmac.update(infoBitsBuffer);\n        var resultFromAWSCryptoHmac = awsCryptoHashHmac.digestSync();\n        var hashHexFromAWSCrypto = resultFromAWSCryptoHmac;\n        var currentHex = hashHexFromAWSCrypto.slice(0, 16);\n        return currentHex;\n    } /**\n   * Calculates the final hkdf based on computed S value, and computed U value and the key\n   * @param {String} username Username.\n   * @param {String} password Password.\n   * @param {BigInteger} serverBValue Server B value.\n   * @param {BigInteger} salt Generated salt.\n   * @param {nodeCallback<Buffer>} callback Called with (err, hkdfValue)\n   * @returns {void}\n   */ ;\n    _proto.getPasswordAuthenticationKey = function getPasswordAuthenticationKey(username, password, serverBValue, salt, callback) {\n        var _this4 = this;\n        if (serverBValue.mod(this.N).equals(_BigInteger__WEBPACK_IMPORTED_MODULE_3__[\"default\"].ZERO)) {\n            throw new Error(\"B cannot be zero.\");\n        }\n        this.UValue = this.calculateU(this.largeAValue, serverBValue);\n        if (this.UValue.equals(_BigInteger__WEBPACK_IMPORTED_MODULE_3__[\"default\"].ZERO)) {\n            throw new Error(\"U cannot be zero.\");\n        }\n        var usernamePassword = \"\" + this.poolName + username + \":\" + password;\n        var usernamePasswordHash = this.hash(usernamePassword);\n        var xValue = new _BigInteger__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this.hexHash(this.padHex(salt) + usernamePasswordHash), 16);\n        this.calculateS(xValue, serverBValue, function(err, sValue) {\n            if (err) {\n                callback(err, null);\n            }\n            var hkdf = _this4.computehkdf(buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(_this4.padHex(sValue), \"hex\"), buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(_this4.padHex(_this4.UValue), \"hex\"));\n            callback(null, hkdf);\n        });\n    } /**\n   * Calculates the S value used in getPasswordAuthenticationKey\n   * @param {BigInteger} xValue Salted password hash value.\n   * @param {BigInteger} serverBValue Server B value.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */ ;\n    _proto.calculateS = function calculateS(xValue, serverBValue, callback) {\n        var _this5 = this;\n        this.g.modPow(xValue, this.N, function(err, gModPowXN) {\n            if (err) {\n                callback(err, null);\n            }\n            var intValue2 = serverBValue.subtract(_this5.k.multiply(gModPowXN));\n            intValue2.modPow(_this5.smallAValue.add(_this5.UValue.multiply(xValue)), _this5.N, function(err2, result) {\n                if (err2) {\n                    callback(err2, null);\n                }\n                callback(null, result.mod(_this5.N));\n            });\n        });\n    } /**\n   * Return constant newPasswordRequiredChallengeUserAttributePrefix\n   * @return {newPasswordRequiredChallengeUserAttributePrefix} constant prefix value\n   */ ;\n    _proto.getNewPasswordRequiredChallengeUserAttributePrefix = function getNewPasswordRequiredChallengeUserAttributePrefix() {\n        return newPasswordRequiredChallengeUserAttributePrefix;\n    } /**\n   * Returns an unambiguous, even-length hex string of the two's complement encoding of an integer.\n   *\n   * It is compatible with the hex encoding of Java's BigInteger's toByteArray(), wich returns a\n   * byte array containing the two's-complement representation of a BigInteger. The array contains\n   * the minimum number of bytes required to represent the BigInteger, including at least one sign bit.\n   *\n   * Examples showing how ambiguity is avoided by left padding with:\n   * \t\"00\" (for positive values where the most-significant-bit is set)\n   *  \"FF\" (for negative values where the most-significant-bit is set)\n   *\n   * padHex(bigInteger.fromInt(-236))  === \"FF14\"\n   * padHex(bigInteger.fromInt(20))    === \"14\"\n   *\n   * padHex(bigInteger.fromInt(-200))  === \"FF38\"\n   * padHex(bigInteger.fromInt(56))    === \"38\"\n   *\n   * padHex(bigInteger.fromInt(-20))   === \"EC\"\n   * padHex(bigInteger.fromInt(236))   === \"00EC\"\n   *\n   * padHex(bigInteger.fromInt(-56))   === \"C8\"\n   * padHex(bigInteger.fromInt(200))   === \"00C8\"\n   *\n   * @param {BigInteger} bigInt Number to encode.\n   * @returns {String} even-length hex string of the two's complement encoding.\n   */ ;\n    _proto.padHex = function padHex(bigInt) {\n        if (!(bigInt instanceof _BigInteger__WEBPACK_IMPORTED_MODULE_3__[\"default\"])) {\n            throw new Error(\"Not a BigInteger\");\n        }\n        var isNegative = bigInt.compareTo(_BigInteger__WEBPACK_IMPORTED_MODULE_3__[\"default\"].ZERO) < 0;\n        /* Get a hex string for abs(bigInt) */ var hexStr = bigInt.abs().toString(16);\n        /* Pad hex to even length if needed */ hexStr = hexStr.length % 2 !== 0 ? \"0\" + hexStr : hexStr;\n        /* Prepend \"00\" if the most significant bit is set */ hexStr = HEX_MSB_REGEX.test(hexStr) ? \"00\" + hexStr : hexStr;\n        if (isNegative) {\n            /* Flip the bits of the representation */ var invertedNibbles = hexStr.split(\"\").map(function(x) {\n                var invertedNibble = ~parseInt(x, 16) & 0xf;\n                return \"0123456789ABCDEF\".charAt(invertedNibble);\n            }).join(\"\");\n            /* After flipping the bits, add one to get the 2's complement representation */ var flippedBitsBI = new _BigInteger__WEBPACK_IMPORTED_MODULE_3__[\"default\"](invertedNibbles, 16).add(_BigInteger__WEBPACK_IMPORTED_MODULE_3__[\"default\"].ONE);\n            hexStr = flippedBitsBI.toString(16);\n            /*\n      For hex strings starting with 'FF8', 'FF' can be dropped, e.g. 0xFFFF80=0xFF80=0x80=-128\n      \t\tAny sequence of '1' bits on the left can always be substituted with a single '1' bit\n      without changing the represented value.\n      \t\tThis only happens in the case when the input is 80...00\n      */ if (hexStr.toUpperCase().startsWith(\"FF8\")) {\n                hexStr = hexStr.substring(2);\n            }\n        }\n        return hexStr;\n    };\n    return AuthenticationHelper;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYW1hem9uLWNvZ25pdG8taWRlbnRpdHktanMvZXMvQXV0aGVudGljYXRpb25IZWxwZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBOzs7Q0FHQyxHQUUrQjtBQUNVO0FBQ0s7QUFFL0M7Ozs7O0NBS0MsR0FFRCxTQUFTRyxZQUFZQyxNQUFNO0lBQ3pCLE9BQU9KLDBDQUFNQSxDQUFDSyxJQUFJLENBQUMsSUFBSUosd0RBQVNBLEdBQUdLLE1BQU0sQ0FBQ0YsUUFBUUcsUUFBUSxJQUFJO0FBQ2hFO0FBQ3NDO0FBRXRDOztDQUVDLEdBQ0QsSUFBSUUsZ0JBQWdCO0FBQ3BCLElBQUlDLFFBQVEscURBQXFELHFEQUFxRCxxREFBcUQscURBQXFELHFEQUFxRCxxREFBcUQscURBQXFELHFEQUFxRCxxREFBcUQscURBQXFELHFEQUFxRCxxREFBcUQscURBQXFELHFEQUFxRCxxREFBcUQ7QUFDdnlCLElBQUlDLGtEQUFrRDtBQUV0RCxXQUFXLEdBQ1gsSUFBSUMsdUJBQXVCLFdBQVcsR0FBRTtJQUN0Qzs7O0dBR0MsR0FDRCxTQUFTQSxxQkFBcUJDLFFBQVE7UUFDcEMsSUFBSSxDQUFDQyxDQUFDLEdBQUcsSUFBSU4sbURBQVVBLENBQUNFLE9BQU87UUFDL0IsSUFBSSxDQUFDSyxDQUFDLEdBQUcsSUFBSVAsbURBQVVBLENBQUMsS0FBSztRQUM3QixJQUFJLENBQUNRLENBQUMsR0FBRyxJQUFJUixtREFBVUEsQ0FBQyxJQUFJLENBQUNTLE9BQU8sQ0FBQyxLQUFLLElBQUksQ0FBQ0MsTUFBTSxDQUFDLElBQUksQ0FBQ0osQ0FBQyxJQUFJLElBQUksQ0FBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQ0gsQ0FBQyxJQUFJO1FBQ3RGLElBQUksQ0FBQ0ksV0FBVyxHQUFHLElBQUksQ0FBQ0Msb0JBQW9CO1FBQzVDLElBQUksQ0FBQ0MsY0FBYyxDQUFDLFlBQWE7UUFDakMsSUFBSSxDQUFDQyxRQUFRLEdBQUd0QiwwQ0FBTUEsQ0FBQ0ss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LFNBQVNBLE9BQU9rRCxTQUFTLENBQUM7WUFDNUI7UUFDRjtRQUNBLE9BQU9sRDtJQUNUO0lBQ0EsT0FBTzFEO0FBQ1Q7QUFDMkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mdXp6eS1vY3RvLWJyb2Njb2xpLW5leHQvLi9ub2RlX21vZHVsZXMvYW1hem9uLWNvZ25pdG8taWRlbnRpdHktanMvZXMvQXV0aGVudGljYXRpb25IZWxwZXIuanM/ZDU2NCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQgeyBCdWZmZXIgfSBmcm9tICdidWZmZXInO1xuaW1wb3J0IFdvcmRBcnJheSBmcm9tICcuL3V0aWxzL1dvcmRBcnJheSc7XG5pbXBvcnQgeyBTaGEyNTYgfSBmcm9tICdAYXdzLWNyeXB0by9zaGEyNTYtanMnO1xuXG4vKipcbiAqIFJldHVybnMgYSBCdWZmZXIgd2l0aCBhIHNlcXVlbmNlIG9mIHJhbmRvbSBuQnl0ZXNcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gbkJ5dGVzXG4gKiBAcmV0dXJucyB7QnVmZmVyfSBmaXhlZC1sZW5ndGggc2VxdWVuY2Ugb2YgcmFuZG9tIGJ5dGVzXG4gKi9cblxuZnVuY3Rpb24gcmFuZG9tQnl0ZXMobkJ5dGVzKSB7XG4gIHJldHVybiBCdWZmZXIuZnJvbShuZXcgV29yZEFycmF5KCkucmFuZG9tKG5CeXRlcykudG9TdHJpbmcoKSwgJ2hleCcpO1xufVxuaW1wb3J0IEJpZ0ludGVnZXIgZnJvbSAnLi9CaWdJbnRlZ2VyJztcblxuLyoqXG4gKiBUZXN0cyBpZiBhIGhleCBzdHJpbmcgaGFzIGl0IG1vc3Qgc2lnbmlmaWNhbnQgYml0IHNldCAoY2FzZS1pbnNlbnNpdGl2ZSByZWdleClcbiAqL1xudmFyIEhFWF9NU0JfUkVHRVggPSAvXls4OWEtZl0vaTtcbnZhciBpbml0TiA9ICdGRkZGRkZGRkZGRkZGRkZGQzkwRkRBQTIyMTY4QzIzNEM0QzY2MjhCODBEQzFDRDEnICsgJzI5MDI0RTA4OEE2N0NDNzQwMjBCQkVBNjNCMTM5QjIyNTE0QTA4Nzk4RTM0MDRERCcgKyAnRUY5NTE5QjNDRDNBNDMxQjMwMkIwQTZERjI1RjE0Mzc0RkUxMzU2RDZENTFDMjQ1JyArICdFNDg1QjU3NjYyNUU3RUM2RjQ0QzQyRTlBNjM3RUQ2QjBCRkY1Q0I2RjQwNkI3RUQnICsgJ0VFMzg2QkZCNUE4OTlGQTVBRTlGMjQxMTdDNEIxRkU2NDkyODY2NTFFQ0U0NUIzRCcgKyAnQzIwMDdDQjhBMTYzQkYwNTk4REE0ODM2MUM1NUQzOUE2OTE2M0ZBOEZEMjRDRjVGJyArICc4MzY1NUQyM0RDQTNBRDk2MUM2MkYzNTYyMDg1NTJCQjlFRDUyOTA3NzA5Njk2NkQnICsgJzY3MEMzNTRFNEFCQzk4MDRGMTc0NkMwOENBMTgyMTdDMzI5MDVFNDYyRTM2Q0UzQicgKyAnRTM5RTc3MkMxODBFODYwMzlCMjc4M0EyRUMwN0EyOEZCNUM1NURGMDZGNEM1MkM5JyArICdERTJCQ0JGNjk1NTgxNzE4Mzk5NTQ5N0NFQTk1NkFFNTE1RDIyNjE4OThGQTA1MTAnICsgJzE1NzI4RTVBOEFBQUM0MkRBRDMzMTcwRDA0NTA3QTMzQTg1NTIxQUJERjFDQkE2NCcgKyAnRUNGQjg1MDQ1OERCRUYwQThBRUE3MTU3NUQwNjBDN0RCMzk3MEY4NUE2RTFFNEM3JyArICdBQkY1QUU4Q0RCMDkzM0Q3MUU4Qzk0RTA0QTI1NjE5RENFRTNEMjI2MUFEMkVFNkInICsgJ0YxMkZGQTA2RDk4QTA4NjREODc2MDI3MzNFQzg2QTY0NTIxRjJCMTgxNzdCMjAwQycgKyAnQkJFMTE3NTc3QTYxNUQ2Qzc3MDk4OEMwQkFEOTQ2RTIwOEUyNEZBMDc0RTVBQjMxJyArICc0M0RCNUJGQ0UwRkQxMDhFNEI4MkQxMjBBOTNBRDJDQUZGRkZGRkZGRkZGRkZGRkYnO1xudmFyIG5ld1Bhc3N3b3JkUmVxdWlyZWRDaGFsbGVuZ2VVc2VyQXR0cmlidXRlUHJlZml4ID0gJ3VzZXJBdHRyaWJ1dGVzLic7XG5cbi8qKiBAY2xhc3MgKi9cbnZhciBBdXRoZW50aWNhdGlvbkhlbHBlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgbmV3IEF1dGhlbnRpY2F0aW9uSGVscGVyIG9iamVjdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gUG9vbE5hbWUgQ29nbml0byB1c2VyIHBvb2wgbmFtZS5cbiAgICovXG4gIGZ1bmN0aW9uIEF1dGhlbnRpY2F0aW9uSGVscGVyKFBvb2xOYW1lKSB7XG4gICAgdGhpcy5OID0gbmV3IEJpZ0ludGVnZXIoaW5pdE4sIDE2KTtcbiAgICB0aGlzLmcgPSBuZXcgQmlnSW50ZWdlcignMicsIDE2KTtcbiAgICB0aGlzLmsgPSBuZXcgQmlnSW50ZWdlcih0aGlzLmhleEhhc2goXCJcIiArIHRoaXMucGFkSGV4KHRoaXMuTikgKyB0aGlzLnBhZEhleCh0aGlzLmcpKSwgMTYpO1xuICAgIHRoaXMuc21hbGxBVmFsdWUgPSB0aGlzLmdlbmVyYXRlUmFuZG9tU21hbGxBKCk7XG4gICAgdGhpcy5nZXRMYXJnZUFWYWx1ZShmdW5jdGlvbiAoKSB7fSk7XG4gICAgdGhpcy5pbmZvQml0cyA9IEJ1ZmZlci5mcm9tKCdDYWxkZXJhIERlcml2ZWQgS2V5JywgJ3V0ZjgnKTtcbiAgICB0aGlzLnBvb2xOYW1lID0gUG9vbE5hbWU7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge0JpZ0ludGVnZXJ9IHNtYWxsIEEsIGEgcmFuZG9tIG51bWJlclxuICAgKi9cbiAgdmFyIF9wcm90byA9IEF1dGhlbnRpY2F0aW9uSGVscGVyLnByb3RvdHlwZTtcbiAgX3Byb3RvLmdldFNtYWxsQVZhbHVlID0gZnVuY3Rpb24gZ2V0U21hbGxBVmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc21hbGxBVmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtub2RlQ2FsbGJhY2s8QmlnSW50ZWdlcj59IGNhbGxiYWNrIENhbGxlZCB3aXRoIChlcnIsIGxhcmdlQVZhbHVlKVxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovO1xuICBfcHJvdG8uZ2V0TGFyZ2VBVmFsdWUgPSBmdW5jdGlvbiBnZXRMYXJnZUFWYWx1ZShjYWxsYmFjaykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgaWYgKHRoaXMubGFyZ2VBVmFsdWUpIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIHRoaXMubGFyZ2VBVmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNhbGN1bGF0ZUEodGhpcy5zbWFsbEFWYWx1ZSwgZnVuY3Rpb24gKGVyciwgbGFyZ2VBVmFsdWUpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIGNhbGxiYWNrKGVyciwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMubGFyZ2VBVmFsdWUgPSBsYXJnZUFWYWx1ZTtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgX3RoaXMubGFyZ2VBVmFsdWUpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIGhlbHBlciBmdW5jdGlvbiB0byBnZW5lcmF0ZSBhIHJhbmRvbSBiaWcgaW50ZWdlclxuICAgKiBAcmV0dXJucyB7QmlnSW50ZWdlcn0gYSByYW5kb20gdmFsdWUuXG4gICAqIEBwcml2YXRlXG4gICAqLztcbiAgX3Byb3RvLmdlbmVyYXRlUmFuZG9tU21hbGxBID0gZnVuY3Rpb24gZ2VuZXJhdGVSYW5kb21TbWFsbEEoKSB7XG4gICAgLy8gVGhpcyB3aWxsIGJlIGludGVycHJldGVkIGFzIGEgcG9zdGl2ZSAxMjgtYml0IGludGVnZXJcbiAgICB2YXIgaGV4UmFuZG9tID0gcmFuZG9tQnl0ZXMoMTI4KS50b1N0cmluZygnaGV4Jyk7XG4gICAgdmFyIHJhbmRvbUJpZ0ludCA9IG5ldyBCaWdJbnRlZ2VyKGhleFJhbmRvbSwgMTYpO1xuXG4gICAgLy8gVGhlcmUgaXMgbm8gbmVlZCB0byBkbyByYW5kb21CaWdJbnQubW9kKHRoaXMuTiAtIDEpIGFzIE4gKDMwNzItYml0KSBpcyA+IDEyOCBieXRlcyAoMTAyNC1iaXQpXG5cbiAgICByZXR1cm4gcmFuZG9tQmlnSW50O1xuICB9XG5cbiAgLyoqXG4gICAqIGhlbHBlciBmdW5jdGlvbiB0byBnZW5lcmF0ZSBhIHJhbmRvbSBzdHJpbmdcbiAgICogQHJldHVybnMge3N0cmluZ30gYSByYW5kb20gdmFsdWUuXG4gICAqIEBwcml2YXRlXG4gICAqLztcbiAgX3Byb3RvLmdlbmVyYXRlUmFuZG9tU3RyaW5nID0gZnVuY3Rpb24gZ2VuZXJhdGVSYW5kb21TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHJhbmRvbUJ5dGVzKDQwKS50b1N0cmluZygnYmFzZTY0Jyk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge3N0cmluZ30gR2VuZXJhdGVkIHJhbmRvbSB2YWx1ZSBpbmNsdWRlZCBpbiBwYXNzd29yZCBoYXNoLlxuICAgKi87XG4gIF9wcm90by5nZXRSYW5kb21QYXNzd29yZCA9IGZ1bmN0aW9uIGdldFJhbmRvbVBhc3N3b3JkKCkge1xuICAgIHJldHVybiB0aGlzLnJhbmRvbVBhc3N3b3JkO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IEdlbmVyYXRlZCByYW5kb20gdmFsdWUgaW5jbHVkZWQgaW4gZGV2aWNlcyBoYXNoLlxuICAgKi87XG4gIF9wcm90by5nZXRTYWx0RGV2aWNlcyA9IGZ1bmN0aW9uIGdldFNhbHREZXZpY2VzKCkge1xuICAgIHJldHVybiB0aGlzLlNhbHRUb0hhc2hEZXZpY2VzO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFZhbHVlIHVzZWQgdG8gdmVyaWZ5IGRldmljZXMuXG4gICAqLztcbiAgX3Byb3RvLmdldFZlcmlmaWVyRGV2aWNlcyA9IGZ1bmN0aW9uIGdldFZlcmlmaWVyRGV2aWNlcygpIHtcbiAgICByZXR1cm4gdGhpcy52ZXJpZmllckRldmljZXM7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgc2FsdHMgYW5kIGNvbXB1dGUgdmVyaWZpZXIuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkZXZpY2VHcm91cEtleSBEZXZpY2VzIHRvIGdlbmVyYXRlIHZlcmlmaWVyIGZvci5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHVzZXJuYW1lIFVzZXIgdG8gZ2VuZXJhdGUgdmVyaWZpZXIgZm9yLlxuICAgKiBAcGFyYW0ge25vZGVDYWxsYmFjazxudWxsPn0gY2FsbGJhY2sgQ2FsbGVkIHdpdGggKGVyciwgbnVsbClcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqLztcbiAgX3Byb3RvLmdlbmVyYXRlSGFzaERldmljZSA9IGZ1bmN0aW9uIGdlbmVyYXRlSGFzaERldmljZShkZXZpY2VHcm91cEtleSwgdXNlcm5hbWUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG4gICAgdGhpcy5yYW5kb21QYXNzd29yZCA9IHRoaXMuZ2VuZXJhdGVSYW5kb21TdHJpbmcoKTtcbiAgICB2YXIgY29tYmluZWRTdHJpbmcgPSBcIlwiICsgZGV2aWNlR3JvdXBLZXkgKyB1c2VybmFtZSArIFwiOlwiICsgdGhpcy5yYW5kb21QYXNzd29yZDtcbiAgICB2YXIgaGFzaGVkU3RyaW5nID0gdGhpcy5oYXNoKGNvbWJpbmVkU3RyaW5nKTtcbiAgICB2YXIgaGV4UmFuZG9tID0gcmFuZG9tQnl0ZXMoMTYpLnRvU3RyaW5nKCdoZXgnKTtcblxuICAgIC8vIFRoZSByYW5kb20gaGV4IHdpbGwgYmUgdW5hbWJpZ3VvdXNseSByZXByZXNlbnRlZCBhcyBhIHBvc3RpdmUgaW50ZWdlclxuICAgIHRoaXMuU2FsdFRvSGFzaERldmljZXMgPSB0aGlzLnBhZEhleChuZXcgQmlnSW50ZWdlcihoZXhSYW5kb20sIDE2KSk7XG4gICAgdGhpcy5nLm1vZFBvdyhuZXcgQmlnSW50ZWdlcih0aGlzLmhleEhhc2godGhpcy5TYWx0VG9IYXNoRGV2aWNlcyArIGhhc2hlZFN0cmluZyksIDE2KSwgdGhpcy5OLCBmdW5jdGlvbiAoZXJyLCB2ZXJpZmllckRldmljZXNOb3RQYWRkZWQpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgY2FsbGJhY2soZXJyLCBudWxsKTtcbiAgICAgIH1cbiAgICAgIF90aGlzMi52ZXJpZmllckRldmljZXMgPSBfdGhpczIucGFkSGV4KHZlcmlmaWVyRGV2aWNlc05vdFBhZGRlZCk7XG4gICAgICBjYWxsYmFjayhudWxsLCBudWxsKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIGNsaWVudCdzIHB1YmxpYyB2YWx1ZSBBID0gZ15hJU5cbiAgICogd2l0aCB0aGUgZ2VuZXJhdGVkIHJhbmRvbSBudW1iZXIgYVxuICAgKiBAcGFyYW0ge0JpZ0ludGVnZXJ9IGEgUmFuZG9tbHkgZ2VuZXJhdGVkIHNtYWxsIEEuXG4gICAqIEBwYXJhbSB7bm9kZUNhbGxiYWNrPEJpZ0ludGVnZXI+fSBjYWxsYmFjayBDYWxsZWQgd2l0aCAoZXJyLCBsYXJnZUFWYWx1ZSlcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqIEBwcml2YXRlXG4gICAqLztcbiAgX3Byb3RvLmNhbGN1bGF0ZUEgPSBmdW5jdGlvbiBjYWxjdWxhdGVBKGEsIGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzMyA9IHRoaXM7XG4gICAgdGhpcy5nLm1vZFBvdyhhLCB0aGlzLk4sIGZ1bmN0aW9uIChlcnIsIEEpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgY2FsbGJhY2soZXJyLCBudWxsKTtcbiAgICAgIH1cbiAgICAgIGlmIChBLm1vZChfdGhpczMuTikuZXF1YWxzKEJpZ0ludGVnZXIuWkVSTykpIHtcbiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCdJbGxlZ2FsIHBhcmFtYXRlci4gQSBtb2QgTiBjYW5ub3QgYmUgMC4nKSwgbnVsbCk7XG4gICAgICB9XG4gICAgICBjYWxsYmFjayhudWxsLCBBKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIGNsaWVudCdzIHZhbHVlIFUgd2hpY2ggaXMgdGhlIGhhc2ggb2YgQSBhbmQgQlxuICAgKiBAcGFyYW0ge0JpZ0ludGVnZXJ9IEEgTGFyZ2UgQSB2YWx1ZS5cbiAgICogQHBhcmFtIHtCaWdJbnRlZ2VyfSBCIFNlcnZlciBCIHZhbHVlLlxuICAgKiBAcmV0dXJucyB7QmlnSW50ZWdlcn0gQ29tcHV0ZWQgVSB2YWx1ZS5cbiAgICogQHByaXZhdGVcbiAgICovO1xuICBfcHJvdG8uY2FsY3VsYXRlVSA9IGZ1bmN0aW9uIGNhbGN1bGF0ZVUoQSwgQikge1xuICAgIHRoaXMuVUhleEhhc2ggPSB0aGlzLmhleEhhc2godGhpcy5wYWRIZXgoQSkgKyB0aGlzLnBhZEhleChCKSk7XG4gICAgdmFyIGZpbmFsVSA9IG5ldyBCaWdJbnRlZ2VyKHRoaXMuVUhleEhhc2gsIDE2KTtcbiAgICByZXR1cm4gZmluYWxVO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSBhIGhhc2ggZnJvbSBhIGJpdEFycmF5XG4gICAqIEBwYXJhbSB7QnVmZmVyfSBidWYgVmFsdWUgdG8gaGFzaC5cbiAgICogQHJldHVybnMge1N0cmluZ30gSGV4LWVuY29kZWQgaGFzaC5cbiAgICogQHByaXZhdGVcbiAgICovO1xuICBfcHJvdG8uaGFzaCA9IGZ1bmN0aW9uIGhhc2goYnVmKSB7XG4gICAgdmFyIGF3c0NyeXB0b0hhc2ggPSBuZXcgU2hhMjU2KCk7XG4gICAgYXdzQ3J5cHRvSGFzaC51cGRhdGUoYnVmKTtcbiAgICB2YXIgcmVzdWx0RnJvbUFXU0NyeXB0byA9IGF3c0NyeXB0b0hhc2guZGlnZXN0U3luYygpO1xuICAgIHZhciBoYXNoSGV4ID0gQnVmZmVyLmZyb20ocmVzdWx0RnJvbUFXU0NyeXB0bykudG9TdHJpbmcoJ2hleCcpO1xuICAgIHJldHVybiBuZXcgQXJyYXkoNjQgLSBoYXNoSGV4Lmxlbmd0aCkuam9pbignMCcpICsgaGFzaEhleDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgYSBoYXNoIGZyb20gYSBoZXggc3RyaW5nXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBoZXhTdHIgVmFsdWUgdG8gaGFzaC5cbiAgICogQHJldHVybnMge1N0cmluZ30gSGV4LWVuY29kZWQgaGFzaC5cbiAgICogQHByaXZhdGVcbiAgICovO1xuICBfcHJvdG8uaGV4SGFzaCA9IGZ1bmN0aW9uIGhleEhhc2goaGV4U3RyKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzaChCdWZmZXIuZnJvbShoZXhTdHIsICdoZXgnKSk7XG4gIH1cblxuICAvKipcbiAgICogU3RhbmRhcmQgaGtkZiBhbGdvcml0aG1cbiAgICogQHBhcmFtIHtCdWZmZXJ9IGlrbSBJbnB1dCBrZXkgbWF0ZXJpYWwuXG4gICAqIEBwYXJhbSB7QnVmZmVyfSBzYWx0IFNhbHQgdmFsdWUuXG4gICAqIEByZXR1cm5zIHtCdWZmZXJ9IFN0cm9uZyBrZXkgbWF0ZXJpYWwuXG4gICAqIEBwcml2YXRlXG4gICAqLztcbiAgX3Byb3RvLmNvbXB1dGVoa2RmID0gZnVuY3Rpb24gY29tcHV0ZWhrZGYoaWttLCBzYWx0KSB7XG4gICAgdmFyIGluZm9CaXRzQnVmZmVyID0gQnVmZmVyLmNvbmNhdChbdGhpcy5pbmZvQml0cywgQnVmZmVyLmZyb20oU3RyaW5nLmZyb21DaGFyQ29kZSgxKSwgJ3V0ZjgnKV0pO1xuICAgIHZhciBhd3NDcnlwdG9IYXNoID0gbmV3IFNoYTI1NihzYWx0KTtcbiAgICBhd3NDcnlwdG9IYXNoLnVwZGF0ZShpa20pO1xuICAgIHZhciByZXN1bHRGcm9tQVdTQ3J5cHRvUHJrID0gYXdzQ3J5cHRvSGFzaC5kaWdlc3RTeW5jKCk7XG4gICAgdmFyIGF3c0NyeXB0b0hhc2hIbWFjID0gbmV3IFNoYTI1NihyZXN1bHRGcm9tQVdTQ3J5cHRvUHJrKTtcbiAgICBhd3NDcnlwdG9IYXNoSG1hYy51cGRhdGUoaW5mb0JpdHNCdWZmZXIpO1xuICAgIHZhciByZXN1bHRGcm9tQVdTQ3J5cHRvSG1hYyA9IGF3c0NyeXB0b0hhc2hIbWFjLmRpZ2VzdFN5bmMoKTtcbiAgICB2YXIgaGFzaEhleEZyb21BV1NDcnlwdG8gPSByZXN1bHRGcm9tQVdTQ3J5cHRvSG1hYztcbiAgICB2YXIgY3VycmVudEhleCA9IGhhc2hIZXhGcm9tQVdTQ3J5cHRvLnNsaWNlKDAsIDE2KTtcbiAgICByZXR1cm4gY3VycmVudEhleDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIHRoZSBmaW5hbCBoa2RmIGJhc2VkIG9uIGNvbXB1dGVkIFMgdmFsdWUsIGFuZCBjb21wdXRlZCBVIHZhbHVlIGFuZCB0aGUga2V5XG4gICAqIEBwYXJhbSB7U3RyaW5nfSB1c2VybmFtZSBVc2VybmFtZS5cbiAgICogQHBhcmFtIHtTdHJpbmd9IHBhc3N3b3JkIFBhc3N3b3JkLlxuICAgKiBAcGFyYW0ge0JpZ0ludGVnZXJ9IHNlcnZlckJWYWx1ZSBTZXJ2ZXIgQiB2YWx1ZS5cbiAgICogQHBhcmFtIHtCaWdJbnRlZ2VyfSBzYWx0IEdlbmVyYXRlZCBzYWx0LlxuICAgKiBAcGFyYW0ge25vZGVDYWxsYmFjazxCdWZmZXI+fSBjYWxsYmFjayBDYWxsZWQgd2l0aCAoZXJyLCBoa2RmVmFsdWUpXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi87XG4gIF9wcm90by5nZXRQYXNzd29yZEF1dGhlbnRpY2F0aW9uS2V5ID0gZnVuY3Rpb24gZ2V0UGFzc3dvcmRBdXRoZW50aWNhdGlvbktleSh1c2VybmFtZSwgcGFzc3dvcmQsIHNlcnZlckJWYWx1ZSwgc2FsdCwgY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXM0ID0gdGhpcztcbiAgICBpZiAoc2VydmVyQlZhbHVlLm1vZCh0aGlzLk4pLmVxdWFscyhCaWdJbnRlZ2VyLlpFUk8pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0IgY2Fubm90IGJlIHplcm8uJyk7XG4gICAgfVxuICAgIHRoaXMuVVZhbHVlID0gdGhpcy5jYWxjdWxhdGVVKHRoaXMubGFyZ2VBVmFsdWUsIHNlcnZlckJWYWx1ZSk7XG4gICAgaWYgKHRoaXMuVVZhbHVlLmVxdWFscyhCaWdJbnRlZ2VyLlpFUk8pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1UgY2Fubm90IGJlIHplcm8uJyk7XG4gICAgfVxuICAgIHZhciB1c2VybmFtZVBhc3N3b3JkID0gXCJcIiArIHRoaXMucG9vbE5hbWUgKyB1c2VybmFtZSArIFwiOlwiICsgcGFzc3dvcmQ7XG4gICAgdmFyIHVzZXJuYW1lUGFzc3dvcmRIYXNoID0gdGhpcy5oYXNoKHVzZXJuYW1lUGFzc3dvcmQpO1xuICAgIHZhciB4VmFsdWUgPSBuZXcgQmlnSW50ZWdlcih0aGlzLmhleEhhc2godGhpcy5wYWRIZXgoc2FsdCkgKyB1c2VybmFtZVBhc3N3b3JkSGFzaCksIDE2KTtcbiAgICB0aGlzLmNhbGN1bGF0ZVMoeFZhbHVlLCBzZXJ2ZXJCVmFsdWUsIGZ1bmN0aW9uIChlcnIsIHNWYWx1ZSkge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBjYWxsYmFjayhlcnIsIG51bGwpO1xuICAgICAgfVxuICAgICAgdmFyIGhrZGYgPSBfdGhpczQuY29tcHV0ZWhrZGYoQnVmZmVyLmZyb20oX3RoaXM0LnBhZEhleChzVmFsdWUpLCAnaGV4JyksIEJ1ZmZlci5mcm9tKF90aGlzNC5wYWRIZXgoX3RoaXM0LlVWYWx1ZSksICdoZXgnKSk7XG4gICAgICBjYWxsYmFjayhudWxsLCBoa2RmKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIHRoZSBTIHZhbHVlIHVzZWQgaW4gZ2V0UGFzc3dvcmRBdXRoZW50aWNhdGlvbktleVxuICAgKiBAcGFyYW0ge0JpZ0ludGVnZXJ9IHhWYWx1ZSBTYWx0ZWQgcGFzc3dvcmQgaGFzaCB2YWx1ZS5cbiAgICogQHBhcmFtIHtCaWdJbnRlZ2VyfSBzZXJ2ZXJCVmFsdWUgU2VydmVyIEIgdmFsdWUuXG4gICAqIEBwYXJhbSB7bm9kZUNhbGxiYWNrPHN0cmluZz59IGNhbGxiYWNrIENhbGxlZCBvbiBzdWNjZXNzIG9yIGVycm9yLlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovO1xuICBfcHJvdG8uY2FsY3VsYXRlUyA9IGZ1bmN0aW9uIGNhbGN1bGF0ZVMoeFZhbHVlLCBzZXJ2ZXJCVmFsdWUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzNSA9IHRoaXM7XG4gICAgdGhpcy5nLm1vZFBvdyh4VmFsdWUsIHRoaXMuTiwgZnVuY3Rpb24gKGVyciwgZ01vZFBvd1hOKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIGNhbGxiYWNrKGVyciwgbnVsbCk7XG4gICAgICB9XG4gICAgICB2YXIgaW50VmFsdWUyID0gc2VydmVyQlZhbHVlLnN1YnRyYWN0KF90aGlzNS5rLm11bHRpcGx5KGdNb2RQb3dYTikpO1xuICAgICAgaW50VmFsdWUyLm1vZFBvdyhfdGhpczUuc21hbGxBVmFsdWUuYWRkKF90aGlzNS5VVmFsdWUubXVsdGlwbHkoeFZhbHVlKSksIF90aGlzNS5OLCBmdW5jdGlvbiAoZXJyMiwgcmVzdWx0KSB7XG4gICAgICAgIGlmIChlcnIyKSB7XG4gICAgICAgICAgY2FsbGJhY2soZXJyMiwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0Lm1vZChfdGhpczUuTikpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIGNvbnN0YW50IG5ld1Bhc3N3b3JkUmVxdWlyZWRDaGFsbGVuZ2VVc2VyQXR0cmlidXRlUHJlZml4XG4gICAqIEByZXR1cm4ge25ld1Bhc3N3b3JkUmVxdWlyZWRDaGFsbGVuZ2VVc2VyQXR0cmlidXRlUHJlZml4fSBjb25zdGFudCBwcmVmaXggdmFsdWVcbiAgICovO1xuICBfcHJvdG8uZ2V0TmV3UGFzc3dvcmRSZXF1aXJlZENoYWxsZW5nZVVzZXJBdHRyaWJ1dGVQcmVmaXggPSBmdW5jdGlvbiBnZXROZXdQYXNzd29yZFJlcXVpcmVkQ2hhbGxlbmdlVXNlckF0dHJpYnV0ZVByZWZpeCgpIHtcbiAgICByZXR1cm4gbmV3UGFzc3dvcmRSZXF1aXJlZENoYWxsZW5nZVVzZXJBdHRyaWJ1dGVQcmVmaXg7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhbiB1bmFtYmlndW91cywgZXZlbi1sZW5ndGggaGV4IHN0cmluZyBvZiB0aGUgdHdvJ3MgY29tcGxlbWVudCBlbmNvZGluZyBvZiBhbiBpbnRlZ2VyLlxuICAgKlxuICAgKiBJdCBpcyBjb21wYXRpYmxlIHdpdGggdGhlIGhleCBlbmNvZGluZyBvZiBKYXZhJ3MgQmlnSW50ZWdlcidzIHRvQnl0ZUFycmF5KCksIHdpY2ggcmV0dXJucyBhXG4gICAqIGJ5dGUgYXJyYXkgY29udGFpbmluZyB0aGUgdHdvJ3MtY29tcGxlbWVudCByZXByZXNlbnRhdGlvbiBvZiBhIEJpZ0ludGVnZXIuIFRoZSBhcnJheSBjb250YWluc1xuICAgKiB0aGUgbWluaW11bSBudW1iZXIgb2YgYnl0ZXMgcmVxdWlyZWQgdG8gcmVwcmVzZW50IHRoZSBCaWdJbnRlZ2VyLCBpbmNsdWRpbmcgYXQgbGVhc3Qgb25lIHNpZ24gYml0LlxuICAgKlxuICAgKiBFeGFtcGxlcyBzaG93aW5nIGhvdyBhbWJpZ3VpdHkgaXMgYXZvaWRlZCBieSBsZWZ0IHBhZGRpbmcgd2l0aDpcbiAgICogXHRcIjAwXCIgKGZvciBwb3NpdGl2ZSB2YWx1ZXMgd2hlcmUgdGhlIG1vc3Qtc2lnbmlmaWNhbnQtYml0IGlzIHNldClcbiAgICogIFwiRkZcIiAoZm9yIG5lZ2F0aXZlIHZhbHVlcyB3aGVyZSB0aGUgbW9zdC1zaWduaWZpY2FudC1iaXQgaXMgc2V0KVxuICAgKlxuICAgKiBwYWRIZXgoYmlnSW50ZWdlci5mcm9tSW50KC0yMzYpKSAgPT09IFwiRkYxNFwiXG4gICAqIHBhZEhleChiaWdJbnRlZ2VyLmZyb21JbnQoMjApKSAgICA9PT0gXCIxNFwiXG4gICAqXG4gICAqIHBhZEhleChiaWdJbnRlZ2VyLmZyb21JbnQoLTIwMCkpICA9PT0gXCJGRjM4XCJcbiAgICogcGFkSGV4KGJpZ0ludGVnZXIuZnJvbUludCg1NikpICAgID09PSBcIjM4XCJcbiAgICpcbiAgICogcGFkSGV4KGJpZ0ludGVnZXIuZnJvbUludCgtMjApKSAgID09PSBcIkVDXCJcbiAgICogcGFkSGV4KGJpZ0ludGVnZXIuZnJvbUludCgyMzYpKSAgID09PSBcIjAwRUNcIlxuICAgKlxuICAgKiBwYWRIZXgoYmlnSW50ZWdlci5mcm9tSW50KC01NikpICAgPT09IFwiQzhcIlxuICAgKiBwYWRIZXgoYmlnSW50ZWdlci5mcm9tSW50KDIwMCkpICAgPT09IFwiMDBDOFwiXG4gICAqXG4gICAqIEBwYXJhbSB7QmlnSW50ZWdlcn0gYmlnSW50IE51bWJlciB0byBlbmNvZGUuXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IGV2ZW4tbGVuZ3RoIGhleCBzdHJpbmcgb2YgdGhlIHR3bydzIGNvbXBsZW1lbnQgZW5jb2RpbmcuXG4gICAqLztcbiAgX3Byb3RvLnBhZEhleCA9IGZ1bmN0aW9uIHBhZEhleChiaWdJbnQpIHtcbiAgICBpZiAoIShiaWdJbnQgaW5zdGFuY2VvZiBCaWdJbnRlZ2VyKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgYSBCaWdJbnRlZ2VyJyk7XG4gICAgfVxuICAgIHZhciBpc05lZ2F0aXZlID0gYmlnSW50LmNvbXBhcmVUbyhCaWdJbnRlZ2VyLlpFUk8pIDwgMDtcblxuICAgIC8qIEdldCBhIGhleCBzdHJpbmcgZm9yIGFicyhiaWdJbnQpICovXG4gICAgdmFyIGhleFN0ciA9IGJpZ0ludC5hYnMoKS50b1N0cmluZygxNik7XG5cbiAgICAvKiBQYWQgaGV4IHRvIGV2ZW4gbGVuZ3RoIGlmIG5lZWRlZCAqL1xuICAgIGhleFN0ciA9IGhleFN0ci5sZW5ndGggJSAyICE9PSAwID8gXCIwXCIgKyBoZXhTdHIgOiBoZXhTdHI7XG5cbiAgICAvKiBQcmVwZW5kIFwiMDBcIiBpZiB0aGUgbW9zdCBzaWduaWZpY2FudCBiaXQgaXMgc2V0ICovXG4gICAgaGV4U3RyID0gSEVYX01TQl9SRUdFWC50ZXN0KGhleFN0cikgPyBcIjAwXCIgKyBoZXhTdHIgOiBoZXhTdHI7XG4gICAgaWYgKGlzTmVnYXRpdmUpIHtcbiAgICAgIC8qIEZsaXAgdGhlIGJpdHMgb2YgdGhlIHJlcHJlc2VudGF0aW9uICovXG4gICAgICB2YXIgaW52ZXJ0ZWROaWJibGVzID0gaGV4U3RyLnNwbGl0KCcnKS5tYXAoZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgdmFyIGludmVydGVkTmliYmxlID0gfnBhcnNlSW50KHgsIDE2KSAmIDB4ZjtcbiAgICAgICAgcmV0dXJuICcwMTIzNDU2Nzg5QUJDREVGJy5jaGFyQXQoaW52ZXJ0ZWROaWJibGUpO1xuICAgICAgfSkuam9pbignJyk7XG5cbiAgICAgIC8qIEFmdGVyIGZsaXBwaW5nIHRoZSBiaXRzLCBhZGQgb25lIHRvIGdldCB0aGUgMidzIGNvbXBsZW1lbnQgcmVwcmVzZW50YXRpb24gKi9cbiAgICAgIHZhciBmbGlwcGVkQml0c0JJID0gbmV3IEJpZ0ludGVnZXIoaW52ZXJ0ZWROaWJibGVzLCAxNikuYWRkKEJpZ0ludGVnZXIuT05FKTtcbiAgICAgIGhleFN0ciA9IGZsaXBwZWRCaXRzQkkudG9TdHJpbmcoMTYpO1xuXG4gICAgICAvKlxuICAgICAgRm9yIGhleCBzdHJpbmdzIHN0YXJ0aW5nIHdpdGggJ0ZGOCcsICdGRicgY2FuIGJlIGRyb3BwZWQsIGUuZy4gMHhGRkZGODA9MHhGRjgwPTB4ODA9LTEyOFxuICAgICAgXHRcdEFueSBzZXF1ZW5jZSBvZiAnMScgYml0cyBvbiB0aGUgbGVmdCBjYW4gYWx3YXlzIGJlIHN1YnN0aXR1dGVkIHdpdGggYSBzaW5nbGUgJzEnIGJpdFxuICAgICAgd2l0aG91dCBjaGFuZ2luZyB0aGUgcmVwcmVzZW50ZWQgdmFsdWUuXG4gICAgICBcdFx0VGhpcyBvbmx5IGhhcHBlbnMgaW4gdGhlIGNhc2Ugd2hlbiB0aGUgaW5wdXQgaXMgODAuLi4wMFxuICAgICAgKi9cbiAgICAgIGlmIChoZXhTdHIudG9VcHBlckNhc2UoKS5zdGFydHNXaXRoKCdGRjgnKSkge1xuICAgICAgICBoZXhTdHIgPSBoZXhTdHIuc3Vic3RyaW5nKDIpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaGV4U3RyO1xuICB9O1xuICByZXR1cm4gQXV0aGVudGljYXRpb25IZWxwZXI7XG59KCk7XG5leHBvcnQgeyBBdXRoZW50aWNhdGlvbkhlbHBlciBhcyBkZWZhdWx0IH07Il0sIm5hbWVzIjpbIkJ1ZmZlciIsIldvcmRBcnJheSIsIlNoYTI1NiIsInJhbmRvbUJ5dGVzIiwibkJ5dGVzIiwiZnJvbSIsInJhbmRvbSIsInRvU3RyaW5nIiwiQmlnSW50ZWdlciIsIkhFWF9NU0JfUkVHRVgiLCJpbml0TiIsIm5ld1Bhc3N3b3JkUmVxdWlyZWRDaGFsbGVuZ2VVc2VyQXR0cmlidXRlUHJlZml4IiwiQXV0aGVudGljYXRpb25IZWxwZXIiLCJQb29sTmFtZSIsIk4iLCJnIiwiayIsImhleEhhc2giLCJwYWRIZXgiLCJzbWFsbEFWYWx1ZSIsImdlbmVyYXRlUmFuZG9tU21hbGxBIiwiZ2V0TGFyZ2VBVmFsdWUiLCJpbmZvQml0cyIsInBvb2xOYW1lIiwiX3Byb3RvIiwicHJvdG90eXBlIiwiZ2V0U21hbGxBVmFsdWUiLCJjYWxsYmFjayIsIl90aGlzIiwibGFyZ2VBVmFsdWUiLCJjYWxjdWxhdGVBIiwiZXJyIiwiaGV4UmFuZG9tIiwicmFuZG9tQmlnSW50IiwiZ2VuZXJhdGVSYW5kb21TdHJpbmciLCJnZXRSYW5kb21QYXNzd29yZCIsInJhbmRvbVBhc3N3b3JkIiwiZ2V0U2FsdERldmljZXMiLCJTYWx0VG9IYXNoRGV2aWNlcyIsImdldFZlcmlmaWVyRGV2aWNlcyIsInZlcmlmaWVyRGV2aWNlcyIsImdlbmVyYXRlSGFzaERldmljZSIsImRldmljZUdyb3VwS2V5IiwidXNlcm5hbWUiLCJfdGhpczIiLCJjb21iaW5lZFN0cmluZyIsImhhc2hlZFN0cmluZyIsImhhc2giLCJtb2RQb3ciLCJ2ZXJpZmllckRldmljZXNOb3RQYWRkZWQiLCJhIiwiX3RoaXMzIiwiQSIsIm1vZCIsImVxdWFscyIsIlpFUk8iLCJFcnJvciIsImNhbGN1bGF0ZVUiLCJCIiwiVUhleEhhc2giLCJmaW5hbFUiLCJidWYiLCJhd3NDcnlwdG9IYXNoIiwidXBkYXRlIiwicmVzdWx0RnJvbUFXU0NyeXB0byIsImRpZ2VzdFN5bmMiLCJoYXNoSGV4IiwiQXJyYXkiLCJsZW5ndGgiLCJqb2luIiwiaGV4U3RyIiwiY29tcHV0ZWhrZGYiLCJpa20iLCJzYWx0IiwiaW5mb0JpdHNCdWZmZXIiLCJjb25jYXQiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJyZXN1bHRGcm9tQVdTQ3J5cHRvUHJrIiwiYXdzQ3J5cHRvSGFzaEhtYWMiLCJyZXN1bHRGcm9tQVdTQ3J5cHRvSG1hYyIsImhhc2hIZXhGcm9tQVdTQ3J5cHRvIiwiY3VycmVudEhleCIsInNsaWNlIiwiZ2V0UGFzc3dvcmRBdXRoZW50aWNhdGlvbktleSIsInBhc3N3b3JkIiwic2VydmVyQlZhbHVlIiwiX3RoaXM0IiwiVVZhbHVlIiwidXNlcm5hbWVQYXNzd29yZCIsInVzZXJuYW1lUGFzc3dvcmRIYXNoIiwieFZhbHVlIiwiY2FsY3VsYXRlUyIsInNWYWx1ZSIsImhrZGYiLCJfdGhpczUiLCJnTW9kUG93WE4iLCJpbnRWYWx1ZTIiLCJzdWJ0cmFjdCIsIm11bHRpcGx5IiwiYWRkIiwiZXJyMiIsInJlc3VsdCIsImdldE5ld1Bhc3N3b3JkUmVxdWlyZWRDaGFsbGVuZ2VVc2VyQXR0cmlidXRlUHJlZml4IiwiYmlnSW50IiwiaXNOZWdhdGl2ZSIsImNvbXBhcmVUbyIsImFicyIsInRlc3QiLCJpbnZlcnRlZE5pYmJsZXMiLCJzcGxpdCIsIm1hcCIsIngiLCJpbnZlcnRlZE5pYmJsZSIsInBhcnNlSW50IiwiY2hhckF0IiwiZmxpcHBlZEJpdHNCSSIsIk9ORSIsInRvVXBwZXJDYXNlIiwic3RhcnRzV2l0aCIsInN1YnN0cmluZyIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/amazon-cognito-identity-js/es/AuthenticationHelper.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/amazon-cognito-identity-js/es/BigInteger.js":
/*!******************************************************************!*\
  !*** ./node_modules/amazon-cognito-identity-js/es/BigInteger.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// A small implementation of BigInteger based on http://www-cs-students.stanford.edu/~tjw/jsbn/\n//\n// All public methods have been removed except the following:\n//   new BigInteger(a, b) (only radix 2, 4, 8, 16 and 32 supported)\n//   toString (only radix 2, 4, 8, 16 and 32 supported)\n//   negate\n//   abs\n//   compareTo\n//   bitLength\n//   mod\n//   equals\n//   add\n//   subtract\n//   multiply\n//   divide\n//   modPow\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BigInteger);\n/*\n * Copyright (c) 2003-2005  Tom Wu\n * All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS-IS\" AND WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS, IMPLIED OR OTHERWISE, INCLUDING WITHOUT LIMITATION, ANY\n * WARRANTY OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.\n *\n * IN NO EVENT SHALL TOM WU BE LIABLE FOR ANY SPECIAL, INCIDENTAL,\n * INDIRECT OR CONSEQUENTIAL DAMAGES OF ANY KIND, OR ANY DAMAGES WHATSOEVER\n * RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER OR NOT ADVISED OF\n * THE POSSIBILITY OF DAMAGE, AND ON ANY THEORY OF LIABILITY, ARISING OUT\n * OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n *\n * In addition, the following condition applies:\n *\n * All redistributions must retain an intact copy of this copyright notice\n * and disclaimer.\n */ // (public) Constructor\nfunction BigInteger(a, b) {\n    if (a != null) this.fromString(a, b);\n}\n// return new, unset BigInteger\nfunction nbi() {\n    return new BigInteger(null);\n}\n// Bits per digit\nvar dbits;\n// JavaScript engine analysis\nvar canary = 0xdeadbeefcafe;\nvar j_lm = (canary & 0xffffff) == 0xefcafe;\n// am: Compute w_j += (x*this_i), propagate carries,\n// c is initial carry, returns final carry.\n// c < 3*dvalue, x < 2*dvalue, this_i < dvalue\n// We need to select the fastest one that works in this environment.\n// am1: use a single mult and divide to get the high bits,\n// max digit bits should be 26 because\n// max internal value = 2*dvalue^2-2*dvalue (< 2^53)\nfunction am1(i, x, w, j, c, n) {\n    while(--n >= 0){\n        var v = x * this[i++] + w[j] + c;\n        c = Math.floor(v / 0x4000000);\n        w[j++] = v & 0x3ffffff;\n    }\n    return c;\n}\n// am2 avoids a big mult-and-extract completely.\n// Max digit bits should be <= 30 because we do bitwise ops\n// on values up to 2*hdvalue^2-hdvalue-1 (< 2^31)\nfunction am2(i, x, w, j, c, n) {\n    var xl = x & 0x7fff, xh = x >> 15;\n    while(--n >= 0){\n        var l = this[i] & 0x7fff;\n        var h = this[i++] >> 15;\n        var m = xh * l + h * xl;\n        l = xl * l + ((m & 0x7fff) << 15) + w[j] + (c & 0x3fffffff);\n        c = (l >>> 30) + (m >>> 15) + xh * h + (c >>> 30);\n        w[j++] = l & 0x3fffffff;\n    }\n    return c;\n}\n// Alternately, set max digit bits to 28 since some\n// browsers slow down when dealing with 32-bit numbers.\nfunction am3(i, x, w, j, c, n) {\n    var xl = x & 0x3fff, xh = x >> 14;\n    while(--n >= 0){\n        var l = this[i] & 0x3fff;\n        var h = this[i++] >> 14;\n        var m = xh * l + h * xl;\n        l = xl * l + ((m & 0x3fff) << 14) + w[j] + c;\n        c = (l >> 28) + (m >> 14) + xh * h;\n        w[j++] = l & 0xfffffff;\n    }\n    return c;\n}\nvar inBrowser = typeof navigator !== \"undefined\";\nif (inBrowser && j_lm && navigator.appName == \"Microsoft Internet Explorer\") {\n    BigInteger.prototype.am = am2;\n    dbits = 30;\n} else if (inBrowser && j_lm && navigator.appName != \"Netscape\") {\n    BigInteger.prototype.am = am1;\n    dbits = 26;\n} else {\n    // Mozilla/Netscape seems to prefer am3\n    BigInteger.prototype.am = am3;\n    dbits = 28;\n}\nBigInteger.prototype.DB = dbits;\nBigInteger.prototype.DM = (1 << dbits) - 1;\nBigInteger.prototype.DV = 1 << dbits;\nvar BI_FP = 52;\nBigInteger.prototype.FV = Math.pow(2, BI_FP);\nBigInteger.prototype.F1 = BI_FP - dbits;\nBigInteger.prototype.F2 = 2 * dbits - BI_FP;\n// Digit conversions\nvar BI_RM = \"0123456789abcdefghijklmnopqrstuvwxyz\";\nvar BI_RC = new Array();\nvar rr, vv;\nrr = \"0\".charCodeAt(0);\nfor(vv = 0; vv <= 9; ++vv)BI_RC[rr++] = vv;\nrr = \"a\".charCodeAt(0);\nfor(vv = 10; vv < 36; ++vv)BI_RC[rr++] = vv;\nrr = \"A\".charCodeAt(0);\nfor(vv = 10; vv < 36; ++vv)BI_RC[rr++] = vv;\nfunction int2char(n) {\n    return BI_RM.charAt(n);\n}\nfunction intAt(s, i) {\n    var c = BI_RC[s.charCodeAt(i)];\n    return c == null ? -1 : c;\n}\n// (protected) copy this to r\nfunction bnpCopyTo(r) {\n    for(var i = this.t - 1; i >= 0; --i)r[i] = this[i];\n    r.t = this.t;\n    r.s = this.s;\n}\n// (protected) set from integer value x, -DV <= x < DV\nfunction bnpFromInt(x) {\n    this.t = 1;\n    this.s = x < 0 ? -1 : 0;\n    if (x > 0) this[0] = x;\n    else if (x < -1) this[0] = x + this.DV;\n    else this.t = 0;\n}\n// return bigint initialized to value\nfunction nbv(i) {\n    var r = nbi();\n    r.fromInt(i);\n    return r;\n}\n// (protected) set from string and radix\nfunction bnpFromString(s, b) {\n    var k;\n    if (b == 16) k = 4;\n    else if (b == 8) k = 3;\n    else if (b == 2) k = 1;\n    else if (b == 32) k = 5;\n    else if (b == 4) k = 2;\n    else throw new Error(\"Only radix 2, 4, 8, 16, 32 are supported\");\n    this.t = 0;\n    this.s = 0;\n    var i = s.length, mi = false, sh = 0;\n    while(--i >= 0){\n        var x = intAt(s, i);\n        if (x < 0) {\n            if (s.charAt(i) == \"-\") mi = true;\n            continue;\n        }\n        mi = false;\n        if (sh == 0) this[this.t++] = x;\n        else if (sh + k > this.DB) {\n            this[this.t - 1] |= (x & (1 << this.DB - sh) - 1) << sh;\n            this[this.t++] = x >> this.DB - sh;\n        } else this[this.t - 1] |= x << sh;\n        sh += k;\n        if (sh >= this.DB) sh -= this.DB;\n    }\n    this.clamp();\n    if (mi) BigInteger.ZERO.subTo(this, this);\n}\n// (protected) clamp off excess high words\nfunction bnpClamp() {\n    var c = this.s & this.DM;\n    while(this.t > 0 && this[this.t - 1] == c)--this.t;\n}\n// (public) return string representation in given radix\nfunction bnToString(b) {\n    if (this.s < 0) return \"-\" + this.negate().toString(b);\n    var k;\n    if (b == 16) k = 4;\n    else if (b == 8) k = 3;\n    else if (b == 2) k = 1;\n    else if (b == 32) k = 5;\n    else if (b == 4) k = 2;\n    else throw new Error(\"Only radix 2, 4, 8, 16, 32 are supported\");\n    var km = (1 << k) - 1, d, m = false, r = \"\", i = this.t;\n    var p = this.DB - i * this.DB % k;\n    if (i-- > 0) {\n        if (p < this.DB && (d = this[i] >> p) > 0) {\n            m = true;\n            r = int2char(d);\n        }\n        while(i >= 0){\n            if (p < k) {\n                d = (this[i] & (1 << p) - 1) << k - p;\n                d |= this[--i] >> (p += this.DB - k);\n            } else {\n                d = this[i] >> (p -= k) & km;\n                if (p <= 0) {\n                    p += this.DB;\n                    --i;\n                }\n            }\n            if (d > 0) m = true;\n            if (m) r += int2char(d);\n        }\n    }\n    return m ? r : \"0\";\n}\n// (public) -this\nfunction bnNegate() {\n    var r = nbi();\n    BigInteger.ZERO.subTo(this, r);\n    return r;\n}\n// (public) |this|\nfunction bnAbs() {\n    return this.s < 0 ? this.negate() : this;\n}\n// (public) return + if this > a, - if this < a, 0 if equal\nfunction bnCompareTo(a) {\n    var r = this.s - a.s;\n    if (r != 0) return r;\n    var i = this.t;\n    r = i - a.t;\n    if (r != 0) return this.s < 0 ? -r : r;\n    while(--i >= 0)if ((r = this[i] - a[i]) != 0) return r;\n    return 0;\n}\n// returns bit length of the integer x\nfunction nbits(x) {\n    var r = 1, t;\n    if ((t = x >>> 16) != 0) {\n        x = t;\n        r += 16;\n    }\n    if ((t = x >> 8) != 0) {\n        x = t;\n        r += 8;\n    }\n    if ((t = x >> 4) != 0) {\n        x = t;\n        r += 4;\n    }\n    if ((t = x >> 2) != 0) {\n        x = t;\n        r += 2;\n    }\n    if ((t = x >> 1) != 0) {\n        x = t;\n        r += 1;\n    }\n    return r;\n}\n// (public) return the number of bits in \"this\"\nfunction bnBitLength() {\n    if (this.t <= 0) return 0;\n    return this.DB * (this.t - 1) + nbits(this[this.t - 1] ^ this.s & this.DM);\n}\n// (protected) r = this << n*DB\nfunction bnpDLShiftTo(n, r) {\n    var i;\n    for(i = this.t - 1; i >= 0; --i)r[i + n] = this[i];\n    for(i = n - 1; i >= 0; --i)r[i] = 0;\n    r.t = this.t + n;\n    r.s = this.s;\n}\n// (protected) r = this >> n*DB\nfunction bnpDRShiftTo(n, r) {\n    for(var i = n; i < this.t; ++i)r[i - n] = this[i];\n    r.t = Math.max(this.t - n, 0);\n    r.s = this.s;\n}\n// (protected) r = this << n\nfunction bnpLShiftTo(n, r) {\n    var bs = n % this.DB;\n    var cbs = this.DB - bs;\n    var bm = (1 << cbs) - 1;\n    var ds = Math.floor(n / this.DB), c = this.s << bs & this.DM, i;\n    for(i = this.t - 1; i >= 0; --i){\n        r[i + ds + 1] = this[i] >> cbs | c;\n        c = (this[i] & bm) << bs;\n    }\n    for(i = ds - 1; i >= 0; --i)r[i] = 0;\n    r[ds] = c;\n    r.t = this.t + ds + 1;\n    r.s = this.s;\n    r.clamp();\n}\n// (protected) r = this >> n\nfunction bnpRShiftTo(n, r) {\n    r.s = this.s;\n    var ds = Math.floor(n / this.DB);\n    if (ds >= this.t) {\n        r.t = 0;\n        return;\n    }\n    var bs = n % this.DB;\n    var cbs = this.DB - bs;\n    var bm = (1 << bs) - 1;\n    r[0] = this[ds] >> bs;\n    for(var i = ds + 1; i < this.t; ++i){\n        r[i - ds - 1] |= (this[i] & bm) << cbs;\n        r[i - ds] = this[i] >> bs;\n    }\n    if (bs > 0) r[this.t - ds - 1] |= (this.s & bm) << cbs;\n    r.t = this.t - ds;\n    r.clamp();\n}\n// (protected) r = this - a\nfunction bnpSubTo(a, r) {\n    var i = 0, c = 0, m = Math.min(a.t, this.t);\n    while(i < m){\n        c += this[i] - a[i];\n        r[i++] = c & this.DM;\n        c >>= this.DB;\n    }\n    if (a.t < this.t) {\n        c -= a.s;\n        while(i < this.t){\n            c += this[i];\n            r[i++] = c & this.DM;\n            c >>= this.DB;\n        }\n        c += this.s;\n    } else {\n        c += this.s;\n        while(i < a.t){\n            c -= a[i];\n            r[i++] = c & this.DM;\n            c >>= this.DB;\n        }\n        c -= a.s;\n    }\n    r.s = c < 0 ? -1 : 0;\n    if (c < -1) r[i++] = this.DV + c;\n    else if (c > 0) r[i++] = c;\n    r.t = i;\n    r.clamp();\n}\n// (protected) r = this * a, r != this,a (HAC 14.12)\n// \"this\" should be the larger one if appropriate.\nfunction bnpMultiplyTo(a, r) {\n    var x = this.abs(), y = a.abs();\n    var i = x.t;\n    r.t = i + y.t;\n    while(--i >= 0)r[i] = 0;\n    for(i = 0; i < y.t; ++i)r[i + x.t] = x.am(0, y[i], r, i, 0, x.t);\n    r.s = 0;\n    r.clamp();\n    if (this.s != a.s) BigInteger.ZERO.subTo(r, r);\n}\n// (protected) r = this^2, r != this (HAC 14.16)\nfunction bnpSquareTo(r) {\n    var x = this.abs();\n    var i = r.t = 2 * x.t;\n    while(--i >= 0)r[i] = 0;\n    for(i = 0; i < x.t - 1; ++i){\n        var c = x.am(i, x[i], r, 2 * i, 0, 1);\n        if ((r[i + x.t] += x.am(i + 1, 2 * x[i], r, 2 * i + 1, c, x.t - i - 1)) >= x.DV) {\n            r[i + x.t] -= x.DV;\n            r[i + x.t + 1] = 1;\n        }\n    }\n    if (r.t > 0) r[r.t - 1] += x.am(i, x[i], r, 2 * i, 0, 1);\n    r.s = 0;\n    r.clamp();\n}\n// (protected) divide this by m, quotient and remainder to q, r (HAC 14.20)\n// r != q, this != m.  q or r may be null.\nfunction bnpDivRemTo(m, q, r) {\n    var pm = m.abs();\n    if (pm.t <= 0) return;\n    var pt = this.abs();\n    if (pt.t < pm.t) {\n        if (q != null) q.fromInt(0);\n        if (r != null) this.copyTo(r);\n        return;\n    }\n    if (r == null) r = nbi();\n    var y = nbi(), ts = this.s, ms = m.s;\n    var nsh = this.DB - nbits(pm[pm.t - 1]);\n    // normalize modulus\n    if (nsh > 0) {\n        pm.lShiftTo(nsh, y);\n        pt.lShiftTo(nsh, r);\n    } else {\n        pm.copyTo(y);\n        pt.copyTo(r);\n    }\n    var ys = y.t;\n    var y0 = y[ys - 1];\n    if (y0 == 0) return;\n    var yt = y0 * (1 << this.F1) + (ys > 1 ? y[ys - 2] >> this.F2 : 0);\n    var d1 = this.FV / yt, d2 = (1 << this.F1) / yt, e = 1 << this.F2;\n    var i = r.t, j = i - ys, t = q == null ? nbi() : q;\n    y.dlShiftTo(j, t);\n    if (r.compareTo(t) >= 0) {\n        r[r.t++] = 1;\n        r.subTo(t, r);\n    }\n    BigInteger.ONE.dlShiftTo(ys, t);\n    t.subTo(y, y);\n    // \"negative\" y so we can replace sub with am later\n    while(y.t < ys)y[y.t++] = 0;\n    while(--j >= 0){\n        // Estimate quotient digit\n        var qd = r[--i] == y0 ? this.DM : Math.floor(r[i] * d1 + (r[i - 1] + e) * d2);\n        if ((r[i] += y.am(0, qd, r, j, 0, ys)) < qd) {\n            // Try it out\n            y.dlShiftTo(j, t);\n            r.subTo(t, r);\n            while(r[i] < --qd)r.subTo(t, r);\n        }\n    }\n    if (q != null) {\n        r.drShiftTo(ys, q);\n        if (ts != ms) BigInteger.ZERO.subTo(q, q);\n    }\n    r.t = ys;\n    r.clamp();\n    if (nsh > 0) r.rShiftTo(nsh, r);\n    // Denormalize remainder\n    if (ts < 0) BigInteger.ZERO.subTo(r, r);\n}\n// (public) this mod a\nfunction bnMod(a) {\n    var r = nbi();\n    this.abs().divRemTo(a, null, r);\n    if (this.s < 0 && r.compareTo(BigInteger.ZERO) > 0) a.subTo(r, r);\n    return r;\n}\n// (protected) return \"-1/this % 2^DB\"; useful for Mont. reduction\n// justification:\n//         xy == 1 (mod m)\n//         xy =  1+km\n//   xy(2-xy) = (1+km)(1-km)\n// x[y(2-xy)] = 1-k^2m^2\n// x[y(2-xy)] == 1 (mod m^2)\n// if y is 1/x mod m, then y(2-xy) is 1/x mod m^2\n// should reduce x and y(2-xy) by m^2 at each step to keep size bounded.\n// JS multiply \"overflows\" differently from C/C++, so care is needed here.\nfunction bnpInvDigit() {\n    if (this.t < 1) return 0;\n    var x = this[0];\n    if ((x & 1) == 0) return 0;\n    var y = x & 3;\n    // y == 1/x mod 2^2\n    y = y * (2 - (x & 0xf) * y) & 0xf;\n    // y == 1/x mod 2^4\n    y = y * (2 - (x & 0xff) * y) & 0xff;\n    // y == 1/x mod 2^8\n    y = y * (2 - ((x & 0xffff) * y & 0xffff)) & 0xffff;\n    // y == 1/x mod 2^16\n    // last step - calculate inverse mod DV directly;\n    // assumes 16 < DB <= 32 and assumes ability to handle 48-bit ints\n    y = y * (2 - x * y % this.DV) % this.DV;\n    // y == 1/x mod 2^dbits\n    // we really want the negative inverse, and -DV < y < DV\n    return y > 0 ? this.DV - y : -y;\n}\nfunction bnEquals(a) {\n    return this.compareTo(a) == 0;\n}\n// (protected) r = this + a\nfunction bnpAddTo(a, r) {\n    var i = 0, c = 0, m = Math.min(a.t, this.t);\n    while(i < m){\n        c += this[i] + a[i];\n        r[i++] = c & this.DM;\n        c >>= this.DB;\n    }\n    if (a.t < this.t) {\n        c += a.s;\n        while(i < this.t){\n            c += this[i];\n            r[i++] = c & this.DM;\n            c >>= this.DB;\n        }\n        c += this.s;\n    } else {\n        c += this.s;\n        while(i < a.t){\n            c += a[i];\n            r[i++] = c & this.DM;\n            c >>= this.DB;\n        }\n        c += a.s;\n    }\n    r.s = c < 0 ? -1 : 0;\n    if (c > 0) r[i++] = c;\n    else if (c < -1) r[i++] = this.DV + c;\n    r.t = i;\n    r.clamp();\n}\n// (public) this + a\nfunction bnAdd(a) {\n    var r = nbi();\n    this.addTo(a, r);\n    return r;\n}\n// (public) this - a\nfunction bnSubtract(a) {\n    var r = nbi();\n    this.subTo(a, r);\n    return r;\n}\n// (public) this * a\nfunction bnMultiply(a) {\n    var r = nbi();\n    this.multiplyTo(a, r);\n    return r;\n}\n// (public) this / a\nfunction bnDivide(a) {\n    var r = nbi();\n    this.divRemTo(a, r, null);\n    return r;\n}\n// Montgomery reduction\nfunction Montgomery(m) {\n    this.m = m;\n    this.mp = m.invDigit();\n    this.mpl = this.mp & 0x7fff;\n    this.mph = this.mp >> 15;\n    this.um = (1 << m.DB - 15) - 1;\n    this.mt2 = 2 * m.t;\n}\n// xR mod m\nfunction montConvert(x) {\n    var r = nbi();\n    x.abs().dlShiftTo(this.m.t, r);\n    r.divRemTo(this.m, null, r);\n    if (x.s < 0 && r.compareTo(BigInteger.ZERO) > 0) this.m.subTo(r, r);\n    return r;\n}\n// x/R mod m\nfunction montRevert(x) {\n    var r = nbi();\n    x.copyTo(r);\n    this.reduce(r);\n    return r;\n}\n// x = x/R mod m (HAC 14.32)\nfunction montReduce(x) {\n    while(x.t <= this.mt2)// pad x so am has enough room later\n    x[x.t++] = 0;\n    for(var i = 0; i < this.m.t; ++i){\n        // faster way of calculating u0 = x[i]*mp mod DV\n        var j = x[i] & 0x7fff;\n        var u0 = j * this.mpl + ((j * this.mph + (x[i] >> 15) * this.mpl & this.um) << 15) & x.DM;\n        // use am to combine the multiply-shift-add into one call\n        j = i + this.m.t;\n        x[j] += this.m.am(0, u0, x, i, 0, this.m.t);\n        // propagate carry\n        while(x[j] >= x.DV){\n            x[j] -= x.DV;\n            x[++j]++;\n        }\n    }\n    x.clamp();\n    x.drShiftTo(this.m.t, x);\n    if (x.compareTo(this.m) >= 0) x.subTo(this.m, x);\n}\n// r = \"x^2/R mod m\"; x != r\nfunction montSqrTo(x, r) {\n    x.squareTo(r);\n    this.reduce(r);\n}\n// r = \"xy/R mod m\"; x,y != r\nfunction montMulTo(x, y, r) {\n    x.multiplyTo(y, r);\n    this.reduce(r);\n}\nMontgomery.prototype.convert = montConvert;\nMontgomery.prototype.revert = montRevert;\nMontgomery.prototype.reduce = montReduce;\nMontgomery.prototype.mulTo = montMulTo;\nMontgomery.prototype.sqrTo = montSqrTo;\n// (public) this^e % m (HAC 14.85)\nfunction bnModPow(e, m, callback) {\n    var i = e.bitLength(), k, r = nbv(1), z = new Montgomery(m);\n    if (i <= 0) return r;\n    else if (i < 18) k = 1;\n    else if (i < 48) k = 3;\n    else if (i < 144) k = 4;\n    else if (i < 768) k = 5;\n    else k = 6;\n    // precomputation\n    var g = new Array(), n = 3, k1 = k - 1, km = (1 << k) - 1;\n    g[1] = z.convert(this);\n    if (k > 1) {\n        var g2 = nbi();\n        z.sqrTo(g[1], g2);\n        while(n <= km){\n            g[n] = nbi();\n            z.mulTo(g2, g[n - 2], g[n]);\n            n += 2;\n        }\n    }\n    var j = e.t - 1, w, is1 = true, r2 = nbi(), t;\n    i = nbits(e[j]) - 1;\n    while(j >= 0){\n        if (i >= k1) w = e[j] >> i - k1 & km;\n        else {\n            w = (e[j] & (1 << i + 1) - 1) << k1 - i;\n            if (j > 0) w |= e[j - 1] >> this.DB + i - k1;\n        }\n        n = k;\n        while((w & 1) == 0){\n            w >>= 1;\n            --n;\n        }\n        if ((i -= n) < 0) {\n            i += this.DB;\n            --j;\n        }\n        if (is1) {\n            // ret == 1, don't bother squaring or multiplying it\n            g[w].copyTo(r);\n            is1 = false;\n        } else {\n            while(n > 1){\n                z.sqrTo(r, r2);\n                z.sqrTo(r2, r);\n                n -= 2;\n            }\n            if (n > 0) z.sqrTo(r, r2);\n            else {\n                t = r;\n                r = r2;\n                r2 = t;\n            }\n            z.mulTo(r2, g[w], r);\n        }\n        while(j >= 0 && (e[j] & 1 << i) == 0){\n            z.sqrTo(r, r2);\n            t = r;\n            r = r2;\n            r2 = t;\n            if (--i < 0) {\n                i = this.DB - 1;\n                --j;\n            }\n        }\n    }\n    var result = z.revert(r);\n    callback(null, result);\n    return result;\n}\n// protected\nBigInteger.prototype.copyTo = bnpCopyTo;\nBigInteger.prototype.fromInt = bnpFromInt;\nBigInteger.prototype.fromString = bnpFromString;\nBigInteger.prototype.clamp = bnpClamp;\nBigInteger.prototype.dlShiftTo = bnpDLShiftTo;\nBigInteger.prototype.drShiftTo = bnpDRShiftTo;\nBigInteger.prototype.lShiftTo = bnpLShiftTo;\nBigInteger.prototype.rShiftTo = bnpRShiftTo;\nBigInteger.prototype.subTo = bnpSubTo;\nBigInteger.prototype.multiplyTo = bnpMultiplyTo;\nBigInteger.prototype.squareTo = bnpSquareTo;\nBigInteger.prototype.divRemTo = bnpDivRemTo;\nBigInteger.prototype.invDigit = bnpInvDigit;\nBigInteger.prototype.addTo = bnpAddTo;\n// public\nBigInteger.prototype.toString = bnToString;\nBigInteger.prototype.negate = bnNegate;\nBigInteger.prototype.abs = bnAbs;\nBigInteger.prototype.compareTo = bnCompareTo;\nBigInteger.prototype.bitLength = bnBitLength;\nBigInteger.prototype.mod = bnMod;\nBigInteger.prototype.equals = bnEquals;\nBigInteger.prototype.add = bnAdd;\nBigInteger.prototype.subtract = bnSubtract;\nBigInteger.prototype.multiply = bnMultiply;\nBigInteger.prototype.divide = bnDivide;\nBigInteger.prototype.modPow = bnModPow;\n// \"constants\"\nBigInteger.ZERO = nbv(0);\nBigInteger.ONE = nbv(1);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYW1hem9uLWNvZ25pdG8taWRlbnRpdHktanMvZXMvQmlnSW50ZWdlci5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsK0ZBQStGO0FBQy9GLEVBQUU7QUFDRiw2REFBNkQ7QUFDN0QsbUVBQW1FO0FBQ25FLHVEQUF1RDtBQUN2RCxXQUFXO0FBQ1gsUUFBUTtBQUNSLGNBQWM7QUFDZCxjQUFjO0FBQ2QsUUFBUTtBQUNSLFdBQVc7QUFDWCxRQUFRO0FBQ1IsYUFBYTtBQUNiLGFBQWE7QUFDYixXQUFXO0FBQ1gsV0FBVztBQUVYLGlFQUFlQSxVQUFVQSxFQUFDO0FBRTFCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQTZCQyxHQUVELHVCQUF1QjtBQUN2QixTQUFTQSxXQUFXQyxDQUFDLEVBQUVDLENBQUM7SUFDdEIsSUFBSUQsS0FBSyxNQUFNLElBQUksQ0FBQ0UsVUFBVSxDQUFDRixHQUFHQztBQUNwQztBQUVBLCtCQUErQjtBQUMvQixTQUFTRTtJQUNQLE9BQU8sSUFBSUosV0FBVztBQUN4QjtBQUVBLGlCQUFpQjtBQUNqQixJQUFJSztBQUVKLDZCQUE2QjtBQUM3QixJQUFJQyxTQUFTO0FBQ2IsSUFBSUMsT0FBTyxDQUFDRCxTQUFTLFFBQU8sS0FBTTtBQUVsQyxvREFBb0Q7QUFDcEQsMkNBQTJDO0FBQzNDLDhDQUE4QztBQUM5QyxvRUFBb0U7QUFFcEUsMERBQTBEO0FBQzFELHNDQUFzQztBQUN0QyxvREFBb0Q7QUFDcEQsU0FBU0UsSUFBSUMsQ0FBQyxFQUFFQyxDQUFDLEVBQUVDLENBQUMsRUFBRUMsQ0FBQyxFQUFFQyxDQUFDLEVBQUVDLENBQUM7SUFDM0IsTUFBTyxFQUFFQSxLQUFLLEVBQUc7UUFDZixJQUFJQyxJQUFJTCxJQUFJLElBQUksQ0FBQ0QsSUFBSSxHQUFHRSxDQUFDLENBQUNDLEVBQUUsR0FBR0M7UUFDL0JBLElBQUlHLEtBQUtDLEtBQUssQ0FBQ0YsSUFBSTtRQUNuQkosQ0FBQyxDQUFDQyxJQUFJ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QixTQUFTLENBQUMyRyxRQUFRLEdBQUc5QztBQUNoQ3pGLFdBQVc0QixTQUFTLENBQUNvRixRQUFRLEdBQUd0QjtBQUNoQzFGLFdBQVc0QixTQUFTLENBQUNnRyxRQUFRLEdBQUdYO0FBQ2hDakgsV0FBVzRCLFNBQVMsQ0FBQ3lGLEtBQUssR0FBR0Y7QUFFN0IsU0FBUztBQUNUbkgsV0FBVzRCLFNBQVMsQ0FBQ3NDLFFBQVEsR0FBR0Y7QUFDaENoRSxXQUFXNEIsU0FBUyxDQUFDcUMsTUFBTSxHQUFHSztBQUM5QnRFLFdBQVc0QixTQUFTLENBQUMyRCxHQUFHLEdBQUdoQjtBQUMzQnZFLFdBQVc0QixTQUFTLENBQUM4RSxTQUFTLEdBQUdsQztBQUNqQ3hFLFdBQVc0QixTQUFTLENBQUNtSCxTQUFTLEdBQUdyRTtBQUNqQzFFLFdBQVc0QixTQUFTLENBQUMySCxHQUFHLEdBQUd4QztBQUMzQi9HLFdBQVc0QixTQUFTLENBQUM0SCxNQUFNLEdBQUd0QztBQUM5QmxILFdBQVc0QixTQUFTLENBQUM2SCxHQUFHLEdBQUdyQztBQUMzQnBILFdBQVc0QixTQUFTLENBQUM4SCxRQUFRLEdBQUdwQztBQUNoQ3RILFdBQVc0QixTQUFTLENBQUMrSCxRQUFRLEdBQUdwQztBQUNoQ3ZILFdBQVc0QixTQUFTLENBQUNnSSxNQUFNLEdBQUduQztBQUM5QnpILFdBQVc0QixTQUFTLENBQUNpSSxNQUFNLEdBQUdoQjtBQUU5QixjQUFjO0FBQ2Q3SSxXQUFXNkQsSUFBSSxHQUFHVCxJQUFJO0FBQ3RCcEQsV0FBVzJHLEdBQUcsR0FBR3ZELElBQUkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mdXp6eS1vY3RvLWJyb2Njb2xpLW5leHQvLi9ub2RlX21vZHVsZXMvYW1hem9uLWNvZ25pdG8taWRlbnRpdHktanMvZXMvQmlnSW50ZWdlci5qcz8yZDljIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEEgc21hbGwgaW1wbGVtZW50YXRpb24gb2YgQmlnSW50ZWdlciBiYXNlZCBvbiBodHRwOi8vd3d3LWNzLXN0dWRlbnRzLnN0YW5mb3JkLmVkdS9+dGp3L2pzYm4vXG4vL1xuLy8gQWxsIHB1YmxpYyBtZXRob2RzIGhhdmUgYmVlbiByZW1vdmVkIGV4Y2VwdCB0aGUgZm9sbG93aW5nOlxuLy8gICBuZXcgQmlnSW50ZWdlcihhLCBiKSAob25seSByYWRpeCAyLCA0LCA4LCAxNiBhbmQgMzIgc3VwcG9ydGVkKVxuLy8gICB0b1N0cmluZyAob25seSByYWRpeCAyLCA0LCA4LCAxNiBhbmQgMzIgc3VwcG9ydGVkKVxuLy8gICBuZWdhdGVcbi8vICAgYWJzXG4vLyAgIGNvbXBhcmVUb1xuLy8gICBiaXRMZW5ndGhcbi8vICAgbW9kXG4vLyAgIGVxdWFsc1xuLy8gICBhZGRcbi8vICAgc3VidHJhY3Rcbi8vICAgbXVsdGlwbHlcbi8vICAgZGl2aWRlXG4vLyAgIG1vZFBvd1xuXG5leHBvcnQgZGVmYXVsdCBCaWdJbnRlZ2VyO1xuXG4vKlxuICogQ29weXJpZ2h0IChjKSAyMDAzLTIwMDUgIFRvbSBXdVxuICogQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmdcbiAqIGEgY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuICogXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4gKiB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4gKiBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG9cbiAqIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0b1xuICogdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlXG4gKiBpbmNsdWRlZCBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUy1JU1wiIEFORCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELFxuICogRVhQUkVTUywgSU1QTElFRCBPUiBPVEhFUldJU0UsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04sIEFOWVxuICogV0FSUkFOVFkgT0YgTUVSQ0hBTlRBQklMSVRZIE9SIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLlxuICpcbiAqIElOIE5PIEVWRU5UIFNIQUxMIFRPTSBXVSBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBJTkNJREVOVEFMLFxuICogSU5ESVJFQ1QgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9GIEFOWSBLSU5ELCBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSXG4gKiBSRVNVTFRJTkcgRlJPTSBMT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIE9SIE5PVCBBRFZJU0VEIE9GXG4gKiBUSEUgUE9TU0lCSUxJVFkgT0YgREFNQUdFLCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksIEFSSVNJTkcgT1VUXG4gKiBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUiBQRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxuICpcbiAqIEluIGFkZGl0aW9uLCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbiBhcHBsaWVzOlxuICpcbiAqIEFsbCByZWRpc3RyaWJ1dGlvbnMgbXVzdCByZXRhaW4gYW4gaW50YWN0IGNvcHkgb2YgdGhpcyBjb3B5cmlnaHQgbm90aWNlXG4gKiBhbmQgZGlzY2xhaW1lci5cbiAqL1xuXG4vLyAocHVibGljKSBDb25zdHJ1Y3RvclxuZnVuY3Rpb24gQmlnSW50ZWdlcihhLCBiKSB7XG4gIGlmIChhICE9IG51bGwpIHRoaXMuZnJvbVN0cmluZyhhLCBiKTtcbn1cblxuLy8gcmV0dXJuIG5ldywgdW5zZXQgQmlnSW50ZWdlclxuZnVuY3Rpb24gbmJpKCkge1xuICByZXR1cm4gbmV3IEJpZ0ludGVnZXIobnVsbCk7XG59XG5cbi8vIEJpdHMgcGVyIGRpZ2l0XG52YXIgZGJpdHM7XG5cbi8vIEphdmFTY3JpcHQgZW5naW5lIGFuYWx5c2lzXG52YXIgY2FuYXJ5ID0gMHhkZWFkYmVlZmNhZmU7XG52YXIgal9sbSA9IChjYW5hcnkgJiAweGZmZmZmZikgPT0gMHhlZmNhZmU7XG5cbi8vIGFtOiBDb21wdXRlIHdfaiArPSAoeCp0aGlzX2kpLCBwcm9wYWdhdGUgY2Fycmllcyxcbi8vIGMgaXMgaW5pdGlhbCBjYXJyeSwgcmV0dXJucyBmaW5hbCBjYXJyeS5cbi8vIGMgPCAzKmR2YWx1ZSwgeCA8IDIqZHZhbHVlLCB0aGlzX2kgPCBkdmFsdWVcbi8vIFdlIG5lZWQgdG8gc2VsZWN0IHRoZSBmYXN0ZXN0IG9uZSB0aGF0IHdvcmtzIGluIHRoaXMgZW52aXJvbm1lbnQuXG5cbi8vIGFtMTogdXNlIGEgc2luZ2xlIG11bHQgYW5kIGRpdmlkZSB0byBnZXQgdGhlIGhpZ2ggYml0cyxcbi8vIG1heCBkaWdpdCBiaXRzIHNob3VsZCBiZSAyNiBiZWNhdXNlXG4vLyBtYXggaW50ZXJuYWwgdmFsdWUgPSAyKmR2YWx1ZV4yLTIqZHZhbHVlICg8IDJeNTMpXG5mdW5jdGlvbiBhbTEoaSwgeCwgdywgaiwgYywgbikge1xuICB3aGlsZSAoLS1uID49IDApIHtcbiAgICB2YXIgdiA9IHggKiB0aGlzW2krK10gKyB3W2pdICsgYztcbiAgICBjID0gTWF0aC5mbG9vcih2IC8gMHg0MDAwMDAwKTtcbiAgICB3W2orK10gPSB2ICYgMHgzZmZmZmZmO1xuICB9XG4gIHJldHVybiBjO1xufVxuLy8gYW0yIGF2b2lkcyBhIGJpZyBtdWx0LWFuZC1leHRyYWN0IGNvbXBsZXRlbHkuXG4vLyBNYXggZGlnaXQgYml0cyBzaG91bGQgYmUgPD0gMzAgYmVjYXVzZSB3ZSBkbyBiaXR3aXNlIG9wc1xuLy8gb24gdmFsdWVzIHVwIHRvIDIqaGR2YWx1ZV4yLWhkdmFsdWUtMSAoPCAyXjMxKVxuZnVuY3Rpb24gYW0yKGksIHgsIHcsIGosIGMsIG4pIHtcbiAgdmFyIHhsID0geCAmIDB4N2ZmZixcbiAgICB4aCA9IHggPj4gMTU7XG4gIHdoaWxlICgtLW4gPj0gMCkge1xuICAgIHZhciBsID0gdGhpc1tpXSAmIDB4N2ZmZjtcbiAgICB2YXIgaCA9IHRoaXNbaSsrXSA+PiAxNTtcbiAgICB2YXIgbSA9IHhoICogbCArIGggKiB4bDtcbiAgICBsID0geGwgKiBsICsgKChtICYgMHg3ZmZmKSA8PCAxNSkgKyB3W2pdICsgKGMgJiAweDNmZmZmZmZmKTtcbiAgICBjID0gKGwgPj4+IDMwKSArIChtID4+PiAxNSkgKyB4aCAqIGggKyAoYyA+Pj4gMzApO1xuICAgIHdbaisrXSA9IGwgJiAweDNmZmZmZmZmO1xuICB9XG4gIHJldHVybiBjO1xufVxuLy8gQWx0ZXJuYXRlbHksIHNldCBtYXggZGlnaXQgYml0cyB0byAyOCBzaW5jZSBzb21lXG4vLyBicm93c2VycyBzbG93IGRvd24gd2hlbiBkZWFsaW5nIHdpdGggMzItYml0IG51bWJlcnMuXG5mdW5jdGlvbiBhbTMoaSwgeCwgdywgaiwgYywgbikge1xuICB2YXIgeGwgPSB4ICYgMHgzZmZmLFxuICAgIHhoID0geCA+PiAxNDtcbiAgd2hpbGUgKC0tbiA+PSAwKSB7XG4gICAgdmFyIGwgPSB0aGlzW2ldICYgMHgzZmZmO1xuICAgIHZhciBoID0gdGhpc1tpKytdID4+IDE0O1xuICAgIHZhciBtID0geGggKiBsICsgaCAqIHhsO1xuICAgIGwgPSB4bCAqIGwgKyAoKG0gJiAweDNmZmYpIDw8IDE0KSArIHdbal0gKyBjO1xuICAgIGMgPSAobCA+PiAyOCkgKyAobSA+PiAxNCkgKyB4aCAqIGg7XG4gICAgd1tqKytdID0gbCAmIDB4ZmZmZmZmZjtcbiAgfVxuICByZXR1cm4gYztcbn1cbnZhciBpbkJyb3dzZXIgPSB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJztcbmlmIChpbkJyb3dzZXIgJiYgal9sbSAmJiBuYXZpZ2F0b3IuYXBwTmFtZSA9PSAnTWljcm9zb2Z0IEludGVybmV0IEV4cGxvcmVyJykge1xuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5hbSA9IGFtMjtcbiAgZGJpdHMgPSAzMDtcbn0gZWxzZSBpZiAoaW5Ccm93c2VyICYmIGpfbG0gJiYgbmF2aWdhdG9yLmFwcE5hbWUgIT0gJ05ldHNjYXBlJykge1xuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5hbSA9IGFtMTtcbiAgZGJpdHMgPSAyNjtcbn0gZWxzZSB7XG4gIC8vIE1vemlsbGEvTmV0c2NhcGUgc2VlbXMgdG8gcHJlZmVyIGFtM1xuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5hbSA9IGFtMztcbiAgZGJpdHMgPSAyODtcbn1cbkJpZ0ludGVnZXIucHJvdG90eXBlLkRCID0gZGJpdHM7XG5CaWdJbnRlZ2VyLnByb3RvdHlwZS5ETSA9ICgxIDw8IGRiaXRzKSAtIDE7XG5CaWdJbnRlZ2VyLnByb3RvdHlwZS5EViA9IDEgPDwgZGJpdHM7XG52YXIgQklfRlAgPSA1MjtcbkJpZ0ludGVnZXIucHJvdG90eXBlLkZWID0gTWF0aC5wb3coMiwgQklfRlApO1xuQmlnSW50ZWdlci5wcm90b3R5cGUuRjEgPSBCSV9GUCAtIGRiaXRzO1xuQmlnSW50ZWdlci5wcm90b3R5cGUuRjIgPSAyICogZGJpdHMgLSBCSV9GUDtcblxuLy8gRGlnaXQgY29udmVyc2lvbnNcbnZhciBCSV9STSA9ICcwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXonO1xudmFyIEJJX1JDID0gbmV3IEFycmF5KCk7XG52YXIgcnIsIHZ2O1xucnIgPSAnMCcuY2hhckNvZGVBdCgwKTtcbmZvciAodnYgPSAwOyB2diA8PSA5OyArK3Z2KSBCSV9SQ1tycisrXSA9IHZ2O1xucnIgPSAnYScuY2hhckNvZGVBdCgwKTtcbmZvciAodnYgPSAxMDsgdnYgPCAzNjsgKyt2dikgQklfUkNbcnIrK10gPSB2djtcbnJyID0gJ0EnLmNoYXJDb2RlQXQoMCk7XG5mb3IgKHZ2ID0gMTA7IHZ2IDwgMzY7ICsrdnYpIEJJX1JDW3JyKytdID0gdnY7XG5mdW5jdGlvbiBpbnQyY2hhcihuKSB7XG4gIHJldHVybiBCSV9STS5jaGFyQXQobik7XG59XG5mdW5jdGlvbiBpbnRBdChzLCBpKSB7XG4gIHZhciBjID0gQklfUkNbcy5jaGFyQ29kZUF0KGkpXTtcbiAgcmV0dXJuIGMgPT0gbnVsbCA/IC0xIDogYztcbn1cblxuLy8gKHByb3RlY3RlZCkgY29weSB0aGlzIHRvIHJcbmZ1bmN0aW9uIGJucENvcHlUbyhyKSB7XG4gIGZvciAodmFyIGkgPSB0aGlzLnQgLSAxOyBpID49IDA7IC0taSkgcltpXSA9IHRoaXNbaV07XG4gIHIudCA9IHRoaXMudDtcbiAgci5zID0gdGhpcy5zO1xufVxuXG4vLyAocHJvdGVjdGVkKSBzZXQgZnJvbSBpbnRlZ2VyIHZhbHVlIHgsIC1EViA8PSB4IDwgRFZcbmZ1bmN0aW9uIGJucEZyb21JbnQoeCkge1xuICB0aGlzLnQgPSAxO1xuICB0aGlzLnMgPSB4IDwgMCA/IC0xIDogMDtcbiAgaWYgKHggPiAwKSB0aGlzWzBdID0geDtlbHNlIGlmICh4IDwgLTEpIHRoaXNbMF0gPSB4ICsgdGhpcy5EVjtlbHNlIHRoaXMudCA9IDA7XG59XG5cbi8vIHJldHVybiBiaWdpbnQgaW5pdGlhbGl6ZWQgdG8gdmFsdWVcbmZ1bmN0aW9uIG5idihpKSB7XG4gIHZhciByID0gbmJpKCk7XG4gIHIuZnJvbUludChpKTtcbiAgcmV0dXJuIHI7XG59XG5cbi8vIChwcm90ZWN0ZWQpIHNldCBmcm9tIHN0cmluZyBhbmQgcmFkaXhcbmZ1bmN0aW9uIGJucEZyb21TdHJpbmcocywgYikge1xuICB2YXIgaztcbiAgaWYgKGIgPT0gMTYpIGsgPSA0O2Vsc2UgaWYgKGIgPT0gOCkgayA9IDM7ZWxzZSBpZiAoYiA9PSAyKSBrID0gMTtlbHNlIGlmIChiID09IDMyKSBrID0gNTtlbHNlIGlmIChiID09IDQpIGsgPSAyO2Vsc2UgdGhyb3cgbmV3IEVycm9yKCdPbmx5IHJhZGl4IDIsIDQsIDgsIDE2LCAzMiBhcmUgc3VwcG9ydGVkJyk7XG4gIHRoaXMudCA9IDA7XG4gIHRoaXMucyA9IDA7XG4gIHZhciBpID0gcy5sZW5ndGgsXG4gICAgbWkgPSBmYWxzZSxcbiAgICBzaCA9IDA7XG4gIHdoaWxlICgtLWkgPj0gMCkge1xuICAgIHZhciB4ID0gaW50QXQocywgaSk7XG4gICAgaWYgKHggPCAwKSB7XG4gICAgICBpZiAocy5jaGFyQXQoaSkgPT0gJy0nKSBtaSA9IHRydWU7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgbWkgPSBmYWxzZTtcbiAgICBpZiAoc2ggPT0gMCkgdGhpc1t0aGlzLnQrK10gPSB4O2Vsc2UgaWYgKHNoICsgayA+IHRoaXMuREIpIHtcbiAgICAgIHRoaXNbdGhpcy50IC0gMV0gfD0gKHggJiAoMSA8PCB0aGlzLkRCIC0gc2gpIC0gMSkgPDwgc2g7XG4gICAgICB0aGlzW3RoaXMudCsrXSA9IHggPj4gdGhpcy5EQiAtIHNoO1xuICAgIH0gZWxzZSB0aGlzW3RoaXMudCAtIDFdIHw9IHggPDwgc2g7XG4gICAgc2ggKz0gaztcbiAgICBpZiAoc2ggPj0gdGhpcy5EQikgc2ggLT0gdGhpcy5EQjtcbiAgfVxuICB0aGlzLmNsYW1wKCk7XG4gIGlmIChtaSkgQmlnSW50ZWdlci5aRVJPLnN1YlRvKHRoaXMsIHRoaXMpO1xufVxuXG4vLyAocHJvdGVjdGVkKSBjbGFtcCBvZmYgZXhjZXNzIGhpZ2ggd29yZHNcbmZ1bmN0aW9uIGJucENsYW1wKCkge1xuICB2YXIgYyA9IHRoaXMucyAmIHRoaXMuRE07XG4gIHdoaWxlICh0aGlzLnQgPiAwICYmIHRoaXNbdGhpcy50IC0gMV0gPT0gYykgLS10aGlzLnQ7XG59XG5cbi8vIChwdWJsaWMpIHJldHVybiBzdHJpbmcgcmVwcmVzZW50YXRpb24gaW4gZ2l2ZW4gcmFkaXhcbmZ1bmN0aW9uIGJuVG9TdHJpbmcoYikge1xuICBpZiAodGhpcy5zIDwgMCkgcmV0dXJuICctJyArIHRoaXMubmVnYXRlKCkudG9TdHJpbmcoYik7XG4gIHZhciBrO1xuICBpZiAoYiA9PSAxNikgayA9IDQ7ZWxzZSBpZiAoYiA9PSA4KSBrID0gMztlbHNlIGlmIChiID09IDIpIGsgPSAxO2Vsc2UgaWYgKGIgPT0gMzIpIGsgPSA1O2Vsc2UgaWYgKGIgPT0gNCkgayA9IDI7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ09ubHkgcmFkaXggMiwgNCwgOCwgMTYsIDMyIGFyZSBzdXBwb3J0ZWQnKTtcbiAgdmFyIGttID0gKDEgPDwgaykgLSAxLFxuICAgIGQsXG4gICAgbSA9IGZhbHNlLFxuICAgIHIgPSAnJyxcbiAgICBpID0gdGhpcy50O1xuICB2YXIgcCA9IHRoaXMuREIgLSBpICogdGhpcy5EQiAlIGs7XG4gIGlmIChpLS0gPiAwKSB7XG4gICAgaWYgKHAgPCB0aGlzLkRCICYmIChkID0gdGhpc1tpXSA+PiBwKSA+IDApIHtcbiAgICAgIG0gPSB0cnVlO1xuICAgICAgciA9IGludDJjaGFyKGQpO1xuICAgIH1cbiAgICB3aGlsZSAoaSA+PSAwKSB7XG4gICAgICBpZiAocCA8IGspIHtcbiAgICAgICAgZCA9ICh0aGlzW2ldICYgKDEgPDwgcCkgLSAxKSA8PCBrIC0gcDtcbiAgICAgICAgZCB8PSB0aGlzWy0taV0gPj4gKHAgKz0gdGhpcy5EQiAtIGspO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZCA9IHRoaXNbaV0gPj4gKHAgLT0gaykgJiBrbTtcbiAgICAgICAgaWYgKHAgPD0gMCkge1xuICAgICAgICAgIHAgKz0gdGhpcy5EQjtcbiAgICAgICAgICAtLWk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChkID4gMCkgbSA9IHRydWU7XG4gICAgICBpZiAobSkgciArPSBpbnQyY2hhcihkKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG0gPyByIDogJzAnO1xufVxuXG4vLyAocHVibGljKSAtdGhpc1xuZnVuY3Rpb24gYm5OZWdhdGUoKSB7XG4gIHZhciByID0gbmJpKCk7XG4gIEJpZ0ludGVnZXIuWkVSTy5zdWJUbyh0aGlzLCByKTtcbiAgcmV0dXJuIHI7XG59XG5cbi8vIChwdWJsaWMpIHx0aGlzfFxuZnVuY3Rpb24gYm5BYnMoKSB7XG4gIHJldHVybiB0aGlzLnMgPCAwID8gdGhpcy5uZWdhdGUoKSA6IHRoaXM7XG59XG5cbi8vIChwdWJsaWMpIHJldHVybiArIGlmIHRoaXMgPiBhLCAtIGlmIHRoaXMgPCBhLCAwIGlmIGVxdWFsXG5mdW5jdGlvbiBibkNvbXBhcmVUbyhhKSB7XG4gIHZhciByID0gdGhpcy5zIC0gYS5zO1xuICBpZiAociAhPSAwKSByZXR1cm4gcjtcbiAgdmFyIGkgPSB0aGlzLnQ7XG4gIHIgPSBpIC0gYS50O1xuICBpZiAociAhPSAwKSByZXR1cm4gdGhpcy5zIDwgMCA/IC1yIDogcjtcbiAgd2hpbGUgKC0taSA+PSAwKSBpZiAoKHIgPSB0aGlzW2ldIC0gYVtpXSkgIT0gMCkgcmV0dXJuIHI7XG4gIHJldHVybiAwO1xufVxuXG4vLyByZXR1cm5zIGJpdCBsZW5ndGggb2YgdGhlIGludGVnZXIgeFxuZnVuY3Rpb24gbmJpdHMoeCkge1xuICB2YXIgciA9IDEsXG4gICAgdDtcbiAgaWYgKCh0ID0geCA+Pj4gMTYpICE9IDApIHtcbiAgICB4ID0gdDtcbiAgICByICs9IDE2O1xuICB9XG4gIGlmICgodCA9IHggPj4gOCkgIT0gMCkge1xuICAgIHggPSB0O1xuICAgIHIgKz0gODtcbiAgfVxuICBpZiAoKHQgPSB4ID4+IDQpICE9IDApIHtcbiAgICB4ID0gdDtcbiAgICByICs9IDQ7XG4gIH1cbiAgaWYgKCh0ID0geCA+PiAyKSAhPSAwKSB7XG4gICAgeCA9IHQ7XG4gICAgciArPSAyO1xuICB9XG4gIGlmICgodCA9IHggPj4gMSkgIT0gMCkge1xuICAgIHggPSB0O1xuICAgIHIgKz0gMTtcbiAgfVxuICByZXR1cm4gcjtcbn1cblxuLy8gKHB1YmxpYykgcmV0dXJuIHRoZSBudW1iZXIgb2YgYml0cyBpbiBcInRoaXNcIlxuZnVuY3Rpb24gYm5CaXRMZW5ndGgoKSB7XG4gIGlmICh0aGlzLnQgPD0gMCkgcmV0dXJuIDA7XG4gIHJldHVybiB0aGlzLkRCICogKHRoaXMudCAtIDEpICsgbmJpdHModGhpc1t0aGlzLnQgLSAxXSBeIHRoaXMucyAmIHRoaXMuRE0pO1xufVxuXG4vLyAocHJvdGVjdGVkKSByID0gdGhpcyA8PCBuKkRCXG5mdW5jdGlvbiBibnBETFNoaWZ0VG8obiwgcikge1xuICB2YXIgaTtcbiAgZm9yIChpID0gdGhpcy50IC0gMTsgaSA+PSAwOyAtLWkpIHJbaSArIG5dID0gdGhpc1tpXTtcbiAgZm9yIChpID0gbiAtIDE7IGkgPj0gMDsgLS1pKSByW2ldID0gMDtcbiAgci50ID0gdGhpcy50ICsgbjtcbiAgci5zID0gdGhpcy5zO1xufVxuXG4vLyAocHJvdGVjdGVkKSByID0gdGhpcyA+PiBuKkRCXG5mdW5jdGlvbiBibnBEUlNoaWZ0VG8obiwgcikge1xuICBmb3IgKHZhciBpID0gbjsgaSA8IHRoaXMudDsgKytpKSByW2kgLSBuXSA9IHRoaXNbaV07XG4gIHIudCA9IE1hdGgubWF4KHRoaXMudCAtIG4sIDApO1xuICByLnMgPSB0aGlzLnM7XG59XG5cbi8vIChwcm90ZWN0ZWQpIHIgPSB0aGlzIDw8IG5cbmZ1bmN0aW9uIGJucExTaGlmdFRvKG4sIHIpIHtcbiAgdmFyIGJzID0gbiAlIHRoaXMuREI7XG4gIHZhciBjYnMgPSB0aGlzLkRCIC0gYnM7XG4gIHZhciBibSA9ICgxIDw8IGNicykgLSAxO1xuICB2YXIgZHMgPSBNYXRoLmZsb29yKG4gLyB0aGlzLkRCKSxcbiAgICBjID0gdGhpcy5zIDw8IGJzICYgdGhpcy5ETSxcbiAgICBpO1xuICBmb3IgKGkgPSB0aGlzLnQgLSAxOyBpID49IDA7IC0taSkge1xuICAgIHJbaSArIGRzICsgMV0gPSB0aGlzW2ldID4+IGNicyB8IGM7XG4gICAgYyA9ICh0aGlzW2ldICYgYm0pIDw8IGJzO1xuICB9XG4gIGZvciAoaSA9IGRzIC0gMTsgaSA+PSAwOyAtLWkpIHJbaV0gPSAwO1xuICByW2RzXSA9IGM7XG4gIHIudCA9IHRoaXMudCArIGRzICsgMTtcbiAgci5zID0gdGhpcy5zO1xuICByLmNsYW1wKCk7XG59XG5cbi8vIChwcm90ZWN0ZWQpIHIgPSB0aGlzID4+IG5cbmZ1bmN0aW9uIGJucFJTaGlmdFRvKG4sIHIpIHtcbiAgci5zID0gdGhpcy5zO1xuICB2YXIgZHMgPSBNYXRoLmZsb29yKG4gLyB0aGlzLkRCKTtcbiAgaWYgKGRzID49IHRoaXMudCkge1xuICAgIHIudCA9IDA7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBicyA9IG4gJSB0aGlzLkRCO1xuICB2YXIgY2JzID0gdGhpcy5EQiAtIGJzO1xuICB2YXIgYm0gPSAoMSA8PCBicykgLSAxO1xuICByWzBdID0gdGhpc1tkc10gPj4gYnM7XG4gIGZvciAodmFyIGkgPSBkcyArIDE7IGkgPCB0aGlzLnQ7ICsraSkge1xuICAgIHJbaSAtIGRzIC0gMV0gfD0gKHRoaXNbaV0gJiBibSkgPDwgY2JzO1xuICAgIHJbaSAtIGRzXSA9IHRoaXNbaV0gPj4gYnM7XG4gIH1cbiAgaWYgKGJzID4gMCkgclt0aGlzLnQgLSBkcyAtIDFdIHw9ICh0aGlzLnMgJiBibSkgPDwgY2JzO1xuICByLnQgPSB0aGlzLnQgLSBkcztcbiAgci5jbGFtcCgpO1xufVxuXG4vLyAocHJvdGVjdGVkKSByID0gdGhpcyAtIGFcbmZ1bmN0aW9uIGJucFN1YlRvKGEsIHIpIHtcbiAgdmFyIGkgPSAwLFxuICAgIGMgPSAwLFxuICAgIG0gPSBNYXRoLm1pbihhLnQsIHRoaXMudCk7XG4gIHdoaWxlIChpIDwgbSkge1xuICAgIGMgKz0gdGhpc1tpXSAtIGFbaV07XG4gICAgcltpKytdID0gYyAmIHRoaXMuRE07XG4gICAgYyA+Pj0gdGhpcy5EQjtcbiAgfVxuICBpZiAoYS50IDwgdGhpcy50KSB7XG4gICAgYyAtPSBhLnM7XG4gICAgd2hpbGUgKGkgPCB0aGlzLnQpIHtcbiAgICAgIGMgKz0gdGhpc1tpXTtcbiAgICAgIHJbaSsrXSA9IGMgJiB0aGlzLkRNO1xuICAgICAgYyA+Pj0gdGhpcy5EQjtcbiAgICB9XG4gICAgYyArPSB0aGlzLnM7XG4gIH0gZWxzZSB7XG4gICAgYyArPSB0aGlzLnM7XG4gICAgd2hpbGUgKGkgPCBhLnQpIHtcbiAgICAgIGMgLT0gYVtpXTtcbiAgICAgIHJbaSsrXSA9IGMgJiB0aGlzLkRNO1xuICAgICAgYyA+Pj0gdGhpcy5EQjtcbiAgICB9XG4gICAgYyAtPSBhLnM7XG4gIH1cbiAgci5zID0gYyA8IDAgPyAtMSA6IDA7XG4gIGlmIChjIDwgLTEpIHJbaSsrXSA9IHRoaXMuRFYgKyBjO2Vsc2UgaWYgKGMgPiAwKSByW2krK10gPSBjO1xuICByLnQgPSBpO1xuICByLmNsYW1wKCk7XG59XG5cbi8vIChwcm90ZWN0ZWQpIHIgPSB0aGlzICogYSwgciAhPSB0aGlzLGEgKEhBQyAxNC4xMilcbi8vIFwidGhpc1wiIHNob3VsZCBiZSB0aGUgbGFyZ2VyIG9uZSBpZiBhcHByb3ByaWF0ZS5cbmZ1bmN0aW9uIGJucE11bHRpcGx5VG8oYSwgcikge1xuICB2YXIgeCA9IHRoaXMuYWJzKCksXG4gICAgeSA9IGEuYWJzKCk7XG4gIHZhciBpID0geC50O1xuICByLnQgPSBpICsgeS50O1xuICB3aGlsZSAoLS1pID49IDApIHJbaV0gPSAwO1xuICBmb3IgKGkgPSAwOyBpIDwgeS50OyArK2kpIHJbaSArIHgudF0gPSB4LmFtKDAsIHlbaV0sIHIsIGksIDAsIHgudCk7XG4gIHIucyA9IDA7XG4gIHIuY2xhbXAoKTtcbiAgaWYgKHRoaXMucyAhPSBhLnMpIEJpZ0ludGVnZXIuWkVSTy5zdWJUbyhyLCByKTtcbn1cblxuLy8gKHByb3RlY3RlZCkgciA9IHRoaXNeMiwgciAhPSB0aGlzIChIQUMgMTQuMTYpXG5mdW5jdGlvbiBibnBTcXVhcmVUbyhyKSB7XG4gIHZhciB4ID0gdGhpcy5hYnMoKTtcbiAgdmFyIGkgPSByLnQgPSAyICogeC50O1xuICB3aGlsZSAoLS1pID49IDApIHJbaV0gPSAwO1xuICBmb3IgKGkgPSAwOyBpIDwgeC50IC0gMTsgKytpKSB7XG4gICAgdmFyIGMgPSB4LmFtKGksIHhbaV0sIHIsIDIgKiBpLCAwLCAxKTtcbiAgICBpZiAoKHJbaSArIHgudF0gKz0geC5hbShpICsgMSwgMiAqIHhbaV0sIHIsIDIgKiBpICsgMSwgYywgeC50IC0gaSAtIDEpKSA+PSB4LkRWKSB7XG4gICAgICByW2kgKyB4LnRdIC09IHguRFY7XG4gICAgICByW2kgKyB4LnQgKyAxXSA9IDE7XG4gICAgfVxuICB9XG4gIGlmIChyLnQgPiAwKSByW3IudCAtIDFdICs9IHguYW0oaSwgeFtpXSwgciwgMiAqIGksIDAsIDEpO1xuICByLnMgPSAwO1xuICByLmNsYW1wKCk7XG59XG5cbi8vIChwcm90ZWN0ZWQpIGRpdmlkZSB0aGlzIGJ5IG0sIHF1b3RpZW50IGFuZCByZW1haW5kZXIgdG8gcSwgciAoSEFDIDE0LjIwKVxuLy8gciAhPSBxLCB0aGlzICE9IG0uICBxIG9yIHIgbWF5IGJlIG51bGwuXG5mdW5jdGlvbiBibnBEaXZSZW1UbyhtLCBxLCByKSB7XG4gIHZhciBwbSA9IG0uYWJzKCk7XG4gIGlmIChwbS50IDw9IDApIHJldHVybjtcbiAgdmFyIHB0ID0gdGhpcy5hYnMoKTtcbiAgaWYgKHB0LnQgPCBwbS50KSB7XG4gICAgaWYgKHEgIT0gbnVsbCkgcS5mcm9tSW50KDApO1xuICAgIGlmIChyICE9IG51bGwpIHRoaXMuY29weVRvKHIpO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAociA9PSBudWxsKSByID0gbmJpKCk7XG4gIHZhciB5ID0gbmJpKCksXG4gICAgdHMgPSB0aGlzLnMsXG4gICAgbXMgPSBtLnM7XG4gIHZhciBuc2ggPSB0aGlzLkRCIC0gbmJpdHMocG1bcG0udCAtIDFdKTtcbiAgLy8gbm9ybWFsaXplIG1vZHVsdXNcbiAgaWYgKG5zaCA+IDApIHtcbiAgICBwbS5sU2hpZnRUbyhuc2gsIHkpO1xuICAgIHB0LmxTaGlmdFRvKG5zaCwgcik7XG4gIH0gZWxzZSB7XG4gICAgcG0uY29weVRvKHkpO1xuICAgIHB0LmNvcHlUbyhyKTtcbiAgfVxuICB2YXIgeXMgPSB5LnQ7XG4gIHZhciB5MCA9IHlbeXMgLSAxXTtcbiAgaWYgKHkwID09IDApIHJldHVybjtcbiAgdmFyIHl0ID0geTAgKiAoMSA8PCB0aGlzLkYxKSArICh5cyA+IDEgPyB5W3lzIC0gMl0gPj4gdGhpcy5GMiA6IDApO1xuICB2YXIgZDEgPSB0aGlzLkZWIC8geXQsXG4gICAgZDIgPSAoMSA8PCB0aGlzLkYxKSAvIHl0LFxuICAgIGUgPSAxIDw8IHRoaXMuRjI7XG4gIHZhciBpID0gci50LFxuICAgIGogPSBpIC0geXMsXG4gICAgdCA9IHEgPT0gbnVsbCA/IG5iaSgpIDogcTtcbiAgeS5kbFNoaWZ0VG8oaiwgdCk7XG4gIGlmIChyLmNvbXBhcmVUbyh0KSA+PSAwKSB7XG4gICAgcltyLnQrK10gPSAxO1xuICAgIHIuc3ViVG8odCwgcik7XG4gIH1cbiAgQmlnSW50ZWdlci5PTkUuZGxTaGlmdFRvKHlzLCB0KTtcbiAgdC5zdWJUbyh5LCB5KTtcbiAgLy8gXCJuZWdhdGl2ZVwiIHkgc28gd2UgY2FuIHJlcGxhY2Ugc3ViIHdpdGggYW0gbGF0ZXJcbiAgd2hpbGUgKHkudCA8IHlzKSB5W3kudCsrXSA9IDA7XG4gIHdoaWxlICgtLWogPj0gMCkge1xuICAgIC8vIEVzdGltYXRlIHF1b3RpZW50IGRpZ2l0XG4gICAgdmFyIHFkID0gclstLWldID09IHkwID8gdGhpcy5ETSA6IE1hdGguZmxvb3IocltpXSAqIGQxICsgKHJbaSAtIDFdICsgZSkgKiBkMik7XG4gICAgaWYgKChyW2ldICs9IHkuYW0oMCwgcWQsIHIsIGosIDAsIHlzKSkgPCBxZCkge1xuICAgICAgLy8gVHJ5IGl0IG91dFxuICAgICAgeS5kbFNoaWZ0VG8oaiwgdCk7XG4gICAgICByLnN1YlRvKHQsIHIpO1xuICAgICAgd2hpbGUgKHJbaV0gPCAtLXFkKSByLnN1YlRvKHQsIHIpO1xuICAgIH1cbiAgfVxuICBpZiAocSAhPSBudWxsKSB7XG4gICAgci5kclNoaWZ0VG8oeXMsIHEpO1xuICAgIGlmICh0cyAhPSBtcykgQmlnSW50ZWdlci5aRVJPLnN1YlRvKHEsIHEpO1xuICB9XG4gIHIudCA9IHlzO1xuICByLmNsYW1wKCk7XG4gIGlmIChuc2ggPiAwKSByLnJTaGlmdFRvKG5zaCwgcik7XG4gIC8vIERlbm9ybWFsaXplIHJlbWFpbmRlclxuICBpZiAodHMgPCAwKSBCaWdJbnRlZ2VyLlpFUk8uc3ViVG8ociwgcik7XG59XG5cbi8vIChwdWJsaWMpIHRoaXMgbW9kIGFcbmZ1bmN0aW9uIGJuTW9kKGEpIHtcbiAgdmFyIHIgPSBuYmkoKTtcbiAgdGhpcy5hYnMoKS5kaXZSZW1UbyhhLCBudWxsLCByKTtcbiAgaWYgKHRoaXMucyA8IDAgJiYgci5jb21wYXJlVG8oQmlnSW50ZWdlci5aRVJPKSA+IDApIGEuc3ViVG8ociwgcik7XG4gIHJldHVybiByO1xufVxuXG4vLyAocHJvdGVjdGVkKSByZXR1cm4gXCItMS90aGlzICUgMl5EQlwiOyB1c2VmdWwgZm9yIE1vbnQuIHJlZHVjdGlvblxuLy8ganVzdGlmaWNhdGlvbjpcbi8vICAgICAgICAgeHkgPT0gMSAobW9kIG0pXG4vLyAgICAgICAgIHh5ID0gIDEra21cbi8vICAgeHkoMi14eSkgPSAoMStrbSkoMS1rbSlcbi8vIHhbeSgyLXh5KV0gPSAxLWteMm1eMlxuLy8geFt5KDIteHkpXSA9PSAxIChtb2QgbV4yKVxuLy8gaWYgeSBpcyAxL3ggbW9kIG0sIHRoZW4geSgyLXh5KSBpcyAxL3ggbW9kIG1eMlxuLy8gc2hvdWxkIHJlZHVjZSB4IGFuZCB5KDIteHkpIGJ5IG1eMiBhdCBlYWNoIHN0ZXAgdG8ga2VlcCBzaXplIGJvdW5kZWQuXG4vLyBKUyBtdWx0aXBseSBcIm92ZXJmbG93c1wiIGRpZmZlcmVudGx5IGZyb20gQy9DKyssIHNvIGNhcmUgaXMgbmVlZGVkIGhlcmUuXG5mdW5jdGlvbiBibnBJbnZEaWdpdCgpIHtcbiAgaWYgKHRoaXMudCA8IDEpIHJldHVybiAwO1xuICB2YXIgeCA9IHRoaXNbMF07XG4gIGlmICgoeCAmIDEpID09IDApIHJldHVybiAwO1xuICB2YXIgeSA9IHggJiAzO1xuICAvLyB5ID09IDEveCBtb2QgMl4yXG4gIHkgPSB5ICogKDIgLSAoeCAmIDB4ZikgKiB5KSAmIDB4ZjtcbiAgLy8geSA9PSAxL3ggbW9kIDJeNFxuICB5ID0geSAqICgyIC0gKHggJiAweGZmKSAqIHkpICYgMHhmZjtcbiAgLy8geSA9PSAxL3ggbW9kIDJeOFxuICB5ID0geSAqICgyIC0gKCh4ICYgMHhmZmZmKSAqIHkgJiAweGZmZmYpKSAmIDB4ZmZmZjtcbiAgLy8geSA9PSAxL3ggbW9kIDJeMTZcbiAgLy8gbGFzdCBzdGVwIC0gY2FsY3VsYXRlIGludmVyc2UgbW9kIERWIGRpcmVjdGx5O1xuICAvLyBhc3N1bWVzIDE2IDwgREIgPD0gMzIgYW5kIGFzc3VtZXMgYWJpbGl0eSB0byBoYW5kbGUgNDgtYml0IGludHNcbiAgeSA9IHkgKiAoMiAtIHggKiB5ICUgdGhpcy5EVikgJSB0aGlzLkRWO1xuICAvLyB5ID09IDEveCBtb2QgMl5kYml0c1xuICAvLyB3ZSByZWFsbHkgd2FudCB0aGUgbmVnYXRpdmUgaW52ZXJzZSwgYW5kIC1EViA8IHkgPCBEVlxuICByZXR1cm4geSA+IDAgPyB0aGlzLkRWIC0geSA6IC15O1xufVxuZnVuY3Rpb24gYm5FcXVhbHMoYSkge1xuICByZXR1cm4gdGhpcy5jb21wYXJlVG8oYSkgPT0gMDtcbn1cblxuLy8gKHByb3RlY3RlZCkgciA9IHRoaXMgKyBhXG5mdW5jdGlvbiBibnBBZGRUbyhhLCByKSB7XG4gIHZhciBpID0gMCxcbiAgICBjID0gMCxcbiAgICBtID0gTWF0aC5taW4oYS50LCB0aGlzLnQpO1xuICB3aGlsZSAoaSA8IG0pIHtcbiAgICBjICs9IHRoaXNbaV0gKyBhW2ldO1xuICAgIHJbaSsrXSA9IGMgJiB0aGlzLkRNO1xuICAgIGMgPj49IHRoaXMuREI7XG4gIH1cbiAgaWYgKGEudCA8IHRoaXMudCkge1xuICAgIGMgKz0gYS5zO1xuICAgIHdoaWxlIChpIDwgdGhpcy50KSB7XG4gICAgICBjICs9IHRoaXNbaV07XG4gICAgICByW2krK10gPSBjICYgdGhpcy5ETTtcbiAgICAgIGMgPj49IHRoaXMuREI7XG4gICAgfVxuICAgIGMgKz0gdGhpcy5zO1xuICB9IGVsc2Uge1xuICAgIGMgKz0gdGhpcy5zO1xuICAgIHdoaWxlIChpIDwgYS50KSB7XG4gICAgICBjICs9IGFbaV07XG4gICAgICByW2krK10gPSBjICYgdGhpcy5ETTtcbiAgICAgIGMgPj49IHRoaXMuREI7XG4gICAgfVxuICAgIGMgKz0gYS5zO1xuICB9XG4gIHIucyA9IGMgPCAwID8gLTEgOiAwO1xuICBpZiAoYyA+IDApIHJbaSsrXSA9IGM7ZWxzZSBpZiAoYyA8IC0xKSByW2krK10gPSB0aGlzLkRWICsgYztcbiAgci50ID0gaTtcbiAgci5jbGFtcCgpO1xufVxuXG4vLyAocHVibGljKSB0aGlzICsgYVxuZnVuY3Rpb24gYm5BZGQoYSkge1xuICB2YXIgciA9IG5iaSgpO1xuICB0aGlzLmFkZFRvKGEsIHIpO1xuICByZXR1cm4gcjtcbn1cblxuLy8gKHB1YmxpYykgdGhpcyAtIGFcbmZ1bmN0aW9uIGJuU3VidHJhY3QoYSkge1xuICB2YXIgciA9IG5iaSgpO1xuICB0aGlzLnN1YlRvKGEsIHIpO1xuICByZXR1cm4gcjtcbn1cblxuLy8gKHB1YmxpYykgdGhpcyAqIGFcbmZ1bmN0aW9uIGJuTXVsdGlwbHkoYSkge1xuICB2YXIgciA9IG5iaSgpO1xuICB0aGlzLm11bHRpcGx5VG8oYSwgcik7XG4gIHJldHVybiByO1xufVxuXG4vLyAocHVibGljKSB0aGlzIC8gYVxuZnVuY3Rpb24gYm5EaXZpZGUoYSkge1xuICB2YXIgciA9IG5iaSgpO1xuICB0aGlzLmRpdlJlbVRvKGEsIHIsIG51bGwpO1xuICByZXR1cm4gcjtcbn1cblxuLy8gTW9udGdvbWVyeSByZWR1Y3Rpb25cbmZ1bmN0aW9uIE1vbnRnb21lcnkobSkge1xuICB0aGlzLm0gPSBtO1xuICB0aGlzLm1wID0gbS5pbnZEaWdpdCgpO1xuICB0aGlzLm1wbCA9IHRoaXMubXAgJiAweDdmZmY7XG4gIHRoaXMubXBoID0gdGhpcy5tcCA+PiAxNTtcbiAgdGhpcy51bSA9ICgxIDw8IG0uREIgLSAxNSkgLSAxO1xuICB0aGlzLm10MiA9IDIgKiBtLnQ7XG59XG5cbi8vIHhSIG1vZCBtXG5mdW5jdGlvbiBtb250Q29udmVydCh4KSB7XG4gIHZhciByID0gbmJpKCk7XG4gIHguYWJzKCkuZGxTaGlmdFRvKHRoaXMubS50LCByKTtcbiAgci5kaXZSZW1Ubyh0aGlzLm0sIG51bGwsIHIpO1xuICBpZiAoeC5zIDwgMCAmJiByLmNvbXBhcmVUbyhCaWdJbnRlZ2VyLlpFUk8pID4gMCkgdGhpcy5tLnN1YlRvKHIsIHIpO1xuICByZXR1cm4gcjtcbn1cblxuLy8geC9SIG1vZCBtXG5mdW5jdGlvbiBtb250UmV2ZXJ0KHgpIHtcbiAgdmFyIHIgPSBuYmkoKTtcbiAgeC5jb3B5VG8ocik7XG4gIHRoaXMucmVkdWNlKHIpO1xuICByZXR1cm4gcjtcbn1cblxuLy8geCA9IHgvUiBtb2QgbSAoSEFDIDE0LjMyKVxuZnVuY3Rpb24gbW9udFJlZHVjZSh4KSB7XG4gIHdoaWxlICh4LnQgPD0gdGhpcy5tdDIpXG4gIC8vIHBhZCB4IHNvIGFtIGhhcyBlbm91Z2ggcm9vbSBsYXRlclxuICB4W3gudCsrXSA9IDA7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5tLnQ7ICsraSkge1xuICAgIC8vIGZhc3RlciB3YXkgb2YgY2FsY3VsYXRpbmcgdTAgPSB4W2ldKm1wIG1vZCBEVlxuICAgIHZhciBqID0geFtpXSAmIDB4N2ZmZjtcbiAgICB2YXIgdTAgPSBqICogdGhpcy5tcGwgKyAoKGogKiB0aGlzLm1waCArICh4W2ldID4+IDE1KSAqIHRoaXMubXBsICYgdGhpcy51bSkgPDwgMTUpICYgeC5ETTtcbiAgICAvLyB1c2UgYW0gdG8gY29tYmluZSB0aGUgbXVsdGlwbHktc2hpZnQtYWRkIGludG8gb25lIGNhbGxcbiAgICBqID0gaSArIHRoaXMubS50O1xuICAgIHhbal0gKz0gdGhpcy5tLmFtKDAsIHUwLCB4LCBpLCAwLCB0aGlzLm0udCk7XG4gICAgLy8gcHJvcGFnYXRlIGNhcnJ5XG4gICAgd2hpbGUgKHhbal0gPj0geC5EVikge1xuICAgICAgeFtqXSAtPSB4LkRWO1xuICAgICAgeFsrK2pdKys7XG4gICAgfVxuICB9XG4gIHguY2xhbXAoKTtcbiAgeC5kclNoaWZ0VG8odGhpcy5tLnQsIHgpO1xuICBpZiAoeC5jb21wYXJlVG8odGhpcy5tKSA+PSAwKSB4LnN1YlRvKHRoaXMubSwgeCk7XG59XG5cbi8vIHIgPSBcInheMi9SIG1vZCBtXCI7IHggIT0gclxuZnVuY3Rpb24gbW9udFNxclRvKHgsIHIpIHtcbiAgeC5zcXVhcmVUbyhyKTtcbiAgdGhpcy5yZWR1Y2Uocik7XG59XG5cbi8vIHIgPSBcInh5L1IgbW9kIG1cIjsgeCx5ICE9IHJcbmZ1bmN0aW9uIG1vbnRNdWxUbyh4LCB5LCByKSB7XG4gIHgubXVsdGlwbHlUbyh5LCByKTtcbiAgdGhpcy5yZWR1Y2Uocik7XG59XG5Nb250Z29tZXJ5LnByb3RvdHlwZS5jb252ZXJ0ID0gbW9udENvbnZlcnQ7XG5Nb250Z29tZXJ5LnByb3RvdHlwZS5yZXZlcnQgPSBtb250UmV2ZXJ0O1xuTW9udGdvbWVyeS5wcm90b3R5cGUucmVkdWNlID0gbW9udFJlZHVjZTtcbk1vbnRnb21lcnkucHJvdG90eXBlLm11bFRvID0gbW9udE11bFRvO1xuTW9udGdvbWVyeS5wcm90b3R5cGUuc3FyVG8gPSBtb250U3FyVG87XG5cbi8vIChwdWJsaWMpIHRoaXNeZSAlIG0gKEhBQyAxNC44NSlcbmZ1bmN0aW9uIGJuTW9kUG93KGUsIG0sIGNhbGxiYWNrKSB7XG4gIHZhciBpID0gZS5iaXRMZW5ndGgoKSxcbiAgICBrLFxuICAgIHIgPSBuYnYoMSksXG4gICAgeiA9IG5ldyBNb250Z29tZXJ5KG0pO1xuICBpZiAoaSA8PSAwKSByZXR1cm4gcjtlbHNlIGlmIChpIDwgMTgpIGsgPSAxO2Vsc2UgaWYgKGkgPCA0OCkgayA9IDM7ZWxzZSBpZiAoaSA8IDE0NCkgayA9IDQ7ZWxzZSBpZiAoaSA8IDc2OCkgayA9IDU7ZWxzZSBrID0gNjtcblxuICAvLyBwcmVjb21wdXRhdGlvblxuICB2YXIgZyA9IG5ldyBBcnJheSgpLFxuICAgIG4gPSAzLFxuICAgIGsxID0gayAtIDEsXG4gICAga20gPSAoMSA8PCBrKSAtIDE7XG4gIGdbMV0gPSB6LmNvbnZlcnQodGhpcyk7XG4gIGlmIChrID4gMSkge1xuICAgIHZhciBnMiA9IG5iaSgpO1xuICAgIHouc3FyVG8oZ1sxXSwgZzIpO1xuICAgIHdoaWxlIChuIDw9IGttKSB7XG4gICAgICBnW25dID0gbmJpKCk7XG4gICAgICB6Lm11bFRvKGcyLCBnW24gLSAyXSwgZ1tuXSk7XG4gICAgICBuICs9IDI7XG4gICAgfVxuICB9XG4gIHZhciBqID0gZS50IC0gMSxcbiAgICB3LFxuICAgIGlzMSA9IHRydWUsXG4gICAgcjIgPSBuYmkoKSxcbiAgICB0O1xuICBpID0gbmJpdHMoZVtqXSkgLSAxO1xuICB3aGlsZSAoaiA+PSAwKSB7XG4gICAgaWYgKGkgPj0gazEpIHcgPSBlW2pdID4+IGkgLSBrMSAmIGttO2Vsc2Uge1xuICAgICAgdyA9IChlW2pdICYgKDEgPDwgaSArIDEpIC0gMSkgPDwgazEgLSBpO1xuICAgICAgaWYgKGogPiAwKSB3IHw9IGVbaiAtIDFdID4+IHRoaXMuREIgKyBpIC0gazE7XG4gICAgfVxuICAgIG4gPSBrO1xuICAgIHdoaWxlICgodyAmIDEpID09IDApIHtcbiAgICAgIHcgPj49IDE7XG4gICAgICAtLW47XG4gICAgfVxuICAgIGlmICgoaSAtPSBuKSA8IDApIHtcbiAgICAgIGkgKz0gdGhpcy5EQjtcbiAgICAgIC0tajtcbiAgICB9XG4gICAgaWYgKGlzMSkge1xuICAgICAgLy8gcmV0ID09IDEsIGRvbid0IGJvdGhlciBzcXVhcmluZyBvciBtdWx0aXBseWluZyBpdFxuICAgICAgZ1t3XS5jb3B5VG8ocik7XG4gICAgICBpczEgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2hpbGUgKG4gPiAxKSB7XG4gICAgICAgIHouc3FyVG8ociwgcjIpO1xuICAgICAgICB6LnNxclRvKHIyLCByKTtcbiAgICAgICAgbiAtPSAyO1xuICAgICAgfVxuICAgICAgaWYgKG4gPiAwKSB6LnNxclRvKHIsIHIyKTtlbHNlIHtcbiAgICAgICAgdCA9IHI7XG4gICAgICAgIHIgPSByMjtcbiAgICAgICAgcjIgPSB0O1xuICAgICAgfVxuICAgICAgei5tdWxUbyhyMiwgZ1t3XSwgcik7XG4gICAgfVxuICAgIHdoaWxlIChqID49IDAgJiYgKGVbal0gJiAxIDw8IGkpID09IDApIHtcbiAgICAgIHouc3FyVG8ociwgcjIpO1xuICAgICAgdCA9IHI7XG4gICAgICByID0gcjI7XG4gICAgICByMiA9IHQ7XG4gICAgICBpZiAoLS1pIDwgMCkge1xuICAgICAgICBpID0gdGhpcy5EQiAtIDE7XG4gICAgICAgIC0tajtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdmFyIHJlc3VsdCA9IHoucmV2ZXJ0KHIpO1xuICBjYWxsYmFjayhudWxsLCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vLyBwcm90ZWN0ZWRcbkJpZ0ludGVnZXIucHJvdG90eXBlLmNvcHlUbyA9IGJucENvcHlUbztcbkJpZ0ludGVnZXIucHJvdG90eXBlLmZyb21JbnQgPSBibnBGcm9tSW50O1xuQmlnSW50ZWdlci5wcm90b3R5cGUuZnJvbVN0cmluZyA9IGJucEZyb21TdHJpbmc7XG5CaWdJbnRlZ2VyLnByb3RvdHlwZS5jbGFtcCA9IGJucENsYW1wO1xuQmlnSW50ZWdlci5wcm90b3R5cGUuZGxTaGlmdFRvID0gYm5wRExTaGlmdFRvO1xuQmlnSW50ZWdlci5wcm90b3R5cGUuZHJTaGlmdFRvID0gYm5wRFJTaGlmdFRvO1xuQmlnSW50ZWdlci5wcm90b3R5cGUubFNoaWZ0VG8gPSBibnBMU2hpZnRUbztcbkJpZ0ludGVnZXIucHJvdG90eXBlLnJTaGlmdFRvID0gYm5wUlNoaWZ0VG87XG5CaWdJbnRlZ2VyLnByb3RvdHlwZS5zdWJUbyA9IGJucFN1YlRvO1xuQmlnSW50ZWdlci5wcm90b3R5cGUubXVsdGlwbHlUbyA9IGJucE11bHRpcGx5VG87XG5CaWdJbnRlZ2VyLnByb3RvdHlwZS5zcXVhcmVUbyA9IGJucFNxdWFyZVRvO1xuQmlnSW50ZWdlci5wcm90b3R5cGUuZGl2UmVtVG8gPSBibnBEaXZSZW1UbztcbkJpZ0ludGVnZXIucHJvdG90eXBlLmludkRpZ2l0ID0gYm5wSW52RGlnaXQ7XG5CaWdJbnRlZ2VyLnByb3RvdHlwZS5hZGRUbyA9IGJucEFkZFRvO1xuXG4vLyBwdWJsaWNcbkJpZ0ludGVnZXIucHJvdG90eXBlLnRvU3RyaW5nID0gYm5Ub1N0cmluZztcbkJpZ0ludGVnZXIucHJvdG90eXBlLm5lZ2F0ZSA9IGJuTmVnYXRlO1xuQmlnSW50ZWdlci5wcm90b3R5cGUuYWJzID0gYm5BYnM7XG5CaWdJbnRlZ2VyLnByb3RvdHlwZS5jb21wYXJlVG8gPSBibkNvbXBhcmVUbztcbkJpZ0ludGVnZXIucHJvdG90eXBlLmJpdExlbmd0aCA9IGJuQml0TGVuZ3RoO1xuQmlnSW50ZWdlci5wcm90b3R5cGUubW9kID0gYm5Nb2Q7XG5CaWdJbnRlZ2VyLnByb3RvdHlwZS5lcXVhbHMgPSBibkVxdWFscztcbkJpZ0ludGVnZXIucHJvdG90eXBlLmFkZCA9IGJuQWRkO1xuQmlnSW50ZWdlci5wcm90b3R5cGUuc3VidHJhY3QgPSBiblN1YnRyYWN0O1xuQmlnSW50ZWdlci5wcm90b3R5cGUubXVsdGlwbHkgPSBibk11bHRpcGx5O1xuQmlnSW50ZWdlci5wcm90b3R5cGUuZGl2aWRlID0gYm5EaXZpZGU7XG5CaWdJbnRlZ2VyLnByb3RvdHlwZS5tb2RQb3cgPSBibk1vZFBvdztcblxuLy8gXCJjb25zdGFudHNcIlxuQmlnSW50ZWdlci5aRVJPID0gbmJ2KDApO1xuQmlnSW50ZWdlci5PTkUgPSBuYnYoMSk7Il0sIm5hbWVzIjpbIkJpZ0ludGVnZXIiLCJhIiwiYiIsImZyb21TdHJpbmciLCJuYmkiLCJkYml0cyIsImNhbmFyeSIsImpfbG0iLCJhbTEiLCJpIiwieCIsInciLCJqIiwiYyIsIm4iLCJ2IiwiTWF0aCIsImZsb29yIiwiYW0yIiwieGwiLCJ4aCIsImwiLCJoIiwibSIsImFtMyIsImluQnJvd3NlciIsIm5hdmlnYXRvciIsImFwcE5hbWUiLCJwcm90b3R5cGUiLCJhbSIsIkRCIiwiRE0iLCJEViIsIkJJX0ZQIiwiRlYiLCJwb3ciLCJGMSIsIkYyIiwiQklfUk0iLCJCSV9SQyIsIkFycmF5IiwicnIiLCJ2diIsImNoYXJDb2RlQXQiLCJpbnQyY2hhciIsImNoYXJBdCIsImludEF0IiwicyIsImJucENvcHlUbyIsInIiLCJ0IiwiYm5wRnJvbUludCIsIm5idiIsImZyb21JbnQiLCJibnBGcm9tU3RyaW5nIiwiayIsIkVycm9yIiwibGVuZ3RoIiwibWkiLCJzaCIsImNsYW1wIiwiWkVSTyIsInN1YlRvIiwiYm5wQ2xhbXAiLCJiblRvU3RyaW5nIiwibmVnYXRlIiwidG9TdHJpbmciLCJrbSIsImQiLCJwIiwiYm5OZWdhdGUiLCJibkFicyIsImJuQ29tcGFyZVRvIiwibmJpdHMiLCJibkJpdExlbmd0aCIsImJucERMU2hpZnRUbyIsImJucERSU2hpZnRUbyIsIm1heCIsImJucExTaGlmdFRvIiwiYnMiLCJjYnMiLCJibSIsImRzIiwiYm5wUlNoaWZ0VG8iLCJibnBTdWJUbyIsIm1pbiIsImJucE11bHRpcGx5VG8iLCJhYnMiLCJ5IiwiYm5wU3F1YXJlVG8iLCJibnBEaXZSZW1UbyIsInEiLCJwbSIsInB0IiwiY29weVRvIiwidHMiLCJtcyIsIm5zaCIsImxTaGlmdFRvIiwieXMiLCJ5MCIsInl0IiwiZDEiLCJkMiIsImUiLCJkbFNoaWZ0VG8iLCJjb21wYXJlVG8iLCJPTkUiLCJxZCIsImRyU2hpZnRUbyIsInJTaGlmdFRvIiwiYm5Nb2QiLCJkaXZSZW1UbyIsImJucEludkRpZ2l0IiwiYm5FcXVhbHMiLCJibnBBZGRUbyIsImJuQWRkIiwiYWRkVG8iLCJiblN1YnRyYWN0IiwiYm5NdWx0aXBseSIsIm11bHRpcGx5VG8iLCJibkRpdmlkZSIsIk1vbnRnb21lcnkiLCJtcCIsImludkRpZ2l0IiwibXBsIiwibXBoIiwidW0iLCJtdDIiLCJtb250Q29udmVydCIsIm1vbnRSZXZlcnQiLCJyZWR1Y2UiLCJtb250UmVkdWNlIiwidTAiLCJtb250U3FyVG8iLCJzcXVhcmVUbyIsIm1vbnRNdWxUbyIsImNvbnZlcnQiLCJyZXZlcnQiLCJtdWxUbyIsInNxclRvIiwiYm5Nb2RQb3ciLCJjYWxsYmFjayIsImJpdExlbmd0aCIsInoiLCJnIiwiazEiLCJnMiIsImlzMSIsInIyIiwicmVzdWx0IiwibW9kIiwiZXF1YWxzIiwiYWRkIiwic3VidHJhY3QiLCJtdWx0aXBseSIsImRpdmlkZSIsIm1vZFBvdyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/amazon-cognito-identity-js/es/BigInteger.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/amazon-cognito-identity-js/es/Client.js":
/*!**************************************************************!*\
  !*** ./node_modules/amazon-cognito-identity-js/es/Client.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Client)\n/* harmony export */ });\n/* harmony import */ var isomorphic_unfetch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! isomorphic-unfetch */ \"(ssr)/./node_modules/isomorphic-unfetch/index.js\");\n/* harmony import */ var isomorphic_unfetch__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(isomorphic_unfetch__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _UserAgent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./UserAgent */ \"(ssr)/./node_modules/amazon-cognito-identity-js/es/UserAgent.js\");\nfunction _inheritsLoose(subClass, superClass) {\n    subClass.prototype = Object.create(superClass.prototype);\n    subClass.prototype.constructor = subClass;\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _wrapNativeSuper(Class) {\n    var _cache = typeof Map === \"function\" ? new Map() : undefined;\n    _wrapNativeSuper = function _wrapNativeSuper(Class) {\n        if (Class === null || !_isNativeFunction(Class)) return Class;\n        if (typeof Class !== \"function\") {\n            throw new TypeError(\"Super expression must either be null or a function\");\n        }\n        if (typeof _cache !== \"undefined\") {\n            if (_cache.has(Class)) return _cache.get(Class);\n            _cache.set(Class, Wrapper);\n        }\n        function Wrapper() {\n            return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n        }\n        Wrapper.prototype = Object.create(Class.prototype, {\n            constructor: {\n                value: Wrapper,\n                enumerable: false,\n                writable: true,\n                configurable: true\n            }\n        });\n        return _setPrototypeOf(Wrapper, Class);\n    };\n    return _wrapNativeSuper(Class);\n}\nfunction _construct(Parent, args, Class) {\n    if (_isNativeReflectConstruct()) {\n        _construct = Reflect.construct.bind();\n    } else {\n        _construct = function _construct(Parent, args, Class) {\n            var a = [\n                null\n            ];\n            a.push.apply(a, args);\n            var Constructor = Function.bind.apply(Parent, a);\n            var instance = new Constructor();\n            if (Class) _setPrototypeOf(instance, Class.prototype);\n            return instance;\n        };\n    }\n    return _construct.apply(null, arguments);\n}\nfunction _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n    try {\n        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));\n        return true;\n    } catch (e) {\n        return false;\n    }\n}\nfunction _isNativeFunction(fn) {\n    return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\nfunction _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n        o.__proto__ = p;\n        return o;\n    };\n    return _setPrototypeOf(o, p);\n}\nfunction _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n        return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _getPrototypeOf(o);\n}\n\n\nvar CognitoError = /*#__PURE__*/ function(_Error) {\n    _inheritsLoose(CognitoError, _Error);\n    function CognitoError(message, code, name, statusCode) {\n        var _this;\n        _this = _Error.call(this, message) || this;\n        _this.code = code;\n        _this.name = name;\n        _this.statusCode = statusCode;\n        return _this;\n    }\n    return CognitoError;\n}(/*#__PURE__*/ _wrapNativeSuper(Error));\n/** @class */ var Client = /*#__PURE__*/ function() {\n    /**\n   * Constructs a new AWS Cognito Identity Provider client object\n   * @param {string} region AWS region\n   * @param {string} endpoint endpoint\n   * @param {object} fetchOptions options for fetch API (only credentials is supported)\n   */ function Client(region, endpoint, fetchOptions) {\n        this.endpoint = endpoint || \"https://cognito-idp.\" + region + \".amazonaws.com/\";\n        var _ref = fetchOptions || {}, credentials = _ref.credentials;\n        this.fetchOptions = credentials ? {\n            credentials: credentials\n        } : {};\n    }\n    /**\n   * Makes an unauthenticated request on AWS Cognito Identity Provider API\n   * using fetch\n   * @param {string} operation API operation\n   * @param {object} params Input parameters\n   * @returns Promise<object>\n   */ var _proto = Client.prototype;\n    _proto.promisifyRequest = function promisifyRequest(operation, params) {\n        var _this2 = this;\n        return new Promise(function(resolve, reject) {\n            _this2.request(operation, params, function(err, data) {\n                if (err) {\n                    reject(new CognitoError(err.message, err.code, err.name, err.statusCode));\n                } else {\n                    resolve(data);\n                }\n            });\n        });\n    };\n    _proto.requestWithRetry = function requestWithRetry(operation, params, callback) {\n        var _this3 = this;\n        var MAX_DELAY_IN_MILLIS = 5 * 1000;\n        jitteredExponentialRetry(function(p) {\n            return new Promise(function(res, rej) {\n                _this3.request(operation, p, function(error, result) {\n                    if (error) {\n                        rej(error);\n                    } else {\n                        res(result);\n                    }\n                });\n            });\n        }, [\n            params\n        ], MAX_DELAY_IN_MILLIS).then(function(result) {\n            return callback(null, result);\n        })[\"catch\"](function(error) {\n            return callback(error);\n        });\n    } /**\n   * Makes an unauthenticated request on AWS Cognito Identity Provider API\n   * using fetch\n   * @param {string} operation API operation\n   * @param {object} params Input parameters\n   * @param {function} callback Callback called when a response is returned\n   * @returns {void}\n   */ ;\n    _proto.request = function request(operation, params, callback) {\n        var headers = {\n            \"Content-Type\": \"application/x-amz-json-1.1\",\n            \"X-Amz-Target\": \"AWSCognitoIdentityProviderService.\" + operation,\n            \"X-Amz-User-Agent\": (0,_UserAgent__WEBPACK_IMPORTED_MODULE_1__.getAmplifyUserAgent)(),\n            \"Cache-Control\": \"no-store\"\n        };\n        var options = Object.assign({}, this.fetchOptions, {\n            headers: headers,\n            method: \"POST\",\n            mode: \"cors\",\n            body: JSON.stringify(params)\n        });\n        var response;\n        var responseJsonData;\n        fetch(this.endpoint, options).then(function(resp) {\n            response = resp;\n            return resp;\n        }, function(err) {\n            // If error happens here, the request failed\n            // if it is TypeError throw network error\n            if (err instanceof TypeError) {\n                throw new Error(\"Network error\");\n            }\n            throw err;\n        }).then(function(resp) {\n            return resp.json()[\"catch\"](function() {\n                return {};\n            });\n        }).then(function(data) {\n            // return parsed body stream\n            if (response.ok) return callback(null, data);\n            responseJsonData = data;\n            // Taken from aws-sdk-js/lib/protocol/json.js\n            // eslint-disable-next-line no-underscore-dangle\n            var code = (data.__type || data.code).split(\"#\").pop();\n            var error = new Error(data.message || data.Message || null);\n            error.name = code;\n            error.code = code;\n            return callback(error);\n        })[\"catch\"](function(err) {\n            // first check if we have a service error\n            if (response && response.headers && response.headers.get(\"x-amzn-errortype\")) {\n                try {\n                    var code = response.headers.get(\"x-amzn-errortype\").split(\":\")[0];\n                    var error = new Error(response.status ? response.status.toString() : null);\n                    error.code = code;\n                    error.name = code;\n                    error.statusCode = response.status;\n                    return callback(error);\n                } catch (ex) {\n                    return callback(err);\n                }\n            // otherwise check if error is Network error\n            } else if (err instanceof Error && err.message === \"Network error\") {\n                err.code = \"NetworkError\";\n            }\n            return callback(err);\n        });\n    };\n    return Client;\n}();\n\nvar logger = {\n    debug: function debug() {\n    // Intentionally blank. This package doesn't have logging\n    }\n};\n/**\n * For now, all errors are retryable.\n */ var NonRetryableError = /*#__PURE__*/ function(_Error2) {\n    _inheritsLoose(NonRetryableError, _Error2);\n    function NonRetryableError(message) {\n        var _this4;\n        _this4 = _Error2.call(this, message) || this;\n        _this4.nonRetryable = true;\n        return _this4;\n    }\n    return NonRetryableError;\n}(/*#__PURE__*/ _wrapNativeSuper(Error));\nvar isNonRetryableError = function isNonRetryableError(obj) {\n    var key = \"nonRetryable\";\n    return obj && obj[key];\n};\nfunction retry(functionToRetry, args, delayFn, attempt) {\n    if (attempt === void 0) {\n        attempt = 1;\n    }\n    if (typeof functionToRetry !== \"function\") {\n        throw Error(\"functionToRetry must be a function\");\n    }\n    logger.debug(functionToRetry.name + \" attempt #\" + attempt + \" with args: \" + JSON.stringify(args));\n    return functionToRetry.apply(void 0, args)[\"catch\"](function(err) {\n        logger.debug(\"error on \" + functionToRetry.name, err);\n        if (isNonRetryableError(err)) {\n            logger.debug(functionToRetry.name + \" non retryable error\", err);\n            throw err;\n        }\n        var retryIn = delayFn(attempt, args, err);\n        logger.debug(functionToRetry.name + \" retrying in \" + retryIn + \" ms\");\n        if (retryIn !== false) {\n            return new Promise(function(res) {\n                return setTimeout(res, retryIn);\n            }).then(function() {\n                return retry(functionToRetry, args, delayFn, attempt + 1);\n            });\n        } else {\n            throw err;\n        }\n    });\n}\nfunction jitteredBackoff(maxDelayMs) {\n    var BASE_TIME_MS = 100;\n    var JITTER_FACTOR = 100;\n    return function(attempt) {\n        var delay = Math.pow(2, attempt) * BASE_TIME_MS + JITTER_FACTOR * Math.random();\n        return delay > maxDelayMs ? false : delay;\n    };\n}\nvar MAX_DELAY_MS = 5 * 60 * 1000;\nfunction jitteredExponentialRetry(functionToRetry, args, maxDelayMs) {\n    if (maxDelayMs === void 0) {\n        maxDelayMs = MAX_DELAY_MS;\n    }\n    return retry(functionToRetry, args, jitteredBackoff(maxDelayMs));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYW1hem9uLWNvZ25pdG8taWRlbnRpdHktanMvZXMvQ2xpZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxTQUFTQSxlQUFlQyxRQUFRLEVBQUVDLFVBQVU7SUFBSUQsU0FBU0UsU0FBUyxHQUFHQyxPQUFPQyxNQUFNLENBQUNILFdBQVdDLFNBQVM7SUFBR0YsU0FBU0UsU0FBUyxDQUFDRyxXQUFXLEdBQUdMO0lBQVVNLGdCQUFnQk4sVUFBVUM7QUFBYTtBQUM1TCxTQUFTTSxpQkFBaUJDLEtBQUs7SUFBSSxJQUFJQyxTQUFTLE9BQU9DLFFBQVEsYUFBYSxJQUFJQSxRQUFRQztJQUFXSixtQkFBbUIsU0FBU0EsaUJBQWlCQyxLQUFLO1FBQUksSUFBSUEsVUFBVSxRQUFRLENBQUNJLGtCQUFrQkosUUFBUSxPQUFPQTtRQUFPLElBQUksT0FBT0EsVUFBVSxZQUFZO1lBQUUsTUFBTSxJQUFJSyxVQUFVO1FBQXVEO1FBQUUsSUFBSSxPQUFPSixXQUFXLGFBQWE7WUFBRSxJQUFJQSxPQUFPSyxHQUFHLENBQUNOLFFBQVEsT0FBT0MsT0FBT00sR0FBRyxDQUFDUDtZQUFRQyxPQUFPTyxHQUFHLENBQUNSLE9BQU9TO1FBQVU7UUFBRSxTQUFTQTtZQUFZLE9BQU9DLFdBQVdWLE9BQU9XLFdBQVdDLGdCQUFnQixJQUFJLEVBQUVmLFdBQVc7UUFBRztRQUFFWSxRQUFRZixTQUFTLEdBQUdDLE9BQU9DLE1BQU0sQ0FBQ0ksTUFBTU4sU0FBUyxFQUFFO1lBQUVHLGFBQWE7Z0JBQUVnQixPQUFPSjtnQkFBU0ssWUFBWTtnQkFBT0MsVUFBVTtnQkFBTUMsY0FBYztZQUFLO1FBQUU7UUFBSSxPQUFPbEIsZ0JBQWdCVyxTQUFTVDtJQUFRO0lBQUcsT0FBT0QsaUJBQWlCQztBQUFRO0FBQ3R2QixTQUFTVSxXQUFXTyxNQUFNLEVBQUVDLElBQUksRUFBRWxCLEtBQUs7SUFBSSxJQUFJbUIsNkJBQTZCO1FBQUVULGFBQWFVLFFBQVFDLFNBQVMs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RSxNQUFNO1FBQzdFLE9BQU9ILFFBQVFILGFBQWEsUUFBUUc7SUFDdEM7QUFDRjtBQUNBLElBQUlJLGVBQWUsSUFBSSxLQUFLO0FBQzVCLFNBQVNsRCx5QkFBeUJxQyxlQUFlLEVBQUU1RixJQUFJLEVBQUVrRyxVQUFVO0lBQ2pFLElBQUlBLGVBQWUsS0FBSyxHQUFHO1FBQ3pCQSxhQUFhTztJQUNmO0lBQ0EsT0FBT2QsTUFBTUMsaUJBQWlCNUYsTUFBTWlHLGdCQUFnQkM7QUFDdEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mdXp6eS1vY3RvLWJyb2Njb2xpLW5leHQvLi9ub2RlX21vZHVsZXMvYW1hem9uLWNvZ25pdG8taWRlbnRpdHktanMvZXMvQ2xpZW50LmpzPzAxZDEiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7IHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzOyBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5mdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7IHZhciBfY2FjaGUgPSB0eXBlb2YgTWFwID09PSBcImZ1bmN0aW9uXCIgPyBuZXcgTWFwKCkgOiB1bmRlZmluZWQ7IF93cmFwTmF0aXZlU3VwZXIgPSBmdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7IGlmIChDbGFzcyA9PT0gbnVsbCB8fCAhX2lzTmF0aXZlRnVuY3Rpb24oQ2xhc3MpKSByZXR1cm4gQ2xhc3M7IGlmICh0eXBlb2YgQ2xhc3MgIT09IFwiZnVuY3Rpb25cIikgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gaWYgKHR5cGVvZiBfY2FjaGUgIT09IFwidW5kZWZpbmVkXCIpIHsgaWYgKF9jYWNoZS5oYXMoQ2xhc3MpKSByZXR1cm4gX2NhY2hlLmdldChDbGFzcyk7IF9jYWNoZS5zZXQoQ2xhc3MsIFdyYXBwZXIpOyB9IGZ1bmN0aW9uIFdyYXBwZXIoKSB7IHJldHVybiBfY29uc3RydWN0KENsYXNzLCBhcmd1bWVudHMsIF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3Rvcik7IH0gV3JhcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogV3JhcHBlciwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihXcmFwcGVyLCBDbGFzcyk7IH07IHJldHVybiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKTsgfVxuZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7IGlmIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkpIHsgX2NvbnN0cnVjdCA9IFJlZmxlY3QuY29uc3RydWN0LmJpbmQoKTsgfSBlbHNlIHsgX2NvbnN0cnVjdCA9IGZ1bmN0aW9uIF9jb25zdHJ1Y3QoUGFyZW50LCBhcmdzLCBDbGFzcykgeyB2YXIgYSA9IFtudWxsXTsgYS5wdXNoLmFwcGx5KGEsIGFyZ3MpOyB2YXIgQ29uc3RydWN0b3IgPSBGdW5jdGlvbi5iaW5kLmFwcGx5KFBhcmVudCwgYSk7IHZhciBpbnN0YW5jZSA9IG5ldyBDb25zdHJ1Y3RvcigpOyBpZiAoQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihpbnN0YW5jZSwgQ2xhc3MucHJvdG90eXBlKTsgcmV0dXJuIGluc3RhbmNlOyB9OyB9IHJldHVybiBfY29uc3RydWN0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7IH1cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuZnVuY3Rpb24gX2lzTmF0aXZlRnVuY3Rpb24oZm4pIHsgcmV0dXJuIEZ1bmN0aW9uLnRvU3RyaW5nLmNhbGwoZm4pLmluZGV4T2YoXCJbbmF0aXZlIGNvZGVdXCIpICE9PSAtMTsgfVxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5pbXBvcnQgJ2lzb21vcnBoaWMtdW5mZXRjaCc7XG5pbXBvcnQgeyBnZXRBbXBsaWZ5VXNlckFnZW50IH0gZnJvbSAnLi9Vc2VyQWdlbnQnO1xudmFyIENvZ25pdG9FcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0Vycm9yKSB7XG4gIF9pbmhlcml0c0xvb3NlKENvZ25pdG9FcnJvciwgX0Vycm9yKTtcbiAgZnVuY3Rpb24gQ29nbml0b0Vycm9yKG1lc3NhZ2UsIGNvZGUsIG5hbWUsIHN0YXR1c0NvZGUpIHtcbiAgICB2YXIgX3RoaXM7XG4gICAgX3RoaXMgPSBfRXJyb3IuY2FsbCh0aGlzLCBtZXNzYWdlKSB8fCB0aGlzO1xuICAgIF90aGlzLmNvZGUgPSBjb2RlO1xuICAgIF90aGlzLm5hbWUgPSBuYW1lO1xuICAgIF90aGlzLnN0YXR1c0NvZGUgPSBzdGF0dXNDb2RlO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICByZXR1cm4gQ29nbml0b0Vycm9yO1xufSggLyojX19QVVJFX18qL193cmFwTmF0aXZlU3VwZXIoRXJyb3IpKTtcbi8qKiBAY2xhc3MgKi9cbnZhciBDbGllbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQ29uc3RydWN0cyBhIG5ldyBBV1MgQ29nbml0byBJZGVudGl0eSBQcm92aWRlciBjbGllbnQgb2JqZWN0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZWdpb24gQVdTIHJlZ2lvblxuICAgKiBAcGFyYW0ge3N0cmluZ30gZW5kcG9pbnQgZW5kcG9pbnRcbiAgICogQHBhcmFtIHtvYmplY3R9IGZldGNoT3B0aW9ucyBvcHRpb25zIGZvciBmZXRjaCBBUEkgKG9ubHkgY3JlZGVudGlhbHMgaXMgc3VwcG9ydGVkKVxuICAgKi9cbiAgZnVuY3Rpb24gQ2xpZW50KHJlZ2lvbiwgZW5kcG9pbnQsIGZldGNoT3B0aW9ucykge1xuICAgIHRoaXMuZW5kcG9pbnQgPSBlbmRwb2ludCB8fCBcImh0dHBzOi8vY29nbml0by1pZHAuXCIgKyByZWdpb24gKyBcIi5hbWF6b25hd3MuY29tL1wiO1xuICAgIHZhciBfcmVmID0gZmV0Y2hPcHRpb25zIHx8IHt9LFxuICAgICAgY3JlZGVudGlhbHMgPSBfcmVmLmNyZWRlbnRpYWxzO1xuICAgIHRoaXMuZmV0Y2hPcHRpb25zID0gY3JlZGVudGlhbHMgPyB7XG4gICAgICBjcmVkZW50aWFsczogY3JlZGVudGlhbHNcbiAgICB9IDoge307XG4gIH1cblxuICAvKipcbiAgICogTWFrZXMgYW4gdW5hdXRoZW50aWNhdGVkIHJlcXVlc3Qgb24gQVdTIENvZ25pdG8gSWRlbnRpdHkgUHJvdmlkZXIgQVBJXG4gICAqIHVzaW5nIGZldGNoXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcGVyYXRpb24gQVBJIG9wZXJhdGlvblxuICAgKiBAcGFyYW0ge29iamVjdH0gcGFyYW1zIElucHV0IHBhcmFtZXRlcnNcbiAgICogQHJldHVybnMgUHJvbWlzZTxvYmplY3Q+XG4gICAqL1xuICB2YXIgX3Byb3RvID0gQ2xpZW50LnByb3RvdHlwZTtcbiAgX3Byb3RvLnByb21pc2lmeVJlcXVlc3QgPSBmdW5jdGlvbiBwcm9taXNpZnlSZXF1ZXN0KG9wZXJhdGlvbiwgcGFyYW1zKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIF90aGlzMi5yZXF1ZXN0KG9wZXJhdGlvbiwgcGFyYW1zLCBmdW5jdGlvbiAoZXJyLCBkYXRhKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZWplY3QobmV3IENvZ25pdG9FcnJvcihlcnIubWVzc2FnZSwgZXJyLmNvZGUsIGVyci5uYW1lLCBlcnIuc3RhdHVzQ29kZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc29sdmUoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuICBfcHJvdG8ucmVxdWVzdFdpdGhSZXRyeSA9IGZ1bmN0aW9uIHJlcXVlc3RXaXRoUmV0cnkob3BlcmF0aW9uLCBwYXJhbXMsIGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzMyA9IHRoaXM7XG4gICAgdmFyIE1BWF9ERUxBWV9JTl9NSUxMSVMgPSA1ICogMTAwMDtcbiAgICBqaXR0ZXJlZEV4cG9uZW50aWFsUmV0cnkoZnVuY3Rpb24gKHApIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzLCByZWopIHtcbiAgICAgICAgX3RoaXMzLnJlcXVlc3Qob3BlcmF0aW9uLCBwLCBmdW5jdGlvbiAoZXJyb3IsIHJlc3VsdCkge1xuICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgcmVqKGVycm9yKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzKHJlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sIFtwYXJhbXNdLCBNQVhfREVMQVlfSU5fTUlMTElTKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhudWxsLCByZXN1bHQpO1xuICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZXJyb3IpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIE1ha2VzIGFuIHVuYXV0aGVudGljYXRlZCByZXF1ZXN0IG9uIEFXUyBDb2duaXRvIElkZW50aXR5IFByb3ZpZGVyIEFQSVxuICAgKiB1c2luZyBmZXRjaFxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3BlcmF0aW9uIEFQSSBvcGVyYXRpb25cbiAgICogQHBhcmFtIHtvYmplY3R9IHBhcmFtcyBJbnB1dCBwYXJhbWV0ZXJzXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrIGNhbGxlZCB3aGVuIGEgcmVzcG9uc2UgaXMgcmV0dXJuZWRcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqLztcbiAgX3Byb3RvLnJlcXVlc3QgPSBmdW5jdGlvbiByZXF1ZXN0KG9wZXJhdGlvbiwgcGFyYW1zLCBjYWxsYmFjaykge1xuICAgIHZhciBoZWFkZXJzID0ge1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LWFtei1qc29uLTEuMScsXG4gICAgICAnWC1BbXotVGFyZ2V0JzogXCJBV1NDb2duaXRvSWRlbnRpdHlQcm92aWRlclNlcnZpY2UuXCIgKyBvcGVyYXRpb24sXG4gICAgICAnWC1BbXotVXNlci1BZ2VudCc6IGdldEFtcGxpZnlVc2VyQWdlbnQoKSxcbiAgICAgICdDYWNoZS1Db250cm9sJzogJ25vLXN0b3JlJ1xuICAgIH07XG4gICAgdmFyIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmZldGNoT3B0aW9ucywge1xuICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgbW9kZTogJ2NvcnMnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGFyYW1zKVxuICAgIH0pO1xuICAgIHZhciByZXNwb25zZTtcbiAgICB2YXIgcmVzcG9uc2VKc29uRGF0YTtcbiAgICBmZXRjaCh0aGlzLmVuZHBvaW50LCBvcHRpb25zKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgICByZXNwb25zZSA9IHJlc3A7XG4gICAgICByZXR1cm4gcmVzcDtcbiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAvLyBJZiBlcnJvciBoYXBwZW5zIGhlcmUsIHRoZSByZXF1ZXN0IGZhaWxlZFxuICAgICAgLy8gaWYgaXQgaXMgVHlwZUVycm9yIHRocm93IG5ldHdvcmsgZXJyb3JcbiAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBUeXBlRXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOZXR3b3JrIGVycm9yJyk7XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkge1xuICAgICAgcmV0dXJuIHJlc3AuanNvbigpW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9KTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAvLyByZXR1cm4gcGFyc2VkIGJvZHkgc3RyZWFtXG4gICAgICBpZiAocmVzcG9uc2Uub2spIHJldHVybiBjYWxsYmFjayhudWxsLCBkYXRhKTtcbiAgICAgIHJlc3BvbnNlSnNvbkRhdGEgPSBkYXRhO1xuXG4gICAgICAvLyBUYWtlbiBmcm9tIGF3cy1zZGstanMvbGliL3Byb3RvY29sL2pzb24uanNcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlcnNjb3JlLWRhbmdsZVxuICAgICAgdmFyIGNvZGUgPSAoZGF0YS5fX3R5cGUgfHwgZGF0YS5jb2RlKS5zcGxpdCgnIycpLnBvcCgpO1xuICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKGRhdGEubWVzc2FnZSB8fCBkYXRhLk1lc3NhZ2UgfHwgbnVsbCk7XG4gICAgICBlcnJvci5uYW1lID0gY29kZTtcbiAgICAgIGVycm9yLmNvZGUgPSBjb2RlO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycm9yKTtcbiAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIC8vIGZpcnN0IGNoZWNrIGlmIHdlIGhhdmUgYSBzZXJ2aWNlIGVycm9yXG4gICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UuaGVhZGVycyAmJiByZXNwb25zZS5oZWFkZXJzLmdldCgneC1hbXpuLWVycm9ydHlwZScpKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIGNvZGUgPSByZXNwb25zZS5oZWFkZXJzLmdldCgneC1hbXpuLWVycm9ydHlwZScpLnNwbGl0KCc6JylbMF07XG4gICAgICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKHJlc3BvbnNlLnN0YXR1cyA/IHJlc3BvbnNlLnN0YXR1cy50b1N0cmluZygpIDogbnVsbCk7XG4gICAgICAgICAgZXJyb3IuY29kZSA9IGNvZGU7XG4gICAgICAgICAgZXJyb3IubmFtZSA9IGNvZGU7XG4gICAgICAgICAgZXJyb3Iuc3RhdHVzQ29kZSA9IHJlc3BvbnNlLnN0YXR1cztcbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyb3IpO1xuICAgICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIG90aGVyd2lzZSBjaGVjayBpZiBlcnJvciBpcyBOZXR3b3JrIGVycm9yXG4gICAgICB9IGVsc2UgaWYgKGVyciBpbnN0YW5jZW9mIEVycm9yICYmIGVyci5tZXNzYWdlID09PSAnTmV0d29yayBlcnJvcicpIHtcbiAgICAgICAgZXJyLmNvZGUgPSAnTmV0d29ya0Vycm9yJztcbiAgICAgIH1cbiAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgIH0pO1xuICB9O1xuICByZXR1cm4gQ2xpZW50O1xufSgpO1xuZXhwb3J0IHsgQ2xpZW50IGFzIGRlZmF1bHQgfTtcbnZhciBsb2dnZXIgPSB7XG4gIGRlYnVnOiBmdW5jdGlvbiBkZWJ1ZygpIHtcbiAgICAvLyBJbnRlbnRpb25hbGx5IGJsYW5rLiBUaGlzIHBhY2thZ2UgZG9lc24ndCBoYXZlIGxvZ2dpbmdcbiAgfVxufTtcblxuLyoqXG4gKiBGb3Igbm93LCBhbGwgZXJyb3JzIGFyZSByZXRyeWFibGUuXG4gKi9cbnZhciBOb25SZXRyeWFibGVFcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0Vycm9yMikge1xuICBfaW5oZXJpdHNMb29zZShOb25SZXRyeWFibGVFcnJvciwgX0Vycm9yMik7XG4gIGZ1bmN0aW9uIE5vblJldHJ5YWJsZUVycm9yKG1lc3NhZ2UpIHtcbiAgICB2YXIgX3RoaXM0O1xuICAgIF90aGlzNCA9IF9FcnJvcjIuY2FsbCh0aGlzLCBtZXNzYWdlKSB8fCB0aGlzO1xuICAgIF90aGlzNC5ub25SZXRyeWFibGUgPSB0cnVlO1xuICAgIHJldHVybiBfdGhpczQ7XG4gIH1cbiAgcmV0dXJuIE5vblJldHJ5YWJsZUVycm9yO1xufSggLyojX19QVVJFX18qL193cmFwTmF0aXZlU3VwZXIoRXJyb3IpKTtcbnZhciBpc05vblJldHJ5YWJsZUVycm9yID0gZnVuY3Rpb24gaXNOb25SZXRyeWFibGVFcnJvcihvYmopIHtcbiAgdmFyIGtleSA9ICdub25SZXRyeWFibGUnO1xuICByZXR1cm4gb2JqICYmIG9ialtrZXldO1xufTtcbmZ1bmN0aW9uIHJldHJ5KGZ1bmN0aW9uVG9SZXRyeSwgYXJncywgZGVsYXlGbiwgYXR0ZW1wdCkge1xuICBpZiAoYXR0ZW1wdCA9PT0gdm9pZCAwKSB7XG4gICAgYXR0ZW1wdCA9IDE7XG4gIH1cbiAgaWYgKHR5cGVvZiBmdW5jdGlvblRvUmV0cnkgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBFcnJvcignZnVuY3Rpb25Ub1JldHJ5IG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB9XG4gIGxvZ2dlci5kZWJ1ZyhmdW5jdGlvblRvUmV0cnkubmFtZSArIFwiIGF0dGVtcHQgI1wiICsgYXR0ZW1wdCArIFwiIHdpdGggYXJnczogXCIgKyBKU09OLnN0cmluZ2lmeShhcmdzKSk7XG4gIHJldHVybiBmdW5jdGlvblRvUmV0cnkuYXBwbHkodm9pZCAwLCBhcmdzKVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlcnIpIHtcbiAgICBsb2dnZXIuZGVidWcoXCJlcnJvciBvbiBcIiArIGZ1bmN0aW9uVG9SZXRyeS5uYW1lLCBlcnIpO1xuICAgIGlmIChpc05vblJldHJ5YWJsZUVycm9yKGVycikpIHtcbiAgICAgIGxvZ2dlci5kZWJ1ZyhmdW5jdGlvblRvUmV0cnkubmFtZSArIFwiIG5vbiByZXRyeWFibGUgZXJyb3JcIiwgZXJyKTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gICAgdmFyIHJldHJ5SW4gPSBkZWxheUZuKGF0dGVtcHQsIGFyZ3MsIGVycik7XG4gICAgbG9nZ2VyLmRlYnVnKGZ1bmN0aW9uVG9SZXRyeS5uYW1lICsgXCIgcmV0cnlpbmcgaW4gXCIgKyByZXRyeUluICsgXCIgbXNcIik7XG4gICAgaWYgKHJldHJ5SW4gIT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlcykge1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChyZXMsIHJldHJ5SW4pO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiByZXRyeShmdW5jdGlvblRvUmV0cnksIGFyZ3MsIGRlbGF5Rm4sIGF0dGVtcHQgKyAxKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIGppdHRlcmVkQmFja29mZihtYXhEZWxheU1zKSB7XG4gIHZhciBCQVNFX1RJTUVfTVMgPSAxMDA7XG4gIHZhciBKSVRURVJfRkFDVE9SID0gMTAwO1xuICByZXR1cm4gZnVuY3Rpb24gKGF0dGVtcHQpIHtcbiAgICB2YXIgZGVsYXkgPSBNYXRoLnBvdygyLCBhdHRlbXB0KSAqIEJBU0VfVElNRV9NUyArIEpJVFRFUl9GQUNUT1IgKiBNYXRoLnJhbmRvbSgpO1xuICAgIHJldHVybiBkZWxheSA+IG1heERlbGF5TXMgPyBmYWxzZSA6IGRlbGF5O1xuICB9O1xufVxudmFyIE1BWF9ERUxBWV9NUyA9IDUgKiA2MCAqIDEwMDA7XG5mdW5jdGlvbiBqaXR0ZXJlZEV4cG9uZW50aWFsUmV0cnkoZnVuY3Rpb25Ub1JldHJ5LCBhcmdzLCBtYXhEZWxheU1zKSB7XG4gIGlmIChtYXhEZWxheU1zID09PSB2b2lkIDApIHtcbiAgICBtYXhEZWxheU1zID0gTUFYX0RFTEFZX01TO1xuICB9XG4gIHJldHVybiByZXRyeShmdW5jdGlvblRvUmV0cnksIGFyZ3MsIGppdHRlcmVkQmFja29mZihtYXhEZWxheU1zKSk7XG59Il0sIm5hbWVzIjpbIl9pbmhlcml0c0xvb3NlIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJfc2V0UHJvdG90eXBlT2YiLCJfd3JhcE5hdGl2ZVN1cGVyIiwiQ2xhc3MiLCJfY2FjaGUiLCJNYXAiLCJ1bmRlZmluZWQiLCJfaXNOYXRpdmVGdW5jdGlvbiIsIlR5cGVFcnJvciIsImhhcyIsImdldCIsInNldCIsIldyYXBwZXIiLCJfY29uc3RydWN0IiwiYXJndW1lbnRzIiwiX2dldFByb3RvdHlwZU9mIiwidmFsdWUiLCJlbnVtZXJhYmxlIiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJQYXJlbnQiLCJhcmdzIiwiX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsIlJlZmxlY3QiLCJjb25zdHJ1Y3QiLCJiaW5kIiwiYSIsInB1c2giLCJhcHBseSIsIkNvbnN0cnVjdG9yIiwiRnVuY3Rpb24iLCJpbnN0YW5jZSIsInNoYW0iLCJQcm94eSIsIkJvb2xlYW4iLCJ2YWx1ZU9mIiwiY2FsbCIsImUiLCJmbiIsInRvU3RyaW5nIiwiaW5kZXhPZiIsIm8iLCJwIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJnZXRQcm90b3R5cGVPZiIsImdldEFtcGxpZnlVc2VyQWdlbnQiLCJDb2duaXRvRXJyb3IiLCJfRXJyb3IiLCJtZXNzYWdlIiwiY29kZSIsIm5hbWUiLCJzdGF0dXNDb2RlIiwiX3RoaXMiLCJFcnJvciIsIkNsaWVudCIsInJlZ2lvbiIsImVuZHBvaW50IiwiZmV0Y2hPcHRpb25zIiwiX3JlZiIsImNyZWRlbnRpYWxzIiwiX3Byb3RvIiwicHJvbWlzaWZ5UmVxdWVzdCIsIm9wZXJhdGlvbiIsInBhcmFtcyIsIl90aGlzMiIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVxdWVzdCIsImVyciIsImRhdGEiLCJyZXF1ZXN0V2l0aFJldHJ5IiwiY2FsbGJhY2siLCJfdGhpczMiLCJNQVhfREVMQVlfSU5fTUlMTElTIiwiaml0dGVyZWRFeHBvbmVudGlhbFJldHJ5IiwicmVzIiwicmVqIiwiZXJyb3IiLCJyZXN1bHQiLCJ0aGVuIiwiaGVhZGVycyIsIm9wdGlvbnMiLCJhc3NpZ24iLCJtZXRob2QiLCJtb2RlIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZXNwb25zZSIsInJlc3BvbnNlSnNvbkRhdGEiLCJmZXRjaCIsInJlc3AiLCJqc29uIiwib2siLCJfX3R5cGUiLCJzcGxpdCIsInBvcCIsIk1lc3NhZ2UiLCJzdGF0dXMiLCJleCIsImRlZmF1bHQiLCJsb2dnZXIiLCJkZWJ1ZyIsIk5vblJldHJ5YWJsZUVycm9yIiwiX0Vycm9yMiIsIl90aGlzNCIsIm5vblJldHJ5YWJsZSIsImlzTm9uUmV0cnlhYmxlRXJyb3IiLCJvYmoiLCJrZXkiLCJyZXRyeSIsImZ1bmN0aW9uVG9SZXRyeSIsImRlbGF5Rm4iLCJhdHRlbXB0IiwicmV0cnlJbiIsInNldFRpbWVvdXQiLCJqaXR0ZXJlZEJhY2tvZmYiLCJtYXhEZWxheU1zIiwiQkFTRV9USU1FX01TIiwiSklUVEVSX0ZBQ1RPUiIsImRlbGF5IiwiTWF0aCIsInBvdyIsInJhbmRvbSIsIk1BWF9ERUxBWV9NUyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/amazon-cognito-identity-js/es/Client.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/amazon-cognito-identity-js/es/CognitoAccessToken.js":
/*!**************************************************************************!*\
  !*** ./node_modules/amazon-cognito-identity-js/es/CognitoAccessToken.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CognitoAccessToken)\n/* harmony export */ });\n/* harmony import */ var _CognitoJwtToken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CognitoJwtToken */ \"(ssr)/./node_modules/amazon-cognito-identity-js/es/CognitoJwtToken.js\");\nfunction _inheritsLoose(subClass, superClass) {\n    subClass.prototype = Object.create(superClass.prototype);\n    subClass.prototype.constructor = subClass;\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n        o.__proto__ = p;\n        return o;\n    };\n    return _setPrototypeOf(o, p);\n}\n/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */ \n/** @class */ var CognitoAccessToken = /*#__PURE__*/ function(_CognitoJwtToken) {\n    _inheritsLoose(CognitoAccessToken, _CognitoJwtToken);\n    /**\n   * Constructs a new CognitoAccessToken object\n   * @param {string=} AccessToken The JWT access token.\n   */ function CognitoAccessToken(_temp) {\n        var _ref = _temp === void 0 ? {} : _temp, AccessToken = _ref.AccessToken;\n        return _CognitoJwtToken.call(this, AccessToken || \"\") || this;\n    }\n    return CognitoAccessToken;\n}(_CognitoJwtToken__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYW1hem9uLWNvZ25pdG8taWRlbnRpdHktanMvZXMvQ29nbml0b0FjY2Vzc1Rva2VuLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsU0FBU0EsZUFBZUMsUUFBUSxFQUFFQyxVQUFVO0lBQUlELFNBQVNFLFNBQVMsR0FBR0MsT0FBT0MsTUFBTSxDQUFDSCxXQUFXQyxTQUFTO0lBQUdGLFNBQVNFLFNBQVMsQ0FBQ0csV0FBVyxHQUFHTDtJQUFVTSxnQkFBZ0JOLFVBQVVDO0FBQWE7QUFDNUwsU0FBU0ssZ0JBQWdCQyxDQUFDLEVBQUVDLENBQUM7SUFBSUYsa0JBQWtCSCxPQUFPTSxjQUFjLEdBQUdOLE9BQU9NLGNBQWMsQ0FBQ0MsSUFBSSxLQUFLLFNBQVNKLGdCQUFnQkMsQ0FBQyxFQUFFQyxDQUFDO1FBQUlELEVBQUVJLFNBQVMsR0FBR0g7UUFBRyxPQUFPRDtJQUFHO0lBQUcsT0FBT0QsZ0JBQWdCQyxHQUFHQztBQUFJO0FBQ3ZNOzs7Q0FHQyxHQUUrQztBQUVoRCxXQUFXLEdBQ1gsSUFBSUsscUJBQXFCLFdBQVcsR0FBRSxTQUFVQyxnQkFBZ0I7SUFDOURmLGVBQWVjLG9CQUFvQkM7SUFDbkM7OztHQUdDLEdBQ0QsU0FBU0QsbUJBQW1CRSxLQUFLO1FBQy9CLElBQUlDLE9BQU9ELFVBQVUsS0FBSyxJQUFJLENBQUMsSUFBSUEsT0FDakNFLGNBQWNELEtBQUtDLFdBQVc7UUFDaEMsT0FBT0gsaUJBQWlCSSxJQUFJLENBQUMsSUFBSSxFQUFFRCxlQUFlLE9BQU8sSUFBSTtJQUMvRDtJQUNBLE9BQU9KO0FBQ1QsRUFBRUQsd0RBQWVBO0FBQ3dCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnV6enktb2N0by1icm9jY29saS1uZXh0Ly4vbm9kZV9tb2R1bGVzL2FtYXpvbi1jb2duaXRvLWlkZW50aXR5LWpzL2VzL0NvZ25pdG9BY2Nlc3NUb2tlbi5qcz9jMDcxIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpOyBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzczsgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cbi8qIVxuICogQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCBDb2duaXRvSnd0VG9rZW4gZnJvbSAnLi9Db2duaXRvSnd0VG9rZW4nO1xuXG4vKiogQGNsYXNzICovXG52YXIgQ29nbml0b0FjY2Vzc1Rva2VuID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQ29nbml0b0p3dFRva2VuKSB7XG4gIF9pbmhlcml0c0xvb3NlKENvZ25pdG9BY2Nlc3NUb2tlbiwgX0NvZ25pdG9Kd3RUb2tlbik7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgbmV3IENvZ25pdG9BY2Nlc3NUb2tlbiBvYmplY3RcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBBY2Nlc3NUb2tlbiBUaGUgSldUIGFjY2VzcyB0b2tlbi5cbiAgICovXG4gIGZ1bmN0aW9uIENvZ25pdG9BY2Nlc3NUb2tlbihfdGVtcCkge1xuICAgIHZhciBfcmVmID0gX3RlbXAgPT09IHZvaWQgMCA/IHt9IDogX3RlbXAsXG4gICAgICBBY2Nlc3NUb2tlbiA9IF9yZWYuQWNjZXNzVG9rZW47XG4gICAgcmV0dXJuIF9Db2duaXRvSnd0VG9rZW4uY2FsbCh0aGlzLCBBY2Nlc3NUb2tlbiB8fCAnJykgfHwgdGhpcztcbiAgfVxuICByZXR1cm4gQ29nbml0b0FjY2Vzc1Rva2VuO1xufShDb2duaXRvSnd0VG9rZW4pO1xuZXhwb3J0IHsgQ29nbml0b0FjY2Vzc1Rva2VuIGFzIGRlZmF1bHQgfTsiXSwibmFtZXMiOlsiX2luaGVyaXRzTG9vc2UiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsIl9zZXRQcm90b3R5cGVPZiIsIm8iLCJwIiwic2V0UHJvdG90eXBlT2YiLCJiaW5kIiwiX19wcm90b19fIiwiQ29nbml0b0p3dFRva2VuIiwiQ29nbml0b0FjY2Vzc1Rva2VuIiwiX0NvZ25pdG9Kd3RUb2tlbiIsIl90ZW1wIiwiX3JlZiIsIkFjY2Vzc1Rva2VuIiwiY2FsbCIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/amazon-cognito-identity-js/es/CognitoAccessToken.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/amazon-cognito-identity-js/es/CognitoIdToken.js":
/*!**********************************************************************!*\
  !*** ./node_modules/amazon-cognito-identity-js/es/CognitoIdToken.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CognitoIdToken)\n/* harmony export */ });\n/* harmony import */ var _CognitoJwtToken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CognitoJwtToken */ \"(ssr)/./node_modules/amazon-cognito-identity-js/es/CognitoJwtToken.js\");\nfunction _inheritsLoose(subClass, superClass) {\n    subClass.prototype = Object.create(superClass.prototype);\n    subClass.prototype.constructor = subClass;\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n        o.__proto__ = p;\n        return o;\n    };\n    return _setPrototypeOf(o, p);\n}\n/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */ \n/** @class */ var CognitoIdToken = /*#__PURE__*/ function(_CognitoJwtToken) {\n    _inheritsLoose(CognitoIdToken, _CognitoJwtToken);\n    /**\n   * Constructs a new CognitoIdToken object\n   * @param {string=} IdToken The JWT Id token\n   */ function CognitoIdToken(_temp) {\n        var _ref = _temp === void 0 ? {} : _temp, IdToken = _ref.IdToken;\n        return _CognitoJwtToken.call(this, IdToken || \"\") || this;\n    }\n    return CognitoIdToken;\n}(_CognitoJwtToken__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYW1hem9uLWNvZ25pdG8taWRlbnRpdHktanMvZXMvQ29nbml0b0lkVG9rZW4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxTQUFTQSxlQUFlQyxRQUFRLEVBQUVDLFVBQVU7SUFBSUQsU0FBU0UsU0FBUyxHQUFHQyxPQUFPQyxNQUFNLENBQUNILFdBQVdDLFNBQVM7SUFBR0YsU0FBU0UsU0FBUyxDQUFDRyxXQUFXLEdBQUdMO0lBQVVNLGdCQUFnQk4sVUFBVUM7QUFBYTtBQUM1TCxTQUFTSyxnQkFBZ0JDLENBQUMsRUFBRUMsQ0FBQztJQUFJRixrQkFBa0JILE9BQU9NLGNBQWMsR0FBR04sT0FBT00sY0FBYyxDQUFDQyxJQUFJLEtBQUssU0FBU0osZ0JBQWdCQyxDQUFDLEVBQUVDLENBQUM7UUFBSUQsRUFBRUksU0FBUyxHQUFHSDtRQUFHLE9BQU9EO0lBQUc7SUFBRyxPQUFPRCxnQkFBZ0JDLEdBQUdDO0FBQUk7QUFDdk07OztDQUdDLEdBRStDO0FBRWhELFdBQVcsR0FDWCxJQUFJSyxpQkFBaUIsV0FBVyxHQUFFLFNBQVVDLGdCQUFnQjtJQUMxRGYsZUFBZWMsZ0JBQWdCQztJQUMvQjs7O0dBR0MsR0FDRCxTQUFTRCxlQUFlRSxLQUFLO1FBQzNCLElBQUlDLE9BQU9ELFVBQVUsS0FBSyxJQUFJLENBQUMsSUFBSUEsT0FDakNFLFVBQVVELEtBQUtDLE9BQU87UUFDeEIsT0FBT0gsaUJBQWlCSSxJQUFJLENBQUMsSUFBSSxFQUFFRCxXQUFXLE9BQU8sSUFBSTtJQUMzRDtJQUNBLE9BQU9KO0FBQ1QsRUFBRUQsd0RBQWVBO0FBQ29CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnV6enktb2N0by1icm9jY29saS1uZXh0Ly4vbm9kZV9tb2R1bGVzL2FtYXpvbi1jb2duaXRvLWlkZW50aXR5LWpzL2VzL0NvZ25pdG9JZFRva2VuLmpzPzMxMjkiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7IHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzOyBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuLyohXG4gKiBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0IENvZ25pdG9Kd3RUb2tlbiBmcm9tICcuL0NvZ25pdG9Kd3RUb2tlbic7XG5cbi8qKiBAY2xhc3MgKi9cbnZhciBDb2duaXRvSWRUb2tlbiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0NvZ25pdG9Kd3RUb2tlbikge1xuICBfaW5oZXJpdHNMb29zZShDb2duaXRvSWRUb2tlbiwgX0NvZ25pdG9Kd3RUb2tlbik7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgbmV3IENvZ25pdG9JZFRva2VuIG9iamVjdFxuICAgKiBAcGFyYW0ge3N0cmluZz19IElkVG9rZW4gVGhlIEpXVCBJZCB0b2tlblxuICAgKi9cbiAgZnVuY3Rpb24gQ29nbml0b0lkVG9rZW4oX3RlbXApIHtcbiAgICB2YXIgX3JlZiA9IF90ZW1wID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wLFxuICAgICAgSWRUb2tlbiA9IF9yZWYuSWRUb2tlbjtcbiAgICByZXR1cm4gX0NvZ25pdG9Kd3RUb2tlbi5jYWxsKHRoaXMsIElkVG9rZW4gfHwgJycpIHx8IHRoaXM7XG4gIH1cbiAgcmV0dXJuIENvZ25pdG9JZFRva2VuO1xufShDb2duaXRvSnd0VG9rZW4pO1xuZXhwb3J0IHsgQ29nbml0b0lkVG9rZW4gYXMgZGVmYXVsdCB9OyJdLCJuYW1lcyI6WyJfaW5oZXJpdHNMb29zZSIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsInByb3RvdHlwZSIsIk9iamVjdCIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwiX3NldFByb3RvdHlwZU9mIiwibyIsInAiLCJzZXRQcm90b3R5cGVPZiIsImJpbmQiLCJfX3Byb3RvX18iLCJDb2duaXRvSnd0VG9rZW4iLCJDb2duaXRvSWRUb2tlbiIsIl9Db2duaXRvSnd0VG9rZW4iLCJfdGVtcCIsIl9yZWYiLCJJZFRva2VuIiwiY2FsbCIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/amazon-cognito-identity-js/es/CognitoIdToken.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/amazon-cognito-identity-js/es/CognitoJwtToken.js":
/*!***********************************************************************!*\
  !*** ./node_modules/amazon-cognito-identity-js/es/CognitoJwtToken.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CognitoJwtToken)\n/* harmony export */ });\n/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! buffer */ \"buffer\");\n/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(buffer__WEBPACK_IMPORTED_MODULE_0__);\n/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */ \n/** @class */ var CognitoJwtToken = /*#__PURE__*/ function() {\n    /**\n   * Constructs a new CognitoJwtToken object\n   * @param {string=} token The JWT token.\n   */ function CognitoJwtToken(token) {\n        // Assign object\n        this.jwtToken = token || \"\";\n        this.payload = this.decodePayload();\n    }\n    /**\n   * @returns {string} the record's token.\n   */ var _proto = CognitoJwtToken.prototype;\n    _proto.getJwtToken = function getJwtToken() {\n        return this.jwtToken;\n    } /**\n   * @returns {int} the token's expiration (exp member).\n   */ ;\n    _proto.getExpiration = function getExpiration() {\n        return this.payload.exp;\n    } /**\n   * @returns {int} the token's \"issued at\" (iat member).\n   */ ;\n    _proto.getIssuedAt = function getIssuedAt() {\n        return this.payload.iat;\n    } /**\n   * @returns {object} the token's payload.\n   */ ;\n    _proto.decodePayload = function decodePayload() {\n        var payload = this.jwtToken.split(\".\")[1];\n        try {\n            return JSON.parse(buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(payload, \"base64\").toString(\"utf8\"));\n        } catch (err) {\n            return {};\n        }\n    };\n    return CognitoJwtToken;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYW1hem9uLWNvZ25pdG8taWRlbnRpdHktanMvZXMvQ29nbml0b0p3dFRva2VuLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7Q0FHQyxHQUUrQjtBQUVoQyxXQUFXLEdBQ1gsSUFBSUMsa0JBQWtCLFdBQVcsR0FBRTtJQUNqQzs7O0dBR0MsR0FDRCxTQUFTQSxnQkFBZ0JDLEtBQUs7UUFDNUIsZ0JBQWdCO1FBQ2hCLElBQUksQ0FBQ0MsUUFBUSxHQUFHRCxTQUFTO1FBQ3pCLElBQUksQ0FBQ0UsT0FBTyxHQUFHLElBQUksQ0FBQ0MsYUFBYTtJQUNuQztJQUVBOztHQUVDLEdBQ0QsSUFBSUMsU0FBU0wsZ0JBQWdCTSxTQUFTO0lBQ3RDRCxPQUFPRSxXQUFXLEdBQUcsU0FBU0E7UUFDNUIsT0FBTyxJQUFJLENBQUNMLFFBQVE7SUFDdEIsRUFFQTs7R0FFQztJQUNERyxPQUFPRyxhQUFhLEdBQUcsU0FBU0E7UUFDOUIsT0FBTyxJQUFJLENBQUNMLE9BQU8sQ0FBQ00sR0FBRztJQUN6QixFQUVBOztHQUVDO0lBQ0RKLE9BQU9LLFdBQVcsR0FBRyxTQUFTQTtRQUM1QixPQUFPLElBQUksQ0FBQ1AsT0FBTyxDQUFDUSxHQUFHO0lBQ3pCLEVBRUE7O0dBRUM7SUFDRE4sT0FBT0QsYUFBYSxHQUFHLFNBQVNBO1FBQzlCLElBQUlELFVBQVUsSUFBSSxDQUFDRCxRQUFRLENBQUNVLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUN6QyxJQUFJO1lBQ0YsT0FBT0MsS0FBS0MsS0FBSyxDQUFDZiwwQ0FBTUEsQ0FBQ2dCLElBQUksQ0FBQ1osU0FBUyxVQUFVYSxRQUFRLENBQUM7UUFDNUQsRUFBRSxPQUFPQyxLQUFLO1lBQ1osT0FBTyxDQUFDO1FBQ1Y7SUFDRjtJQUNBLE9BQU9qQjtBQUNUO0FBQ3NDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnV6enktb2N0by1icm9jY29saS1uZXh0Ly4vbm9kZV9tb2R1bGVzL2FtYXpvbi1jb2duaXRvLWlkZW50aXR5LWpzL2VzL0NvZ25pdG9Kd3RUb2tlbi5qcz9jNzFmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCB7IEJ1ZmZlciB9IGZyb20gJ2J1ZmZlcic7XG5cbi8qKiBAY2xhc3MgKi9cbnZhciBDb2duaXRvSnd0VG9rZW4gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQ29uc3RydWN0cyBhIG5ldyBDb2duaXRvSnd0VG9rZW4gb2JqZWN0XG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gdG9rZW4gVGhlIEpXVCB0b2tlbi5cbiAgICovXG4gIGZ1bmN0aW9uIENvZ25pdG9Kd3RUb2tlbih0b2tlbikge1xuICAgIC8vIEFzc2lnbiBvYmplY3RcbiAgICB0aGlzLmp3dFRva2VuID0gdG9rZW4gfHwgJyc7XG4gICAgdGhpcy5wYXlsb2FkID0gdGhpcy5kZWNvZGVQYXlsb2FkKCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge3N0cmluZ30gdGhlIHJlY29yZCdzIHRva2VuLlxuICAgKi9cbiAgdmFyIF9wcm90byA9IENvZ25pdG9Kd3RUb2tlbi5wcm90b3R5cGU7XG4gIF9wcm90by5nZXRKd3RUb2tlbiA9IGZ1bmN0aW9uIGdldEp3dFRva2VuKCkge1xuICAgIHJldHVybiB0aGlzLmp3dFRva2VuO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtpbnR9IHRoZSB0b2tlbidzIGV4cGlyYXRpb24gKGV4cCBtZW1iZXIpLlxuICAgKi87XG4gIF9wcm90by5nZXRFeHBpcmF0aW9uID0gZnVuY3Rpb24gZ2V0RXhwaXJhdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5wYXlsb2FkLmV4cDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7aW50fSB0aGUgdG9rZW4ncyBcImlzc3VlZCBhdFwiIChpYXQgbWVtYmVyKS5cbiAgICovO1xuICBfcHJvdG8uZ2V0SXNzdWVkQXQgPSBmdW5jdGlvbiBnZXRJc3N1ZWRBdCgpIHtcbiAgICByZXR1cm4gdGhpcy5wYXlsb2FkLmlhdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSB0aGUgdG9rZW4ncyBwYXlsb2FkLlxuICAgKi87XG4gIF9wcm90by5kZWNvZGVQYXlsb2FkID0gZnVuY3Rpb24gZGVjb2RlUGF5bG9hZCgpIHtcbiAgICB2YXIgcGF5bG9hZCA9IHRoaXMuand0VG9rZW4uc3BsaXQoJy4nKVsxXTtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIEpTT04ucGFyc2UoQnVmZmVyLmZyb20ocGF5bG9hZCwgJ2Jhc2U2NCcpLnRvU3RyaW5nKCd1dGY4JykpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIENvZ25pdG9Kd3RUb2tlbjtcbn0oKTtcbmV4cG9ydCB7IENvZ25pdG9Kd3RUb2tlbiBhcyBkZWZhdWx0IH07Il0sIm5hbWVzIjpbIkJ1ZmZlciIsIkNvZ25pdG9Kd3RUb2tlbiIsInRva2VuIiwiand0VG9rZW4iLCJwYXlsb2FkIiwiZGVjb2RlUGF5bG9hZCIsIl9wcm90byIsInByb3RvdHlwZSIsImdldEp3dFRva2VuIiwiZ2V0RXhwaXJhdGlvbiIsImV4cCIsImdldElzc3VlZEF0IiwiaWF0Iiwic3BsaXQiLCJKU09OIiwicGFyc2UiLCJmcm9tIiwidG9TdHJpbmciLCJlcnIiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/amazon-cognito-identity-js/es/CognitoJwtToken.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/amazon-cognito-identity-js/es/CognitoRefreshToken.js":
/*!***************************************************************************!*\
  !*** ./node_modules/amazon-cognito-identity-js/es/CognitoRefreshToken.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CognitoRefreshToken)\n/* harmony export */ });\n/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */ /** @class */ var CognitoRefreshToken = /*#__PURE__*/ function() {\n    /**\n   * Constructs a new CognitoRefreshToken object\n   * @param {string=} RefreshToken The JWT refresh token.\n   */ function CognitoRefreshToken(_temp) {\n        var _ref = _temp === void 0 ? {} : _temp, RefreshToken = _ref.RefreshToken;\n        // Assign object\n        this.token = RefreshToken || \"\";\n    }\n    /**\n   * @returns {string} the record's token.\n   */ var _proto = CognitoRefreshToken.prototype;\n    _proto.getToken = function getToken() {\n        return this.token;\n    };\n    return CognitoRefreshToken;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYW1hem9uLWNvZ25pdG8taWRlbnRpdHktanMvZXMvQ29nbml0b1JlZnJlc2hUb2tlbi5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7OztDQUdDLEdBQ0QsV0FBVyxHQUNYLElBQUlBLHNCQUFzQixXQUFXLEdBQUU7SUFDckM7OztHQUdDLEdBQ0QsU0FBU0Esb0JBQW9CQyxLQUFLO1FBQ2hDLElBQUlDLE9BQU9ELFVBQVUsS0FBSyxJQUFJLENBQUMsSUFBSUEsT0FDakNFLGVBQWVELEtBQUtDLFlBQVk7UUFDbEMsZ0JBQWdCO1FBQ2hCLElBQUksQ0FBQ0MsS0FBSyxHQUFHRCxnQkFBZ0I7SUFDL0I7SUFFQTs7R0FFQyxHQUNELElBQUlFLFNBQVNMLG9CQUFvQk0sU0FBUztJQUMxQ0QsT0FBT0UsUUFBUSxHQUFHLFNBQVNBO1FBQ3pCLE9BQU8sSUFBSSxDQUFDSCxLQUFLO0lBQ25CO0lBQ0EsT0FBT0o7QUFDVDtBQUMwQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Z1enp5LW9jdG8tYnJvY2NvbGktbmV4dC8uL25vZGVfbW9kdWxlcy9hbWF6b24tY29nbml0by1pZGVudGl0eS1qcy9lcy9Db2duaXRvUmVmcmVzaFRva2VuLmpzPzM2MzkiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cbi8qKiBAY2xhc3MgKi9cbnZhciBDb2duaXRvUmVmcmVzaFRva2VuID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgYSBuZXcgQ29nbml0b1JlZnJlc2hUb2tlbiBvYmplY3RcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBSZWZyZXNoVG9rZW4gVGhlIEpXVCByZWZyZXNoIHRva2VuLlxuICAgKi9cbiAgZnVuY3Rpb24gQ29nbml0b1JlZnJlc2hUb2tlbihfdGVtcCkge1xuICAgIHZhciBfcmVmID0gX3RlbXAgPT09IHZvaWQgMCA/IHt9IDogX3RlbXAsXG4gICAgICBSZWZyZXNoVG9rZW4gPSBfcmVmLlJlZnJlc2hUb2tlbjtcbiAgICAvLyBBc3NpZ24gb2JqZWN0XG4gICAgdGhpcy50b2tlbiA9IFJlZnJlc2hUb2tlbiB8fCAnJztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUgcmVjb3JkJ3MgdG9rZW4uXG4gICAqL1xuICB2YXIgX3Byb3RvID0gQ29nbml0b1JlZnJlc2hUb2tlbi5wcm90b3R5cGU7XG4gIF9wcm90by5nZXRUb2tlbiA9IGZ1bmN0aW9uIGdldFRva2VuKCkge1xuICAgIHJldHVybiB0aGlzLnRva2VuO1xuICB9O1xuICByZXR1cm4gQ29nbml0b1JlZnJlc2hUb2tlbjtcbn0oKTtcbmV4cG9ydCB7IENvZ25pdG9SZWZyZXNoVG9rZW4gYXMgZGVmYXVsdCB9OyJdLCJuYW1lcyI6WyJDb2duaXRvUmVmcmVzaFRva2VuIiwiX3RlbXAiLCJfcmVmIiwiUmVmcmVzaFRva2VuIiwidG9rZW4iLCJfcHJvdG8iLCJwcm90b3R5cGUiLCJnZXRUb2tlbiIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/amazon-cognito-identity-js/es/CognitoRefreshToken.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/amazon-cognito-identity-js/es/CognitoUser.js":
/*!*******************************************************************!*\
  !*** ./node_modules/amazon-cognito-identity-js/es/CognitoUser.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CognitoUser)\n/* harmony export */ });\n/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! buffer */ \"buffer\");\n/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(buffer__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _aws_crypto_sha256_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aws-crypto/sha256-js */ \"(ssr)/./node_modules/@aws-crypto/sha256-js/build/index.js\");\n/* harmony import */ var _aws_crypto_sha256_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_aws_crypto_sha256_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Platform__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Platform */ \"(ssr)/./node_modules/amazon-cognito-identity-js/es/Platform/index.js\");\n/* harmony import */ var _BigInteger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BigInteger */ \"(ssr)/./node_modules/amazon-cognito-identity-js/es/BigInteger.js\");\n/* harmony import */ var _AuthenticationHelper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./AuthenticationHelper */ \"(ssr)/./node_modules/amazon-cognito-identity-js/es/AuthenticationHelper.js\");\n/* harmony import */ var _CognitoAccessToken__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./CognitoAccessToken */ \"(ssr)/./node_modules/amazon-cognito-identity-js/es/CognitoAccessToken.js\");\n/* harmony import */ var _CognitoIdToken__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./CognitoIdToken */ \"(ssr)/./node_modules/amazon-cognito-identity-js/es/CognitoIdToken.js\");\n/* harmony import */ var _CognitoRefreshToken__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./CognitoRefreshToken */ \"(ssr)/./node_modules/amazon-cognito-identity-js/es/CognitoRefreshToken.js\");\n/* harmony import */ var _CognitoUserSession__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./CognitoUserSession */ \"(ssr)/./node_modules/amazon-cognito-identity-js/es/CognitoUserSession.js\");\n/* harmony import */ var _DateHelper__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./DateHelper */ \"(ssr)/./node_modules/amazon-cognito-identity-js/es/DateHelper.js\");\n/* harmony import */ var _CognitoUserAttribute__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./CognitoUserAttribute */ \"(ssr)/./node_modules/amazon-cognito-identity-js/es/CognitoUserAttribute.js\");\n/* harmony import */ var _StorageHelper__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./StorageHelper */ \"(ssr)/./node_modules/amazon-cognito-identity-js/es/StorageHelper.js\");\n/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */ \n\n\n\n\n\n\n\n\n\n\n\n/**\n * @callback nodeCallback\n * @template T result\n * @param {*} err The operation failure reason, or null.\n * @param {T} result The operation result.\n */ /**\n * @callback onFailure\n * @param {*} err Failure reason.\n */ /**\n * @callback onSuccess\n * @template T result\n * @param {T} result The operation result.\n */ /**\n * @callback mfaRequired\n * @param {*} details MFA challenge details.\n */ /**\n * @callback customChallenge\n * @param {*} details Custom challenge details.\n */ /**\n * @callback inputVerificationCode\n * @param {*} data Server response.\n */ /**\n * @callback authSuccess\n * @param {CognitoUserSession} session The new session.\n * @param {bool=} userConfirmationNecessary User must be confirmed.\n */ var isNavigatorAvailable = typeof navigator !== \"undefined\";\nvar userAgent = isNavigatorAvailable ? _Platform__WEBPACK_IMPORTED_MODULE_2__.Platform.isReactNative ? \"react-native\" : navigator.userAgent : \"nodejs\";\n/** @class */ var CognitoUser = /*#__PURE__*/ function() {\n    /**\n   * Constructs a new CognitoUser object\n   * @param {object} data Creation options\n   * @param {string} data.Username The user's username.\n   * @param {CognitoUserPool} data.Pool Pool containing the user.\n   * @param {object} data.Storage Optional storage object.\n   */ function CognitoUser(data) {\n        if (data == null || data.Username == null || data.Pool == null) {\n            throw new Error(\"Username and Pool information are required.\");\n        }\n        this.username = data.Username || \"\";\n        this.pool = data.Pool;\n        this.Session = null;\n        this.client = data.Pool.client;\n        this.signInUserSession = null;\n        this.authenticationFlowType = \"USER_SRP_AUTH\";\n        this.storage = data.Storage || new _StorageHelper__WEBPACK_IMPORTED_MODULE_11__[\"default\"]().getStorage();\n        this.keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId();\n        this.userDataKey = this.keyPrefix + \".\" + this.username + \".userData\";\n    }\n    /**\n   * Sets the session for this user\n   * @param {CognitoUserSession} signInUserSession the session\n   * @returns {void}\n   */ var _proto = CognitoUser.prototype;\n    _proto.setSignInUserSession = function setSignInUserSession(signInUserSession) {\n        this.clearCachedUserData();\n        this.signInUserSession = signInUserSession;\n        this.cacheTokens();\n    } /**\n   * @returns {CognitoUserSession} the current session for this user\n   */ ;\n    _proto.getSignInUserSession = function getSignInUserSession() {\n        return this.signInUserSession;\n    } /**\n   * @returns {string} the user's username\n   */ ;\n    _proto.getUsername = function getUsername() {\n        return this.username;\n    } /**\n   * @returns {String} the authentication flow type\n   */ ;\n    _proto.getAuthenticationFlowType = function getAuthenticationFlowType() {\n        return this.authenticationFlowType;\n    } /**\n   * sets authentication flow type\n   * @param {string} authenticationFlowType New value.\n   * @returns {void}\n   */ ;\n    _proto.setAuthenticationFlowType = function setAuthenticationFlowType(authenticationFlowType) {\n        this.authenticationFlowType = authenticationFlowType;\n    } /**\n   * This is used for authenticating the user through the custom authentication flow.\n   * @param {AuthenticationDetails} authDetails Contains the authentication data\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {customChallenge} callback.customChallenge Custom challenge\n   *        response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   */ ;\n    _proto.initiateAuth = function initiateAuth(authDetails, callback) {\n        var _this = this;\n        var authParameters = authDetails.getAuthParameters();\n        authParameters.USERNAME = this.username;\n        var clientMetaData = Object.keys(authDetails.getValidationData()).length !== 0 ? authDetails.getValidationData() : authDetails.getClientMetadata();\n        var jsonReq = {\n            AuthFlow: \"CUSTOM_AUTH\",\n            ClientId: this.pool.getClientId(),\n            AuthParameters: authParameters,\n            ClientMetadata: clientMetaData\n        };\n        if (this.getUserContextData()) {\n            jsonReq.UserContextData = this.getUserContextData();\n        }\n        this.client.request(\"InitiateAuth\", jsonReq, function(err, data) {\n            if (err) {\n                return callback.onFailure(err);\n            }\n            var challengeName = data.ChallengeName;\n            var challengeParameters = data.ChallengeParameters;\n            if (challengeName === \"CUSTOM_CHALLENGE\") {\n                _this.Session = data.Session;\n                return callback.customChallenge(challengeParameters);\n            }\n            _this.signInUserSession = _this.getCognitoUserSession(data.AuthenticationResult);\n            _this.cacheTokens();\n            return callback.onSuccess(_this.signInUserSession);\n        });\n    } /**\n   * This is used for authenticating the user.\n   * stuff\n   * @param {AuthenticationDetails} authDetails Contains the authentication data\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {newPasswordRequired} callback.newPasswordRequired new\n   *        password and any required attributes are required to continue\n   * @param {mfaRequired} callback.mfaRequired MFA code\n   *        required to continue.\n   * @param {customChallenge} callback.customChallenge Custom challenge\n   *        response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   */ ;\n    _proto.authenticateUser = function authenticateUser(authDetails, callback) {\n        if (this.authenticationFlowType === \"USER_PASSWORD_AUTH\") {\n            return this.authenticateUserPlainUsernamePassword(authDetails, callback);\n        } else if (this.authenticationFlowType === \"USER_SRP_AUTH\" || this.authenticationFlowType === \"CUSTOM_AUTH\") {\n            return this.authenticateUserDefaultAuth(authDetails, callback);\n        }\n        return callback.onFailure(new Error(\"Authentication flow type is invalid.\"));\n    } /**\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   * It calls the AuthenticationHelper for SRP related\n   * stuff\n   * @param {AuthenticationDetails} authDetails Contains the authentication data\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {newPasswordRequired} callback.newPasswordRequired new\n   *        password and any required attributes are required to continue\n   * @param {mfaRequired} callback.mfaRequired MFA code\n   *        required to continue.\n   * @param {customChallenge} callback.customChallenge Custom challenge\n   *        response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   */ ;\n    _proto.authenticateUserDefaultAuth = function authenticateUserDefaultAuth(authDetails, callback) {\n        var _this2 = this;\n        var authenticationHelper = new _AuthenticationHelper__WEBPACK_IMPORTED_MODULE_4__[\"default\"](this.pool.getUserPoolName());\n        var dateHelper = new _DateHelper__WEBPACK_IMPORTED_MODULE_9__[\"default\"]();\n        var serverBValue;\n        var salt;\n        var authParameters = {};\n        if (this.deviceKey != null) {\n            authParameters.DEVICE_KEY = this.deviceKey;\n        }\n        authParameters.USERNAME = this.username;\n        authenticationHelper.getLargeAValue(function(errOnAValue, aValue) {\n            // getLargeAValue callback start\n            if (errOnAValue) {\n                callback.onFailure(errOnAValue);\n            }\n            authParameters.SRP_A = aValue.toString(16);\n            if (_this2.authenticationFlowType === \"CUSTOM_AUTH\") {\n                authParameters.CHALLENGE_NAME = \"SRP_A\";\n            }\n            var clientMetaData = Object.keys(authDetails.getValidationData()).length !== 0 ? authDetails.getValidationData() : authDetails.getClientMetadata();\n            var jsonReq = {\n                AuthFlow: _this2.authenticationFlowType,\n                ClientId: _this2.pool.getClientId(),\n                AuthParameters: authParameters,\n                ClientMetadata: clientMetaData\n            };\n            if (_this2.getUserContextData(_this2.username)) {\n                jsonReq.UserContextData = _this2.getUserContextData(_this2.username);\n            }\n            _this2.client.request(\"InitiateAuth\", jsonReq, function(err, data) {\n                if (err) {\n                    return callback.onFailure(err);\n                }\n                var challengeParameters = data.ChallengeParameters;\n                _this2.username = challengeParameters.USER_ID_FOR_SRP;\n                _this2.userDataKey = _this2.keyPrefix + \".\" + _this2.username + \".userData\";\n                serverBValue = new _BigInteger__WEBPACK_IMPORTED_MODULE_3__[\"default\"](challengeParameters.SRP_B, 16);\n                salt = new _BigInteger__WEBPACK_IMPORTED_MODULE_3__[\"default\"](challengeParameters.SALT, 16);\n                _this2.getCachedDeviceKeyAndPassword();\n                authenticationHelper.getPasswordAuthenticationKey(_this2.username, authDetails.getPassword(), serverBValue, salt, function(errOnHkdf, hkdf) {\n                    // getPasswordAuthenticationKey callback start\n                    if (errOnHkdf) {\n                        callback.onFailure(errOnHkdf);\n                    }\n                    var dateNow = dateHelper.getNowString();\n                    var concatBuffer = buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.concat([\n                        buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(_this2.pool.getUserPoolName(), \"utf8\"),\n                        buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(_this2.username, \"utf8\"),\n                        buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(challengeParameters.SECRET_BLOCK, \"base64\"),\n                        buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(dateNow, \"utf8\")\n                    ]);\n                    var awsCryptoHash = new _aws_crypto_sha256_js__WEBPACK_IMPORTED_MODULE_1__.Sha256(hkdf);\n                    awsCryptoHash.update(concatBuffer);\n                    var resultFromAWSCrypto = awsCryptoHash.digestSync();\n                    var signatureString = buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(resultFromAWSCrypto).toString(\"base64\");\n                    var challengeResponses = {};\n                    challengeResponses.USERNAME = _this2.username;\n                    challengeResponses.PASSWORD_CLAIM_SECRET_BLOCK = challengeParameters.SECRET_BLOCK;\n                    challengeResponses.TIMESTAMP = dateNow;\n                    challengeResponses.PASSWORD_CLAIM_SIGNATURE = signatureString;\n                    if (_this2.deviceKey != null) {\n                        challengeResponses.DEVICE_KEY = _this2.deviceKey;\n                    }\n                    var respondToAuthChallenge = function respondToAuthChallenge(challenge, challengeCallback) {\n                        return _this2.client.request(\"RespondToAuthChallenge\", challenge, function(errChallenge, dataChallenge) {\n                            if (errChallenge && errChallenge.code === \"ResourceNotFoundException\" && errChallenge.message.toLowerCase().indexOf(\"device\") !== -1) {\n                                challengeResponses.DEVICE_KEY = null;\n                                _this2.deviceKey = null;\n                                _this2.randomPassword = null;\n                                _this2.deviceGroupKey = null;\n                                _this2.clearCachedDeviceKeyAndPassword();\n                                return respondToAuthChallenge(challenge, challengeCallback);\n                            }\n                            return challengeCallback(errChallenge, dataChallenge);\n                        });\n                    };\n                    var jsonReqResp = {\n                        ChallengeName: \"PASSWORD_VERIFIER\",\n                        ClientId: _this2.pool.getClientId(),\n                        ChallengeResponses: challengeResponses,\n                        Session: data.Session,\n                        ClientMetadata: clientMetaData\n                    };\n                    if (_this2.getUserContextData()) {\n                        jsonReqResp.UserContextData = _this2.getUserContextData();\n                    }\n                    respondToAuthChallenge(jsonReqResp, function(errAuthenticate, dataAuthenticate) {\n                        if (errAuthenticate) {\n                            return callback.onFailure(errAuthenticate);\n                        }\n                        return _this2.authenticateUserInternal(dataAuthenticate, authenticationHelper, callback);\n                    });\n                    return undefined;\n                // getPasswordAuthenticationKey callback end\n                });\n                return undefined;\n            });\n        // getLargeAValue callback end\n        });\n    } /**\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   * @param {AuthenticationDetails} authDetails Contains the authentication data.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {mfaRequired} callback.mfaRequired MFA code\n   *        required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   */ ;\n    _proto.authenticateUserPlainUsernamePassword = function authenticateUserPlainUsernamePassword(authDetails, callback) {\n        var _this3 = this;\n        var authParameters = {};\n        authParameters.USERNAME = this.username;\n        authParameters.PASSWORD = authDetails.getPassword();\n        if (!authParameters.PASSWORD) {\n            callback.onFailure(new Error(\"PASSWORD parameter is required\"));\n            return;\n        }\n        var authenticationHelper = new _AuthenticationHelper__WEBPACK_IMPORTED_MODULE_4__[\"default\"](this.pool.getUserPoolName());\n        this.getCachedDeviceKeyAndPassword();\n        if (this.deviceKey != null) {\n            authParameters.DEVICE_KEY = this.deviceKey;\n        }\n        var clientMetaData = Object.keys(authDetails.getValidationData()).length !== 0 ? authDetails.getValidationData() : authDetails.getClientMetadata();\n        var jsonReq = {\n            AuthFlow: \"USER_PASSWORD_AUTH\",\n            ClientId: this.pool.getClientId(),\n            AuthParameters: authParameters,\n            ClientMetadata: clientMetaData\n        };\n        if (this.getUserContextData(this.username)) {\n            jsonReq.UserContextData = this.getUserContextData(this.username);\n        }\n        // USER_PASSWORD_AUTH happens in a single round-trip: client sends userName and password,\n        // Cognito UserPools verifies password and returns tokens.\n        this.client.request(\"InitiateAuth\", jsonReq, function(err, authResult) {\n            if (err) {\n                return callback.onFailure(err);\n            }\n            return _this3.authenticateUserInternal(authResult, authenticationHelper, callback);\n        });\n    } /**\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   * @param {object} dataAuthenticate authentication data\n   * @param {object} authenticationHelper helper created\n   * @param {callback} callback passed on from caller\n   * @returns {void}\n   */ ;\n    _proto.authenticateUserInternal = function authenticateUserInternal(dataAuthenticate, authenticationHelper, callback) {\n        var _this4 = this;\n        var challengeName = dataAuthenticate.ChallengeName;\n        var challengeParameters = dataAuthenticate.ChallengeParameters;\n        if (challengeName === \"SMS_MFA\") {\n            this.Session = dataAuthenticate.Session;\n            return callback.mfaRequired(challengeName, challengeParameters);\n        }\n        if (challengeName === \"SELECT_MFA_TYPE\") {\n            this.Session = dataAuthenticate.Session;\n            return callback.selectMFAType(challengeName, challengeParameters);\n        }\n        if (challengeName === \"MFA_SETUP\") {\n            this.Session = dataAuthenticate.Session;\n            return callback.mfaSetup(challengeName, challengeParameters);\n        }\n        if (challengeName === \"SOFTWARE_TOKEN_MFA\") {\n            this.Session = dataAuthenticate.Session;\n            return callback.totpRequired(challengeName, challengeParameters);\n        }\n        if (challengeName === \"CUSTOM_CHALLENGE\") {\n            this.Session = dataAuthenticate.Session;\n            return callback.customChallenge(challengeParameters);\n        }\n        if (challengeName === \"NEW_PASSWORD_REQUIRED\") {\n            this.Session = dataAuthenticate.Session;\n            var userAttributes = null;\n            var rawRequiredAttributes = null;\n            var requiredAttributes = [];\n            var userAttributesPrefix = authenticationHelper.getNewPasswordRequiredChallengeUserAttributePrefix();\n            if (challengeParameters) {\n                userAttributes = JSON.parse(dataAuthenticate.ChallengeParameters.userAttributes);\n                rawRequiredAttributes = JSON.parse(dataAuthenticate.ChallengeParameters.requiredAttributes);\n            }\n            if (rawRequiredAttributes) {\n                for(var i = 0; i < rawRequiredAttributes.length; i++){\n                    requiredAttributes[i] = rawRequiredAttributes[i].substr(userAttributesPrefix.length);\n                }\n            }\n            return callback.newPasswordRequired(userAttributes, requiredAttributes);\n        }\n        if (challengeName === \"DEVICE_SRP_AUTH\") {\n            this.Session = dataAuthenticate.Session;\n            this.getDeviceResponse(callback);\n            return undefined;\n        }\n        this.signInUserSession = this.getCognitoUserSession(dataAuthenticate.AuthenticationResult);\n        this.challengeName = challengeName;\n        this.cacheTokens();\n        var newDeviceMetadata = dataAuthenticate.AuthenticationResult.NewDeviceMetadata;\n        if (newDeviceMetadata == null) {\n            return callback.onSuccess(this.signInUserSession);\n        }\n        authenticationHelper.generateHashDevice(dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey, dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey, function(errGenHash) {\n            if (errGenHash) {\n                return callback.onFailure(errGenHash);\n            }\n            var deviceSecretVerifierConfig = {\n                Salt: buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(authenticationHelper.getSaltDevices(), \"hex\").toString(\"base64\"),\n                PasswordVerifier: buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(authenticationHelper.getVerifierDevices(), \"hex\").toString(\"base64\")\n            };\n            _this4.verifierDevices = deviceSecretVerifierConfig.PasswordVerifier;\n            _this4.deviceGroupKey = newDeviceMetadata.DeviceGroupKey;\n            _this4.randomPassword = authenticationHelper.getRandomPassword();\n            _this4.client.request(\"ConfirmDevice\", {\n                DeviceKey: newDeviceMetadata.DeviceKey,\n                AccessToken: _this4.signInUserSession.getAccessToken().getJwtToken(),\n                DeviceSecretVerifierConfig: deviceSecretVerifierConfig,\n                DeviceName: userAgent\n            }, function(errConfirm, dataConfirm) {\n                if (errConfirm) {\n                    return callback.onFailure(errConfirm);\n                }\n                _this4.deviceKey = dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey;\n                _this4.cacheDeviceKeyAndPassword();\n                if (dataConfirm.UserConfirmationNecessary === true) {\n                    return callback.onSuccess(_this4.signInUserSession, dataConfirm.UserConfirmationNecessary);\n                }\n                return callback.onSuccess(_this4.signInUserSession);\n            });\n            return undefined;\n        });\n        return undefined;\n    } /**\n   * This method is user to complete the NEW_PASSWORD_REQUIRED challenge.\n   * Pass the new password with any new user attributes to be updated.\n   * User attribute keys must be of format userAttributes.<attribute_name>.\n   * @param {string} newPassword new password for this user\n   * @param {object} requiredAttributeData map with values for all required attributes\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {mfaRequired} callback.mfaRequired MFA code required to continue.\n   * @param {customChallenge} callback.customChallenge Custom challenge\n   *         response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */ ;\n    _proto.completeNewPasswordChallenge = function completeNewPasswordChallenge(newPassword, requiredAttributeData, callback, clientMetadata) {\n        var _this5 = this;\n        if (!newPassword) {\n            return callback.onFailure(new Error(\"New password is required.\"));\n        }\n        var authenticationHelper = new _AuthenticationHelper__WEBPACK_IMPORTED_MODULE_4__[\"default\"](this.pool.getUserPoolName());\n        var userAttributesPrefix = authenticationHelper.getNewPasswordRequiredChallengeUserAttributePrefix();\n        var finalUserAttributes = {};\n        if (requiredAttributeData) {\n            Object.keys(requiredAttributeData).forEach(function(key) {\n                finalUserAttributes[userAttributesPrefix + key] = requiredAttributeData[key];\n            });\n        }\n        finalUserAttributes.NEW_PASSWORD = newPassword;\n        finalUserAttributes.USERNAME = this.username;\n        var jsonReq = {\n            ChallengeName: \"NEW_PASSWORD_REQUIRED\",\n            ClientId: this.pool.getClientId(),\n            ChallengeResponses: finalUserAttributes,\n            Session: this.Session,\n            ClientMetadata: clientMetadata\n        };\n        if (this.getUserContextData()) {\n            jsonReq.UserContextData = this.getUserContextData();\n        }\n        this.client.request(\"RespondToAuthChallenge\", jsonReq, function(errAuthenticate, dataAuthenticate) {\n            if (errAuthenticate) {\n                return callback.onFailure(errAuthenticate);\n            }\n            return _this5.authenticateUserInternal(dataAuthenticate, authenticationHelper, callback);\n        });\n        return undefined;\n    } /**\n   * This is used to get a session using device authentication. It is called at the end of user\n   * authentication\n   *\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   * @private\n   */ ;\n    _proto.getDeviceResponse = function getDeviceResponse(callback, clientMetadata) {\n        var _this6 = this;\n        var authenticationHelper = new _AuthenticationHelper__WEBPACK_IMPORTED_MODULE_4__[\"default\"](this.deviceGroupKey);\n        var dateHelper = new _DateHelper__WEBPACK_IMPORTED_MODULE_9__[\"default\"]();\n        var authParameters = {};\n        authParameters.USERNAME = this.username;\n        authParameters.DEVICE_KEY = this.deviceKey;\n        authenticationHelper.getLargeAValue(function(errAValue, aValue) {\n            // getLargeAValue callback start\n            if (errAValue) {\n                callback.onFailure(errAValue);\n            }\n            authParameters.SRP_A = aValue.toString(16);\n            var jsonReq = {\n                ChallengeName: \"DEVICE_SRP_AUTH\",\n                ClientId: _this6.pool.getClientId(),\n                ChallengeResponses: authParameters,\n                ClientMetadata: clientMetadata,\n                Session: _this6.Session\n            };\n            if (_this6.getUserContextData()) {\n                jsonReq.UserContextData = _this6.getUserContextData();\n            }\n            _this6.client.request(\"RespondToAuthChallenge\", jsonReq, function(err, data) {\n                if (err) {\n                    return callback.onFailure(err);\n                }\n                var challengeParameters = data.ChallengeParameters;\n                var serverBValue = new _BigInteger__WEBPACK_IMPORTED_MODULE_3__[\"default\"](challengeParameters.SRP_B, 16);\n                var salt = new _BigInteger__WEBPACK_IMPORTED_MODULE_3__[\"default\"](challengeParameters.SALT, 16);\n                authenticationHelper.getPasswordAuthenticationKey(_this6.deviceKey, _this6.randomPassword, serverBValue, salt, function(errHkdf, hkdf) {\n                    // getPasswordAuthenticationKey callback start\n                    if (errHkdf) {\n                        return callback.onFailure(errHkdf);\n                    }\n                    var dateNow = dateHelper.getNowString();\n                    var concatBuffer = buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.concat([\n                        buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(_this6.deviceGroupKey, \"utf8\"),\n                        buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(_this6.deviceKey, \"utf8\"),\n                        buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(challengeParameters.SECRET_BLOCK, \"base64\"),\n                        buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(dateNow, \"utf8\")\n                    ]);\n                    var awsCryptoHash = new _aws_crypto_sha256_js__WEBPACK_IMPORTED_MODULE_1__.Sha256(hkdf);\n                    awsCryptoHash.update(concatBuffer);\n                    var resultFromAWSCrypto = awsCryptoHash.digestSync();\n                    var signatureString = buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(resultFromAWSCrypto).toString(\"base64\");\n                    var challengeResponses = {};\n                    challengeResponses.USERNAME = _this6.username;\n                    challengeResponses.PASSWORD_CLAIM_SECRET_BLOCK = challengeParameters.SECRET_BLOCK;\n                    challengeResponses.TIMESTAMP = dateNow;\n                    challengeResponses.PASSWORD_CLAIM_SIGNATURE = signatureString;\n                    challengeResponses.DEVICE_KEY = _this6.deviceKey;\n                    var jsonReqResp = {\n                        ChallengeName: \"DEVICE_PASSWORD_VERIFIER\",\n                        ClientId: _this6.pool.getClientId(),\n                        ChallengeResponses: challengeResponses,\n                        Session: data.Session\n                    };\n                    if (_this6.getUserContextData()) {\n                        jsonReqResp.UserContextData = _this6.getUserContextData();\n                    }\n                    _this6.client.request(\"RespondToAuthChallenge\", jsonReqResp, function(errAuthenticate, dataAuthenticate) {\n                        if (errAuthenticate) {\n                            return callback.onFailure(errAuthenticate);\n                        }\n                        _this6.signInUserSession = _this6.getCognitoUserSession(dataAuthenticate.AuthenticationResult);\n                        _this6.cacheTokens();\n                        return callback.onSuccess(_this6.signInUserSession);\n                    });\n                    return undefined;\n                // getPasswordAuthenticationKey callback end\n                });\n                return undefined;\n            });\n        // getLargeAValue callback end\n        });\n    } /**\n   * This is used for a certain user to confirm the registration by using a confirmation code\n   * @param {string} confirmationCode Code entered by user.\n   * @param {bool} forceAliasCreation Allow migrating from an existing email / phone number.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */ ;\n    _proto.confirmRegistration = function confirmRegistration(confirmationCode, forceAliasCreation, callback, clientMetadata) {\n        var jsonReq = {\n            ClientId: this.pool.getClientId(),\n            ConfirmationCode: confirmationCode,\n            Username: this.username,\n            ForceAliasCreation: forceAliasCreation,\n            ClientMetadata: clientMetadata\n        };\n        if (this.getUserContextData()) {\n            jsonReq.UserContextData = this.getUserContextData();\n        }\n        this.client.request(\"ConfirmSignUp\", jsonReq, function(err) {\n            if (err) {\n                return callback(err, null);\n            }\n            return callback(null, \"SUCCESS\");\n        });\n    } /**\n   * This is used by the user once he has the responses to a custom challenge\n   * @param {string} answerChallenge The custom challenge answer.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {customChallenge} callback.customChallenge\n   *    Custom challenge response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */ ;\n    _proto.sendCustomChallengeAnswer = function sendCustomChallengeAnswer(answerChallenge, callback, clientMetadata) {\n        var _this7 = this;\n        var challengeResponses = {};\n        challengeResponses.USERNAME = this.username;\n        challengeResponses.ANSWER = answerChallenge;\n        var authenticationHelper = new _AuthenticationHelper__WEBPACK_IMPORTED_MODULE_4__[\"default\"](this.pool.getUserPoolName());\n        this.getCachedDeviceKeyAndPassword();\n        if (this.deviceKey != null) {\n            challengeResponses.DEVICE_KEY = this.deviceKey;\n        }\n        var jsonReq = {\n            ChallengeName: \"CUSTOM_CHALLENGE\",\n            ChallengeResponses: challengeResponses,\n            ClientId: this.pool.getClientId(),\n            Session: this.Session,\n            ClientMetadata: clientMetadata\n        };\n        if (this.getUserContextData()) {\n            jsonReq.UserContextData = this.getUserContextData();\n        }\n        this.client.request(\"RespondToAuthChallenge\", jsonReq, function(err, data) {\n            if (err) {\n                return callback.onFailure(err);\n            }\n            return _this7.authenticateUserInternal(data, authenticationHelper, callback);\n        });\n    } /**\n   * This is used by the user once he has an MFA code\n   * @param {string} confirmationCode The MFA code entered by the user.\n   * @param {object} callback Result callback map.\n   * @param {string} mfaType The mfa we are replying to.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */ ;\n    _proto.sendMFACode = function sendMFACode(confirmationCode, callback, mfaType, clientMetadata) {\n        var _this8 = this;\n        var challengeResponses = {};\n        challengeResponses.USERNAME = this.username;\n        challengeResponses.SMS_MFA_CODE = confirmationCode;\n        var mfaTypeSelection = mfaType || \"SMS_MFA\";\n        if (mfaTypeSelection === \"SOFTWARE_TOKEN_MFA\") {\n            challengeResponses.SOFTWARE_TOKEN_MFA_CODE = confirmationCode;\n        }\n        if (this.deviceKey != null) {\n            challengeResponses.DEVICE_KEY = this.deviceKey;\n        }\n        var jsonReq = {\n            ChallengeName: mfaTypeSelection,\n            ChallengeResponses: challengeResponses,\n            ClientId: this.pool.getClientId(),\n            Session: this.Session,\n            ClientMetadata: clientMetadata\n        };\n        if (this.getUserContextData()) {\n            jsonReq.UserContextData = this.getUserContextData();\n        }\n        this.client.request(\"RespondToAuthChallenge\", jsonReq, function(err, dataAuthenticate) {\n            if (err) {\n                return callback.onFailure(err);\n            }\n            var challengeName = dataAuthenticate.ChallengeName;\n            if (challengeName === \"DEVICE_SRP_AUTH\") {\n                _this8.getDeviceResponse(callback);\n                return undefined;\n            }\n            _this8.signInUserSession = _this8.getCognitoUserSession(dataAuthenticate.AuthenticationResult);\n            _this8.cacheTokens();\n            if (dataAuthenticate.AuthenticationResult.NewDeviceMetadata == null) {\n                return callback.onSuccess(_this8.signInUserSession);\n            }\n            var authenticationHelper = new _AuthenticationHelper__WEBPACK_IMPORTED_MODULE_4__[\"default\"](_this8.pool.getUserPoolName());\n            authenticationHelper.generateHashDevice(dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey, dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey, function(errGenHash) {\n                if (errGenHash) {\n                    return callback.onFailure(errGenHash);\n                }\n                var deviceSecretVerifierConfig = {\n                    Salt: buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(authenticationHelper.getSaltDevices(), \"hex\").toString(\"base64\"),\n                    PasswordVerifier: buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(authenticationHelper.getVerifierDevices(), \"hex\").toString(\"base64\")\n                };\n                _this8.verifierDevices = deviceSecretVerifierConfig.PasswordVerifier;\n                _this8.deviceGroupKey = dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey;\n                _this8.randomPassword = authenticationHelper.getRandomPassword();\n                _this8.client.request(\"ConfirmDevice\", {\n                    DeviceKey: dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey,\n                    AccessToken: _this8.signInUserSession.getAccessToken().getJwtToken(),\n                    DeviceSecretVerifierConfig: deviceSecretVerifierConfig,\n                    DeviceName: userAgent\n                }, function(errConfirm, dataConfirm) {\n                    if (errConfirm) {\n                        return callback.onFailure(errConfirm);\n                    }\n                    _this8.deviceKey = dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey;\n                    _this8.cacheDeviceKeyAndPassword();\n                    if (dataConfirm.UserConfirmationNecessary === true) {\n                        return callback.onSuccess(_this8.signInUserSession, dataConfirm.UserConfirmationNecessary);\n                    }\n                    return callback.onSuccess(_this8.signInUserSession);\n                });\n                return undefined;\n            });\n            return undefined;\n        });\n    } /**\n   * This is used by an authenticated user to change the current password\n   * @param {string} oldUserPassword The current password.\n   * @param {string} newUserPassword The requested new password.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */ ;\n    _proto.changePassword = function changePassword(oldUserPassword, newUserPassword, callback, clientMetadata) {\n        if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n            return callback(new Error(\"User is not authenticated\"), null);\n        }\n        this.client.request(\"ChangePassword\", {\n            PreviousPassword: oldUserPassword,\n            ProposedPassword: newUserPassword,\n            AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n            ClientMetadata: clientMetadata\n        }, function(err) {\n            if (err) {\n                return callback(err, null);\n            }\n            return callback(null, \"SUCCESS\");\n        });\n        return undefined;\n    } /**\n   * This is used by an authenticated user to enable MFA for itself\n   * @deprecated\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */ ;\n    _proto.enableMFA = function enableMFA(callback) {\n        if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n            return callback(new Error(\"User is not authenticated\"), null);\n        }\n        var mfaOptions = [];\n        var mfaEnabled = {\n            DeliveryMedium: \"SMS\",\n            AttributeName: \"phone_number\"\n        };\n        mfaOptions.push(mfaEnabled);\n        this.client.request(\"SetUserSettings\", {\n            MFAOptions: mfaOptions,\n            AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n        }, function(err) {\n            if (err) {\n                return callback(err, null);\n            }\n            return callback(null, \"SUCCESS\");\n        });\n        return undefined;\n    } /**\n   * This is used by an authenticated user to enable MFA for itself\n   * @param {IMfaSettings} smsMfaSettings the sms mfa settings\n   * @param {IMFASettings} softwareTokenMfaSettings the software token mfa settings\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */ ;\n    _proto.setUserMfaPreference = function setUserMfaPreference(smsMfaSettings, softwareTokenMfaSettings, callback) {\n        if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n            return callback(new Error(\"User is not authenticated\"), null);\n        }\n        this.client.request(\"SetUserMFAPreference\", {\n            SMSMfaSettings: smsMfaSettings,\n            SoftwareTokenMfaSettings: softwareTokenMfaSettings,\n            AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n        }, function(err) {\n            if (err) {\n                return callback(err, null);\n            }\n            return callback(null, \"SUCCESS\");\n        });\n        return undefined;\n    } /**\n   * This is used by an authenticated user to disable MFA for itself\n   * @deprecated\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */ ;\n    _proto.disableMFA = function disableMFA(callback) {\n        if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n            return callback(new Error(\"User is not authenticated\"), null);\n        }\n        var mfaOptions = [];\n        this.client.request(\"SetUserSettings\", {\n            MFAOptions: mfaOptions,\n            AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n        }, function(err) {\n            if (err) {\n                return callback(err, null);\n            }\n            return callback(null, \"SUCCESS\");\n        });\n        return undefined;\n    } /**\n   * This is used by an authenticated user to delete itself\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */ ;\n    _proto.deleteUser = function deleteUser(callback, clientMetadata) {\n        var _this9 = this;\n        if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n            return callback(new Error(\"User is not authenticated\"), null);\n        }\n        this.client.request(\"DeleteUser\", {\n            AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n            ClientMetadata: clientMetadata\n        }, function(err) {\n            if (err) {\n                return callback(err, null);\n            }\n            _this9.clearCachedUser();\n            return callback(null, \"SUCCESS\");\n        });\n        return undefined;\n    } /**\n   * This is used by an authenticated user to change a list of attributes\n   * @param {AttributeArg[]} attributes A list of the new user attributes.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */ ;\n    _proto.updateAttributes = function updateAttributes(attributes, callback, clientMetadata) {\n        var _this10 = this;\n        if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n            return callback(new Error(\"User is not authenticated\"), null);\n        }\n        this.client.request(\"UpdateUserAttributes\", {\n            AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n            UserAttributes: attributes,\n            ClientMetadata: clientMetadata\n        }, function(err, result) {\n            if (err) {\n                return callback(err, null);\n            }\n            // update cached user\n            return _this10.getUserData(function() {\n                return callback(null, \"SUCCESS\", result);\n            }, {\n                bypassCache: true\n            });\n        });\n        return undefined;\n    } /**\n   * This is used by an authenticated user to get a list of attributes\n   * @param {nodeCallback<CognitoUserAttribute[]>} callback Called on success or error.\n   * @returns {void}\n   */ ;\n    _proto.getUserAttributes = function getUserAttributes(callback) {\n        if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n            return callback(new Error(\"User is not authenticated\"), null);\n        }\n        this.client.request(\"GetUser\", {\n            AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n        }, function(err, userData) {\n            if (err) {\n                return callback(err, null);\n            }\n            var attributeList = [];\n            for(var i = 0; i < userData.UserAttributes.length; i++){\n                var attribute = {\n                    Name: userData.UserAttributes[i].Name,\n                    Value: userData.UserAttributes[i].Value\n                };\n                var userAttribute = new _CognitoUserAttribute__WEBPACK_IMPORTED_MODULE_10__[\"default\"](attribute);\n                attributeList.push(userAttribute);\n            }\n            return callback(null, attributeList);\n        });\n        return undefined;\n    } /**\n   * This was previously used by an authenticated user to get MFAOptions,\n   * but no longer returns a meaningful response. Refer to the documentation for\n   * how to setup and use MFA: https://docs.amplify.aws/lib/auth/mfa/q/platform/js\n   * @deprecated\n   * @param {nodeCallback<MFAOptions>} callback Called on success or error.\n   * @returns {void}\n   */ ;\n    _proto.getMFAOptions = function getMFAOptions(callback) {\n        if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n            return callback(new Error(\"User is not authenticated\"), null);\n        }\n        this.client.request(\"GetUser\", {\n            AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n        }, function(err, userData) {\n            if (err) {\n                return callback(err, null);\n            }\n            return callback(null, userData.MFAOptions);\n        });\n        return undefined;\n    } /**\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   */ ;\n    _proto.createGetUserRequest = function createGetUserRequest() {\n        return this.client.promisifyRequest(\"GetUser\", {\n            AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n        });\n    } /**\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   */ ;\n    _proto.refreshSessionIfPossible = function refreshSessionIfPossible(options) {\n        var _this11 = this;\n        if (options === void 0) {\n            options = {};\n        }\n        // best effort, if not possible\n        return new Promise(function(resolve) {\n            var refresh = _this11.signInUserSession.getRefreshToken();\n            if (refresh && refresh.getToken()) {\n                _this11.refreshSession(refresh, resolve, options.clientMetadata);\n            } else {\n                resolve();\n            }\n        });\n    } /**\n   * This is used by an authenticated users to get the userData\n   * @param {nodeCallback<UserData>} callback Called on success or error.\n   * @param {GetUserDataOptions} params\n   * @returns {void}\n   */ ;\n    _proto.getUserData = function getUserData(callback, params) {\n        var _this12 = this;\n        if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n            this.clearCachedUserData();\n            return callback(new Error(\"User is not authenticated\"), null);\n        }\n        var userData = this.getUserDataFromCache();\n        if (!userData) {\n            this.fetchUserData().then(function(data) {\n                callback(null, data);\n            })[\"catch\"](callback);\n            return;\n        }\n        if (this.isFetchUserDataAndTokenRequired(params)) {\n            this.fetchUserData().then(function(data) {\n                return _this12.refreshSessionIfPossible(params).then(function() {\n                    return data;\n                });\n            }).then(function(data) {\n                return callback(null, data);\n            })[\"catch\"](callback);\n            return;\n        }\n        try {\n            callback(null, JSON.parse(userData));\n            return;\n        } catch (err) {\n            this.clearCachedUserData();\n            callback(err, null);\n            return;\n        }\n    } /**\n   *\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   */ ;\n    _proto.getUserDataFromCache = function getUserDataFromCache() {\n        var userData = this.storage.getItem(this.userDataKey);\n        return userData;\n    } /**\n   *\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   */ ;\n    _proto.isFetchUserDataAndTokenRequired = function isFetchUserDataAndTokenRequired(params) {\n        var _ref = params || {}, _ref$bypassCache = _ref.bypassCache, bypassCache = _ref$bypassCache === void 0 ? false : _ref$bypassCache;\n        return bypassCache;\n    } /**\n   *\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   */ ;\n    _proto.fetchUserData = function fetchUserData() {\n        var _this13 = this;\n        return this.createGetUserRequest().then(function(data) {\n            _this13.cacheUserData(data);\n            return data;\n        });\n    } /**\n   * This is used by an authenticated user to delete a list of attributes\n   * @param {string[]} attributeList Names of the attributes to delete.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */ ;\n    _proto.deleteAttributes = function deleteAttributes(attributeList, callback) {\n        var _this14 = this;\n        if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n            return callback(new Error(\"User is not authenticated\"), null);\n        }\n        this.client.request(\"DeleteUserAttributes\", {\n            UserAttributeNames: attributeList,\n            AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n        }, function(err) {\n            if (err) {\n                return callback(err, null);\n            }\n            // update cached user\n            return _this14.getUserData(function() {\n                return callback(null, \"SUCCESS\");\n            }, {\n                bypassCache: true\n            });\n        });\n        return undefined;\n    } /**\n   * This is used by a user to resend a confirmation code\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */ ;\n    _proto.resendConfirmationCode = function resendConfirmationCode(callback, clientMetadata) {\n        var jsonReq = {\n            ClientId: this.pool.getClientId(),\n            Username: this.username,\n            ClientMetadata: clientMetadata\n        };\n        this.client.request(\"ResendConfirmationCode\", jsonReq, function(err, result) {\n            if (err) {\n                return callback(err, null);\n            }\n            return callback(null, result);\n        });\n    } /**\n   * This is used to get a session, either from the session object\n   * or from  the local storage, or by using a refresh token\n   *\n   * @param {nodeCallback<CognitoUserSession>} callback Called on success or error.\n   * @param {GetSessionOptions} options\n   * @returns {void}\n   */ ;\n    _proto.getSession = function getSession(callback, options) {\n        if (options === void 0) {\n            options = {};\n        }\n        if (this.username == null) {\n            return callback(new Error(\"Username is null. Cannot retrieve a new session\"), null);\n        }\n        if (this.signInUserSession != null && this.signInUserSession.isValid()) {\n            return callback(null, this.signInUserSession);\n        }\n        var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId() + \".\" + this.username;\n        var idTokenKey = keyPrefix + \".idToken\";\n        var accessTokenKey = keyPrefix + \".accessToken\";\n        var refreshTokenKey = keyPrefix + \".refreshToken\";\n        var clockDriftKey = keyPrefix + \".clockDrift\";\n        if (this.storage.getItem(idTokenKey)) {\n            var idToken = new _CognitoIdToken__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\n                IdToken: this.storage.getItem(idTokenKey)\n            });\n            var accessToken = new _CognitoAccessToken__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\n                AccessToken: this.storage.getItem(accessTokenKey)\n            });\n            var refreshToken = new _CognitoRefreshToken__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\n                RefreshToken: this.storage.getItem(refreshTokenKey)\n            });\n            var clockDrift = parseInt(this.storage.getItem(clockDriftKey), 0) || 0;\n            var sessionData = {\n                IdToken: idToken,\n                AccessToken: accessToken,\n                RefreshToken: refreshToken,\n                ClockDrift: clockDrift\n            };\n            var cachedSession = new _CognitoUserSession__WEBPACK_IMPORTED_MODULE_8__[\"default\"](sessionData);\n            if (cachedSession.isValid()) {\n                this.signInUserSession = cachedSession;\n                return callback(null, this.signInUserSession);\n            }\n            if (!refreshToken.getToken()) {\n                return callback(new Error(\"Cannot retrieve a new session. Please authenticate.\"), null);\n            }\n            this.refreshSession(refreshToken, callback, options.clientMetadata);\n        } else {\n            callback(new Error(\"Local storage is missing an ID Token, Please authenticate\"), null);\n        }\n        return undefined;\n    } /**\n   * This uses the refreshToken to retrieve a new session\n   * @param {CognitoRefreshToken} refreshToken A previous session's refresh token.\n   * @param {nodeCallback<CognitoUserSession>} callback Called on success or error.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */ ;\n    _proto.refreshSession = function refreshSession(refreshToken, callback, clientMetadata) {\n        var _this15 = this;\n        var wrappedCallback = this.pool.wrapRefreshSessionCallback ? this.pool.wrapRefreshSessionCallback(callback) : callback;\n        var authParameters = {};\n        authParameters.REFRESH_TOKEN = refreshToken.getToken();\n        var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId();\n        var lastUserKey = keyPrefix + \".LastAuthUser\";\n        if (this.storage.getItem(lastUserKey)) {\n            this.username = this.storage.getItem(lastUserKey);\n            var deviceKeyKey = keyPrefix + \".\" + this.username + \".deviceKey\";\n            this.deviceKey = this.storage.getItem(deviceKeyKey);\n            authParameters.DEVICE_KEY = this.deviceKey;\n        }\n        var jsonReq = {\n            ClientId: this.pool.getClientId(),\n            AuthFlow: \"REFRESH_TOKEN_AUTH\",\n            AuthParameters: authParameters,\n            ClientMetadata: clientMetadata\n        };\n        if (this.getUserContextData()) {\n            jsonReq.UserContextData = this.getUserContextData();\n        }\n        this.client.request(\"InitiateAuth\", jsonReq, function(err, authResult) {\n            if (err) {\n                if (err.code === \"NotAuthorizedException\") {\n                    _this15.clearCachedUser();\n                }\n                return wrappedCallback(err, null);\n            }\n            if (authResult) {\n                var authenticationResult = authResult.AuthenticationResult;\n                if (!Object.prototype.hasOwnProperty.call(authenticationResult, \"RefreshToken\")) {\n                    authenticationResult.RefreshToken = refreshToken.getToken();\n                }\n                _this15.signInUserSession = _this15.getCognitoUserSession(authenticationResult);\n                _this15.cacheTokens();\n                return wrappedCallback(null, _this15.signInUserSession);\n            }\n            return undefined;\n        });\n    } /**\n   * This is used to save the session tokens to local storage\n   * @returns {void}\n   */ ;\n    _proto.cacheTokens = function cacheTokens() {\n        var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId();\n        var idTokenKey = keyPrefix + \".\" + this.username + \".idToken\";\n        var accessTokenKey = keyPrefix + \".\" + this.username + \".accessToken\";\n        var refreshTokenKey = keyPrefix + \".\" + this.username + \".refreshToken\";\n        var clockDriftKey = keyPrefix + \".\" + this.username + \".clockDrift\";\n        var lastUserKey = keyPrefix + \".LastAuthUser\";\n        this.storage.setItem(idTokenKey, this.signInUserSession.getIdToken().getJwtToken());\n        this.storage.setItem(accessTokenKey, this.signInUserSession.getAccessToken().getJwtToken());\n        this.storage.setItem(refreshTokenKey, this.signInUserSession.getRefreshToken().getToken());\n        this.storage.setItem(clockDriftKey, \"\" + this.signInUserSession.getClockDrift());\n        this.storage.setItem(lastUserKey, this.username);\n    } /**\n   * This is to cache user data\n   */ ;\n    _proto.cacheUserData = function cacheUserData(userData) {\n        this.storage.setItem(this.userDataKey, JSON.stringify(userData));\n    } /**\n   * This is to remove cached user data\n   */ ;\n    _proto.clearCachedUserData = function clearCachedUserData() {\n        this.storage.removeItem(this.userDataKey);\n    };\n    _proto.clearCachedUser = function clearCachedUser() {\n        this.clearCachedTokens();\n        this.clearCachedUserData();\n    } /**\n   * This is used to cache the device key and device group and device password\n   * @returns {void}\n   */ ;\n    _proto.cacheDeviceKeyAndPassword = function cacheDeviceKeyAndPassword() {\n        var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId() + \".\" + this.username;\n        var deviceKeyKey = keyPrefix + \".deviceKey\";\n        var randomPasswordKey = keyPrefix + \".randomPasswordKey\";\n        var deviceGroupKeyKey = keyPrefix + \".deviceGroupKey\";\n        this.storage.setItem(deviceKeyKey, this.deviceKey);\n        this.storage.setItem(randomPasswordKey, this.randomPassword);\n        this.storage.setItem(deviceGroupKeyKey, this.deviceGroupKey);\n    } /**\n   * This is used to get current device key and device group and device password\n   * @returns {void}\n   */ ;\n    _proto.getCachedDeviceKeyAndPassword = function getCachedDeviceKeyAndPassword() {\n        var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId() + \".\" + this.username;\n        var deviceKeyKey = keyPrefix + \".deviceKey\";\n        var randomPasswordKey = keyPrefix + \".randomPasswordKey\";\n        var deviceGroupKeyKey = keyPrefix + \".deviceGroupKey\";\n        if (this.storage.getItem(deviceKeyKey)) {\n            this.deviceKey = this.storage.getItem(deviceKeyKey);\n            this.randomPassword = this.storage.getItem(randomPasswordKey);\n            this.deviceGroupKey = this.storage.getItem(deviceGroupKeyKey);\n        }\n    } /**\n   * This is used to clear the device key info from local storage\n   * @returns {void}\n   */ ;\n    _proto.clearCachedDeviceKeyAndPassword = function clearCachedDeviceKeyAndPassword() {\n        var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId() + \".\" + this.username;\n        var deviceKeyKey = keyPrefix + \".deviceKey\";\n        var randomPasswordKey = keyPrefix + \".randomPasswordKey\";\n        var deviceGroupKeyKey = keyPrefix + \".deviceGroupKey\";\n        this.storage.removeItem(deviceKeyKey);\n        this.storage.removeItem(randomPasswordKey);\n        this.storage.removeItem(deviceGroupKeyKey);\n    } /**\n   * This is used to clear the session tokens from local storage\n   * @returns {void}\n   */ ;\n    _proto.clearCachedTokens = function clearCachedTokens() {\n        var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId();\n        var idTokenKey = keyPrefix + \".\" + this.username + \".idToken\";\n        var accessTokenKey = keyPrefix + \".\" + this.username + \".accessToken\";\n        var refreshTokenKey = keyPrefix + \".\" + this.username + \".refreshToken\";\n        var lastUserKey = keyPrefix + \".LastAuthUser\";\n        var clockDriftKey = keyPrefix + \".\" + this.username + \".clockDrift\";\n        this.storage.removeItem(idTokenKey);\n        this.storage.removeItem(accessTokenKey);\n        this.storage.removeItem(refreshTokenKey);\n        this.storage.removeItem(lastUserKey);\n        this.storage.removeItem(clockDriftKey);\n    } /**\n   * This is used to build a user session from tokens retrieved in the authentication result\n   * @param {object} authResult Successful auth response from server.\n   * @returns {CognitoUserSession} The new user session.\n   * @private\n   */ ;\n    _proto.getCognitoUserSession = function getCognitoUserSession(authResult) {\n        var idToken = new _CognitoIdToken__WEBPACK_IMPORTED_MODULE_6__[\"default\"](authResult);\n        var accessToken = new _CognitoAccessToken__WEBPACK_IMPORTED_MODULE_5__[\"default\"](authResult);\n        var refreshToken = new _CognitoRefreshToken__WEBPACK_IMPORTED_MODULE_7__[\"default\"](authResult);\n        var sessionData = {\n            IdToken: idToken,\n            AccessToken: accessToken,\n            RefreshToken: refreshToken\n        };\n        return new _CognitoUserSession__WEBPACK_IMPORTED_MODULE_8__[\"default\"](sessionData);\n    } /**\n   * This is used to initiate a forgot password request\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {inputVerificationCode?} callback.inputVerificationCode\n   *    Optional callback raised instead of onSuccess with response data.\n   * @param {onSuccess} callback.onSuccess Called on success.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */ ;\n    _proto.forgotPassword = function forgotPassword(callback, clientMetadata) {\n        var jsonReq = {\n            ClientId: this.pool.getClientId(),\n            Username: this.username,\n            ClientMetadata: clientMetadata\n        };\n        if (this.getUserContextData()) {\n            jsonReq.UserContextData = this.getUserContextData();\n        }\n        this.client.request(\"ForgotPassword\", jsonReq, function(err, data) {\n            if (err) {\n                return callback.onFailure(err);\n            }\n            if (typeof callback.inputVerificationCode === \"function\") {\n                return callback.inputVerificationCode(data);\n            }\n            return callback.onSuccess(data);\n        });\n    } /**\n   * This is used to confirm a new password using a confirmationCode\n   * @param {string} confirmationCode Code entered by user.\n   * @param {string} newPassword Confirm new password.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<void>} callback.onSuccess Called on success.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */ ;\n    _proto.confirmPassword = function confirmPassword(confirmationCode, newPassword, callback, clientMetadata) {\n        var jsonReq = {\n            ClientId: this.pool.getClientId(),\n            Username: this.username,\n            ConfirmationCode: confirmationCode,\n            Password: newPassword,\n            ClientMetadata: clientMetadata\n        };\n        if (this.getUserContextData()) {\n            jsonReq.UserContextData = this.getUserContextData();\n        }\n        this.client.request(\"ConfirmForgotPassword\", jsonReq, function(err) {\n            if (err) {\n                return callback.onFailure(err);\n            }\n            return callback.onSuccess(\"SUCCESS\");\n        });\n    } /**\n   * This is used to initiate an attribute confirmation request\n   * @param {string} attributeName User attribute that needs confirmation.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {inputVerificationCode} callback.inputVerificationCode Called on success.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */ ;\n    _proto.getAttributeVerificationCode = function getAttributeVerificationCode(attributeName, callback, clientMetadata) {\n        if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n            return callback.onFailure(new Error(\"User is not authenticated\"));\n        }\n        this.client.request(\"GetUserAttributeVerificationCode\", {\n            AttributeName: attributeName,\n            AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n            ClientMetadata: clientMetadata\n        }, function(err, data) {\n            if (err) {\n                return callback.onFailure(err);\n            }\n            if (typeof callback.inputVerificationCode === \"function\") {\n                return callback.inputVerificationCode(data);\n            }\n            return callback.onSuccess(\"SUCCESS\");\n        });\n        return undefined;\n    } /**\n   * This is used to confirm an attribute using a confirmation code\n   * @param {string} attributeName Attribute being confirmed.\n   * @param {string} confirmationCode Code entered by user.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */ ;\n    _proto.verifyAttribute = function verifyAttribute(attributeName, confirmationCode, callback) {\n        if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n            return callback.onFailure(new Error(\"User is not authenticated\"));\n        }\n        this.client.request(\"VerifyUserAttribute\", {\n            AttributeName: attributeName,\n            Code: confirmationCode,\n            AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n        }, function(err) {\n            if (err) {\n                return callback.onFailure(err);\n            }\n            return callback.onSuccess(\"SUCCESS\");\n        });\n        return undefined;\n    } /**\n   * This is used to get the device information using the current device key\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<*>} callback.onSuccess Called on success with device data.\n   * @returns {void}\n   */ ;\n    _proto.getDevice = function getDevice(callback) {\n        if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n            return callback.onFailure(new Error(\"User is not authenticated\"));\n        }\n        this.client.request(\"GetDevice\", {\n            AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n            DeviceKey: this.deviceKey\n        }, function(err, data) {\n            if (err) {\n                return callback.onFailure(err);\n            }\n            return callback.onSuccess(data);\n        });\n        return undefined;\n    } /**\n   * This is used to forget a specific device\n   * @param {string} deviceKey Device key.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */ ;\n    _proto.forgetSpecificDevice = function forgetSpecificDevice(deviceKey, callback) {\n        if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n            return callback.onFailure(new Error(\"User is not authenticated\"));\n        }\n        this.client.request(\"ForgetDevice\", {\n            AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n            DeviceKey: deviceKey\n        }, function(err) {\n            if (err) {\n                return callback.onFailure(err);\n            }\n            return callback.onSuccess(\"SUCCESS\");\n        });\n        return undefined;\n    } /**\n   * This is used to forget the current device\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */ ;\n    _proto.forgetDevice = function forgetDevice(callback) {\n        var _this16 = this;\n        this.forgetSpecificDevice(this.deviceKey, {\n            onFailure: callback.onFailure,\n            onSuccess: function onSuccess(result) {\n                _this16.deviceKey = null;\n                _this16.deviceGroupKey = null;\n                _this16.randomPassword = null;\n                _this16.clearCachedDeviceKeyAndPassword();\n                return callback.onSuccess(result);\n            }\n        });\n    } /**\n   * This is used to set the device status as remembered\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */ ;\n    _proto.setDeviceStatusRemembered = function setDeviceStatusRemembered(callback) {\n        if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n            return callback.onFailure(new Error(\"User is not authenticated\"));\n        }\n        this.client.request(\"UpdateDeviceStatus\", {\n            AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n            DeviceKey: this.deviceKey,\n            DeviceRememberedStatus: \"remembered\"\n        }, function(err) {\n            if (err) {\n                return callback.onFailure(err);\n            }\n            return callback.onSuccess(\"SUCCESS\");\n        });\n        return undefined;\n    } /**\n   * This is used to set the device status as not remembered\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */ ;\n    _proto.setDeviceStatusNotRemembered = function setDeviceStatusNotRemembered(callback) {\n        if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n            return callback.onFailure(new Error(\"User is not authenticated\"));\n        }\n        this.client.request(\"UpdateDeviceStatus\", {\n            AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n            DeviceKey: this.deviceKey,\n            DeviceRememberedStatus: \"not_remembered\"\n        }, function(err) {\n            if (err) {\n                return callback.onFailure(err);\n            }\n            return callback.onSuccess(\"SUCCESS\");\n        });\n        return undefined;\n    } /**\n   * This is used to list all devices for a user\n   *\n   * @param {int} limit the number of devices returned in a call\n   * @param {string | null} paginationToken the pagination token in case any was returned before\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<*>} callback.onSuccess Called on success with device list.\n   * @returns {void}\n   */ ;\n    _proto.listDevices = function listDevices(limit, paginationToken, callback) {\n        if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n            return callback.onFailure(new Error(\"User is not authenticated\"));\n        }\n        var requestParams = {\n            AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n            Limit: limit\n        };\n        if (paginationToken) {\n            requestParams.PaginationToken = paginationToken;\n        }\n        this.client.request(\"ListDevices\", requestParams, function(err, data) {\n            if (err) {\n                return callback.onFailure(err);\n            }\n            return callback.onSuccess(data);\n        });\n        return undefined;\n    } /**\n   * This is used to globally revoke all tokens issued to a user\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */ ;\n    _proto.globalSignOut = function globalSignOut(callback) {\n        var _this17 = this;\n        if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n            return callback.onFailure(new Error(\"User is not authenticated\"));\n        }\n        this.client.request(\"GlobalSignOut\", {\n            AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n        }, function(err) {\n            if (err) {\n                return callback.onFailure(err);\n            }\n            _this17.clearCachedUser();\n            return callback.onSuccess(\"SUCCESS\");\n        });\n        return undefined;\n    } /**\n   * This is used for the user to signOut of the application and clear the cached tokens.\n   * @returns {void}\n   */ ;\n    _proto.signOut = function signOut(revokeTokenCallback) {\n        var _this18 = this;\n        // If tokens won't be revoked, we just clean the client data.\n        if (!revokeTokenCallback || typeof revokeTokenCallback !== \"function\") {\n            this.cleanClientData();\n            return;\n        }\n        this.getSession(function(error, _session) {\n            if (error) {\n                return revokeTokenCallback(error);\n            }\n            _this18.revokeTokens(function(err) {\n                _this18.cleanClientData();\n                revokeTokenCallback(err);\n            });\n        });\n    };\n    _proto.revokeTokens = function revokeTokens(revokeTokenCallback) {\n        if (revokeTokenCallback === void 0) {\n            revokeTokenCallback = function revokeTokenCallback() {};\n        }\n        if (typeof revokeTokenCallback !== \"function\") {\n            throw new Error(\"Invalid revokeTokenCallback. It should be a function.\");\n        }\n        var tokensToBeRevoked = [];\n        if (!this.signInUserSession) {\n            var error = new Error(\"User is not authenticated\");\n            return revokeTokenCallback(error);\n        }\n        if (!this.signInUserSession.getAccessToken()) {\n            var _error = new Error(\"No Access token available\");\n            return revokeTokenCallback(_error);\n        }\n        var refreshToken = this.signInUserSession.getRefreshToken().getToken();\n        var accessToken = this.signInUserSession.getAccessToken();\n        if (this.isSessionRevocable(accessToken)) {\n            if (refreshToken) {\n                return this.revokeToken({\n                    token: refreshToken,\n                    callback: revokeTokenCallback\n                });\n            }\n        }\n        revokeTokenCallback();\n    };\n    _proto.isSessionRevocable = function isSessionRevocable(token) {\n        if (token && typeof token.decodePayload === \"function\") {\n            try {\n                var _token$decodePayload = token.decodePayload(), origin_jti = _token$decodePayload.origin_jti;\n                return !!origin_jti;\n            } catch (err) {\n            // Nothing to do, token doesnt have origin_jti claim\n            }\n        }\n        return false;\n    };\n    _proto.cleanClientData = function cleanClientData() {\n        this.signInUserSession = null;\n        this.clearCachedUser();\n    };\n    _proto.revokeToken = function revokeToken(_ref2) {\n        var token = _ref2.token, callback = _ref2.callback;\n        this.client.requestWithRetry(\"RevokeToken\", {\n            Token: token,\n            ClientId: this.pool.getClientId()\n        }, function(err) {\n            if (err) {\n                return callback(err);\n            }\n            callback();\n        });\n    } /**\n   * This is used by a user trying to select a given MFA\n   * @param {string} answerChallenge the mfa the user wants\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */ ;\n    _proto.sendMFASelectionAnswer = function sendMFASelectionAnswer(answerChallenge, callback) {\n        var _this19 = this;\n        var challengeResponses = {};\n        challengeResponses.USERNAME = this.username;\n        challengeResponses.ANSWER = answerChallenge;\n        var jsonReq = {\n            ChallengeName: \"SELECT_MFA_TYPE\",\n            ChallengeResponses: challengeResponses,\n            ClientId: this.pool.getClientId(),\n            Session: this.Session\n        };\n        if (this.getUserContextData()) {\n            jsonReq.UserContextData = this.getUserContextData();\n        }\n        this.client.request(\"RespondToAuthChallenge\", jsonReq, function(err, data) {\n            if (err) {\n                return callback.onFailure(err);\n            }\n            _this19.Session = data.Session;\n            if (answerChallenge === \"SMS_MFA\") {\n                return callback.mfaRequired(data.ChallengeName, data.ChallengeParameters);\n            }\n            if (answerChallenge === \"SOFTWARE_TOKEN_MFA\") {\n                return callback.totpRequired(data.ChallengeName, data.ChallengeParameters);\n            }\n            return undefined;\n        });\n    } /**\n   * This returns the user context data for advanced security feature.\n   * @returns {string} the user context data from CognitoUserPool\n   */ ;\n    _proto.getUserContextData = function getUserContextData() {\n        var pool = this.pool;\n        return pool.getUserContextData(this.username);\n    } /**\n   * This is used by an authenticated or a user trying to authenticate to associate a TOTP MFA\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */ ;\n    _proto.associateSoftwareToken = function associateSoftwareToken(callback) {\n        var _this20 = this;\n        if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n            this.client.request(\"AssociateSoftwareToken\", {\n                Session: this.Session\n            }, function(err, data) {\n                if (err) {\n                    return callback.onFailure(err);\n                }\n                _this20.Session = data.Session;\n                return callback.associateSecretCode(data.SecretCode);\n            });\n        } else {\n            this.client.request(\"AssociateSoftwareToken\", {\n                AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n            }, function(err, data) {\n                if (err) {\n                    return callback.onFailure(err);\n                }\n                return callback.associateSecretCode(data.SecretCode);\n            });\n        }\n    } /**\n   * This is used by an authenticated or a user trying to authenticate to verify a TOTP MFA\n   * @param {string} totpCode The MFA code entered by the user.\n   * @param {string} friendlyDeviceName The device name we are assigning to the device.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */ ;\n    _proto.verifySoftwareToken = function verifySoftwareToken(totpCode, friendlyDeviceName, callback) {\n        var _this21 = this;\n        if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n            this.client.request(\"VerifySoftwareToken\", {\n                Session: this.Session,\n                UserCode: totpCode,\n                FriendlyDeviceName: friendlyDeviceName\n            }, function(err, data) {\n                if (err) {\n                    return callback.onFailure(err);\n                }\n                _this21.Session = data.Session;\n                var challengeResponses = {};\n                challengeResponses.USERNAME = _this21.username;\n                var jsonReq = {\n                    ChallengeName: \"MFA_SETUP\",\n                    ClientId: _this21.pool.getClientId(),\n                    ChallengeResponses: challengeResponses,\n                    Session: _this21.Session\n                };\n                if (_this21.getUserContextData()) {\n                    jsonReq.UserContextData = _this21.getUserContextData();\n                }\n                _this21.client.request(\"RespondToAuthChallenge\", jsonReq, function(errRespond, dataRespond) {\n                    if (errRespond) {\n                        return callback.onFailure(errRespond);\n                    }\n                    _this21.signInUserSession = _this21.getCognitoUserSession(dataRespond.AuthenticationResult);\n                    _this21.cacheTokens();\n                    return callback.onSuccess(_this21.signInUserSession);\n                });\n                return undefined;\n            });\n        } else {\n            this.client.request(\"VerifySoftwareToken\", {\n                AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n                UserCode: totpCode,\n                FriendlyDeviceName: friendlyDeviceName\n            }, function(err, data) {\n                if (err) {\n                    return callback.onFailure(err);\n                }\n                return callback.onSuccess(data);\n            });\n        }\n    };\n    return CognitoUser;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYW1hem9uLWNvZ25pdG8taWRlbnRpdHktanMvZXMvQ29nbml0b1VzZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7OztDQUdDLEdBRStCO0FBQ2U7QUFDVDtBQUNBO0FBQ29CO0FBQ0o7QUFDUjtBQUNVO0FBQ0Y7QUFDaEI7QUFDb0I7QUFDZDtBQUU1Qzs7Ozs7Q0FLQyxHQUVEOzs7Q0FHQyxHQUVEOzs7O0NBSUMsR0FFRDs7O0NBR0MsR0FFRDs7O0NBR0MsR0FFRDs7O0NBR0MsR0FFRDs7OztDQUlDLEdBRUQsSUFBSVksdUJBQXVCLE9BQU9DLGNBQWM7QUFDaEQsSUFBSUMsWUFBWUYsdUJBQXVCViwrQ0FBUUEsQ0FBQ2EsYUFBYSxHQUFHLGlCQUFpQkYsVUFBVUMsU0FBUyxHQUFHO0FBRXZHLFdBQVcsR0FDWCxJQUFJRSxjQUFjLFdBQVcsR0FBRTtJQUM3Qjs7Ozs7O0dBTUMsR0FDRCxTQUFTQSxZQUFZQyxJQUFJO1FBQ3ZCLElBQUlBLFFBQVEsUUFBUUEsS0FBS0MsUUFBUSxJQUFJLFFBQVFELEtBQUtFLElBQUksSUFBSSxNQUFNO1lBQzlELE1BQU0sSUFBSUMsTUFBTTtRQUNsQjtRQUNBLElBQUksQ0FBQ0MsUUFBUSxHQUFHSixLQUFLQyxRQUFRLElBQUk7UUFDakMsSUFBSSxDQUFDSSxJQUFJLEdBQUdMLEtBQUtFLElBQUk7UUFDckIsSUFBSSxDQUFDSSxPQUFPLEdBQUc7UUFDZixJQUFJLENBQUNDLE1BQU0sR0FBR1AsS0FBS0UsSUFBSSxDQUFDSyxNQUFNO1FBQzlCLElBQUksQ0FBQ0MsaUJBQWlCLEdBQUc7UUFDekIsSUFBSSxDQUFDQyxzQkFBc0IsR0FBRztRQUM5QixJQUFJLENBQUNDLE9BQU8sR0FBR1YsS0FBS1csT0FBTyxJQUFJLElBQUlqQix1REFBYUEsR0FBR2tCLFVBQVU7UUFDN0QsSUFBSSxDQUFDQyxTQUFTLEdBQUcsb0NBQW9DLElBQUksQ0FBQ1IsSUFBSSxDQUFDUyxXQUFX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UUFBUS9ULGlCQUFpQixHQUFHK1QsUUFBUWxSLHFCQUFxQixDQUFDc1IsWUFBWXJSLG9CQUFvQjtvQkFDMUZpUixRQUFRblQsV0FBVztvQkFDbkIsT0FBT08sU0FBUzRCLFNBQVMsQ0FBQ2dSLFFBQVEvVCxpQkFBaUI7Z0JBQ3JEO2dCQUNBLE9BQU95RztZQUNUO1FBQ0YsT0FBTztZQUNMLElBQUksQ0FBQzFHLE1BQU0sQ0FBQ3NDLE9BQU8sQ0FBQyx1QkFBdUI7Z0JBQ3pDcUcsYUFBYSxJQUFJLENBQUMxSSxpQkFBaUIsQ0FBQzJJLGNBQWMsR0FBR0MsV0FBVztnQkFDaEVvTCxVQUFVSDtnQkFDVkksb0JBQW9CSDtZQUN0QixHQUFHLFNBQVV4UixHQUFHLEVBQUU5QyxJQUFJO2dCQUNwQixJQUFJOEMsS0FBSztvQkFDUCxPQUFPbkIsU0FBU29CLFNBQVMsQ0FBQ0Q7Z0JBQzVCO2dCQUNBLE9BQU9uQixTQUFTNEIsU0FBUyxDQUFDdkQ7WUFDNUI7UUFDRjtJQUNGO0lBQ0EsT0FBT0Q7QUFDVDtBQUNrQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Z1enp5LW9jdG8tYnJvY2NvbGktbmV4dC8uL25vZGVfbW9kdWxlcy9hbWF6b24tY29nbml0by1pZGVudGl0eS1qcy9lcy9Db2duaXRvVXNlci5qcz82MjFiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCB7IEJ1ZmZlciB9IGZyb20gJ2J1ZmZlcic7XG5pbXBvcnQgeyBTaGEyNTYgfSBmcm9tICdAYXdzLWNyeXB0by9zaGEyNTYtanMnO1xuaW1wb3J0IHsgUGxhdGZvcm0gfSBmcm9tICcuL1BsYXRmb3JtJztcbmltcG9ydCBCaWdJbnRlZ2VyIGZyb20gJy4vQmlnSW50ZWdlcic7XG5pbXBvcnQgQXV0aGVudGljYXRpb25IZWxwZXIgZnJvbSAnLi9BdXRoZW50aWNhdGlvbkhlbHBlcic7XG5pbXBvcnQgQ29nbml0b0FjY2Vzc1Rva2VuIGZyb20gJy4vQ29nbml0b0FjY2Vzc1Rva2VuJztcbmltcG9ydCBDb2duaXRvSWRUb2tlbiBmcm9tICcuL0NvZ25pdG9JZFRva2VuJztcbmltcG9ydCBDb2duaXRvUmVmcmVzaFRva2VuIGZyb20gJy4vQ29nbml0b1JlZnJlc2hUb2tlbic7XG5pbXBvcnQgQ29nbml0b1VzZXJTZXNzaW9uIGZyb20gJy4vQ29nbml0b1VzZXJTZXNzaW9uJztcbmltcG9ydCBEYXRlSGVscGVyIGZyb20gJy4vRGF0ZUhlbHBlcic7XG5pbXBvcnQgQ29nbml0b1VzZXJBdHRyaWJ1dGUgZnJvbSAnLi9Db2duaXRvVXNlckF0dHJpYnV0ZSc7XG5pbXBvcnQgU3RvcmFnZUhlbHBlciBmcm9tICcuL1N0b3JhZ2VIZWxwZXInO1xuXG4vKipcbiAqIEBjYWxsYmFjayBub2RlQ2FsbGJhY2tcbiAqIEB0ZW1wbGF0ZSBUIHJlc3VsdFxuICogQHBhcmFtIHsqfSBlcnIgVGhlIG9wZXJhdGlvbiBmYWlsdXJlIHJlYXNvbiwgb3IgbnVsbC5cbiAqIEBwYXJhbSB7VH0gcmVzdWx0IFRoZSBvcGVyYXRpb24gcmVzdWx0LlxuICovXG5cbi8qKlxuICogQGNhbGxiYWNrIG9uRmFpbHVyZVxuICogQHBhcmFtIHsqfSBlcnIgRmFpbHVyZSByZWFzb24uXG4gKi9cblxuLyoqXG4gKiBAY2FsbGJhY2sgb25TdWNjZXNzXG4gKiBAdGVtcGxhdGUgVCByZXN1bHRcbiAqIEBwYXJhbSB7VH0gcmVzdWx0IFRoZSBvcGVyYXRpb24gcmVzdWx0LlxuICovXG5cbi8qKlxuICogQGNhbGxiYWNrIG1mYVJlcXVpcmVkXG4gKiBAcGFyYW0geyp9IGRldGFpbHMgTUZBIGNoYWxsZW5nZSBkZXRhaWxzLlxuICovXG5cbi8qKlxuICogQGNhbGxiYWNrIGN1c3RvbUNoYWxsZW5nZVxuICogQHBhcmFtIHsqfSBkZXRhaWxzIEN1c3RvbSBjaGFsbGVuZ2UgZGV0YWlscy5cbiAqL1xuXG4vKipcbiAqIEBjYWxsYmFjayBpbnB1dFZlcmlmaWNhdGlvbkNvZGVcbiAqIEBwYXJhbSB7Kn0gZGF0YSBTZXJ2ZXIgcmVzcG9uc2UuXG4gKi9cblxuLyoqXG4gKiBAY2FsbGJhY2sgYXV0aFN1Y2Nlc3NcbiAqIEBwYXJhbSB7Q29nbml0b1VzZXJTZXNzaW9ufSBzZXNzaW9uIFRoZSBuZXcgc2Vzc2lvbi5cbiAqIEBwYXJhbSB7Ym9vbD19IHVzZXJDb25maXJtYXRpb25OZWNlc3NhcnkgVXNlciBtdXN0IGJlIGNvbmZpcm1lZC5cbiAqL1xuXG52YXIgaXNOYXZpZ2F0b3JBdmFpbGFibGUgPSB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJztcbnZhciB1c2VyQWdlbnQgPSBpc05hdmlnYXRvckF2YWlsYWJsZSA/IFBsYXRmb3JtLmlzUmVhY3ROYXRpdmUgPyAncmVhY3QtbmF0aXZlJyA6IG5hdmlnYXRvci51c2VyQWdlbnQgOiAnbm9kZWpzJztcblxuLyoqIEBjbGFzcyAqL1xudmFyIENvZ25pdG9Vc2VyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgYSBuZXcgQ29nbml0b1VzZXIgb2JqZWN0XG4gICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIENyZWF0aW9uIG9wdGlvbnNcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGEuVXNlcm5hbWUgVGhlIHVzZXIncyB1c2VybmFtZS5cbiAgICogQHBhcmFtIHtDb2duaXRvVXNlclBvb2x9IGRhdGEuUG9vbCBQb29sIGNvbnRhaW5pbmcgdGhlIHVzZXIuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhLlN0b3JhZ2UgT3B0aW9uYWwgc3RvcmFnZSBvYmplY3QuXG4gICAqL1xuICBmdW5jdGlvbiBDb2duaXRvVXNlcihkYXRhKSB7XG4gICAgaWYgKGRhdGEgPT0gbnVsbCB8fCBkYXRhLlVzZXJuYW1lID09IG51bGwgfHwgZGF0YS5Qb29sID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVXNlcm5hbWUgYW5kIFBvb2wgaW5mb3JtYXRpb24gYXJlIHJlcXVpcmVkLicpO1xuICAgIH1cbiAgICB0aGlzLnVzZXJuYW1lID0gZGF0YS5Vc2VybmFtZSB8fCAnJztcbiAgICB0aGlzLnBvb2wgPSBkYXRhLlBvb2w7XG4gICAgdGhpcy5TZXNzaW9uID0gbnVsbDtcbiAgICB0aGlzLmNsaWVudCA9IGRhdGEuUG9vbC5jbGllbnQ7XG4gICAgdGhpcy5zaWduSW5Vc2VyU2Vzc2lvbiA9IG51bGw7XG4gICAgdGhpcy5hdXRoZW50aWNhdGlvbkZsb3dUeXBlID0gJ1VTRVJfU1JQX0FVVEgnO1xuICAgIHRoaXMuc3RvcmFnZSA9IGRhdGEuU3RvcmFnZSB8fCBuZXcgU3RvcmFnZUhlbHBlcigpLmdldFN0b3JhZ2UoKTtcbiAgICB0aGlzLmtleVByZWZpeCA9IFwiQ29nbml0b0lkZW50aXR5U2VydmljZVByb3ZpZGVyLlwiICsgdGhpcy5wb29sLmdldENsaWVudElkKCk7XG4gICAgdGhpcy51c2VyRGF0YUtleSA9IHRoaXMua2V5UHJlZml4ICsgXCIuXCIgKyB0aGlzLnVzZXJuYW1lICsgXCIudXNlckRhdGFcIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBzZXNzaW9uIGZvciB0aGlzIHVzZXJcbiAgICogQHBhcmFtIHtDb2duaXRvVXNlclNlc3Npb259IHNpZ25JblVzZXJTZXNzaW9uIHRoZSBzZXNzaW9uXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgdmFyIF9wcm90byA9IENvZ25pdG9Vc2VyLnByb3RvdHlwZTtcbiAgX3Byb3RvLnNldFNpZ25JblVzZXJTZXNzaW9uID0gZnVuY3Rpb24gc2V0U2lnbkluVXNlclNlc3Npb24oc2lnbkluVXNlclNlc3Npb24pIHtcbiAgICB0aGlzLmNsZWFyQ2FjaGVkVXNlckRhdGEoKTtcbiAgICB0aGlzLnNpZ25JblVzZXJTZXNzaW9uID0gc2lnbkluVXNlclNlc3Npb247XG4gICAgdGhpcy5jYWNoZVRva2VucygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtDb2duaXRvVXNlclNlc3Npb259IHRoZSBjdXJyZW50IHNlc3Npb24gZm9yIHRoaXMgdXNlclxuICAgKi87XG4gIF9wcm90by5nZXRTaWduSW5Vc2VyU2Vzc2lvbiA9IGZ1bmN0aW9uIGdldFNpZ25JblVzZXJTZXNzaW9uKCkge1xuICAgIHJldHVybiB0aGlzLnNpZ25JblVzZXJTZXNzaW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IHRoZSB1c2VyJ3MgdXNlcm5hbWVcbiAgICovO1xuICBfcHJvdG8uZ2V0VXNlcm5hbWUgPSBmdW5jdGlvbiBnZXRVc2VybmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy51c2VybmFtZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSB0aGUgYXV0aGVudGljYXRpb24gZmxvdyB0eXBlXG4gICAqLztcbiAgX3Byb3RvLmdldEF1dGhlbnRpY2F0aW9uRmxvd1R5cGUgPSBmdW5jdGlvbiBnZXRBdXRoZW50aWNhdGlvbkZsb3dUeXBlKCkge1xuICAgIHJldHVybiB0aGlzLmF1dGhlbnRpY2F0aW9uRmxvd1R5cGU7XG4gIH1cblxuICAvKipcbiAgICogc2V0cyBhdXRoZW50aWNhdGlvbiBmbG93IHR5cGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGF1dGhlbnRpY2F0aW9uRmxvd1R5cGUgTmV3IHZhbHVlLlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovO1xuICBfcHJvdG8uc2V0QXV0aGVudGljYXRpb25GbG93VHlwZSA9IGZ1bmN0aW9uIHNldEF1dGhlbnRpY2F0aW9uRmxvd1R5cGUoYXV0aGVudGljYXRpb25GbG93VHlwZSkge1xuICAgIHRoaXMuYXV0aGVudGljYXRpb25GbG93VHlwZSA9IGF1dGhlbnRpY2F0aW9uRmxvd1R5cGU7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBpcyB1c2VkIGZvciBhdXRoZW50aWNhdGluZyB0aGUgdXNlciB0aHJvdWdoIHRoZSBjdXN0b20gYXV0aGVudGljYXRpb24gZmxvdy5cbiAgICogQHBhcmFtIHtBdXRoZW50aWNhdGlvbkRldGFpbHN9IGF1dGhEZXRhaWxzIENvbnRhaW5zIHRoZSBhdXRoZW50aWNhdGlvbiBkYXRhXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBjYWxsYmFjayBSZXN1bHQgY2FsbGJhY2sgbWFwLlxuICAgKiBAcGFyYW0ge29uRmFpbHVyZX0gY2FsbGJhY2sub25GYWlsdXJlIENhbGxlZCBvbiBhbnkgZXJyb3IuXG4gICAqIEBwYXJhbSB7Y3VzdG9tQ2hhbGxlbmdlfSBjYWxsYmFjay5jdXN0b21DaGFsbGVuZ2UgQ3VzdG9tIGNoYWxsZW5nZVxuICAgKiAgICAgICAgcmVzcG9uc2UgcmVxdWlyZWQgdG8gY29udGludWUuXG4gICAqIEBwYXJhbSB7YXV0aFN1Y2Nlc3N9IGNhbGxiYWNrLm9uU3VjY2VzcyBDYWxsZWQgb24gc3VjY2VzcyB3aXRoIHRoZSBuZXcgc2Vzc2lvbi5cbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqLztcbiAgX3Byb3RvLmluaXRpYXRlQXV0aCA9IGZ1bmN0aW9uIGluaXRpYXRlQXV0aChhdXRoRGV0YWlscywgY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciBhdXRoUGFyYW1ldGVycyA9IGF1dGhEZXRhaWxzLmdldEF1dGhQYXJhbWV0ZXJzKCk7XG4gICAgYXV0aFBhcmFtZXRlcnMuVVNFUk5BTUUgPSB0aGlzLnVzZXJuYW1lO1xuICAgIHZhciBjbGllbnRNZXRhRGF0YSA9IE9iamVjdC5rZXlzKGF1dGhEZXRhaWxzLmdldFZhbGlkYXRpb25EYXRhKCkpLmxlbmd0aCAhPT0gMCA/IGF1dGhEZXRhaWxzLmdldFZhbGlkYXRpb25EYXRhKCkgOiBhdXRoRGV0YWlscy5nZXRDbGllbnRNZXRhZGF0YSgpO1xuICAgIHZhciBqc29uUmVxID0ge1xuICAgICAgQXV0aEZsb3c6ICdDVVNUT01fQVVUSCcsXG4gICAgICBDbGllbnRJZDogdGhpcy5wb29sLmdldENsaWVudElkKCksXG4gICAgICBBdXRoUGFyYW1ldGVyczogYXV0aFBhcmFtZXRlcnMsXG4gICAgICBDbGllbnRNZXRhZGF0YTogY2xpZW50TWV0YURhdGFcbiAgICB9O1xuICAgIGlmICh0aGlzLmdldFVzZXJDb250ZXh0RGF0YSgpKSB7XG4gICAgICBqc29uUmVxLlVzZXJDb250ZXh0RGF0YSA9IHRoaXMuZ2V0VXNlckNvbnRleHREYXRhKCk7XG4gICAgfVxuICAgIHRoaXMuY2xpZW50LnJlcXVlc3QoJ0luaXRpYXRlQXV0aCcsIGpzb25SZXEsIGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrLm9uRmFpbHVyZShlcnIpO1xuICAgICAgfVxuICAgICAgdmFyIGNoYWxsZW5nZU5hbWUgPSBkYXRhLkNoYWxsZW5nZU5hbWU7XG4gICAgICB2YXIgY2hhbGxlbmdlUGFyYW1ldGVycyA9IGRhdGEuQ2hhbGxlbmdlUGFyYW1ldGVycztcbiAgICAgIGlmIChjaGFsbGVuZ2VOYW1lID09PSAnQ1VTVE9NX0NIQUxMRU5HRScpIHtcbiAgICAgICAgX3RoaXMuU2Vzc2lvbiA9IGRhdGEuU2Vzc2lvbjtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmN1c3RvbUNoYWxsZW5nZShjaGFsbGVuZ2VQYXJhbWV0ZXJzKTtcbiAgICAgIH1cbiAgICAgIF90aGlzLnNpZ25JblVzZXJTZXNzaW9uID0gX3RoaXMuZ2V0Q29nbml0b1VzZXJTZXNzaW9uKGRhdGEuQXV0aGVudGljYXRpb25SZXN1bHQpO1xuICAgICAgX3RoaXMuY2FjaGVUb2tlbnMoKTtcbiAgICAgIHJldHVybiBjYWxsYmFjay5vblN1Y2Nlc3MoX3RoaXMuc2lnbkluVXNlclNlc3Npb24pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgdXNlZCBmb3IgYXV0aGVudGljYXRpbmcgdGhlIHVzZXIuXG4gICAqIHN0dWZmXG4gICAqIEBwYXJhbSB7QXV0aGVudGljYXRpb25EZXRhaWxzfSBhdXRoRGV0YWlscyBDb250YWlucyB0aGUgYXV0aGVudGljYXRpb24gZGF0YVxuICAgKiBAcGFyYW0ge29iamVjdH0gY2FsbGJhY2sgUmVzdWx0IGNhbGxiYWNrIG1hcC5cbiAgICogQHBhcmFtIHtvbkZhaWx1cmV9IGNhbGxiYWNrLm9uRmFpbHVyZSBDYWxsZWQgb24gYW55IGVycm9yLlxuICAgKiBAcGFyYW0ge25ld1Bhc3N3b3JkUmVxdWlyZWR9IGNhbGxiYWNrLm5ld1Bhc3N3b3JkUmVxdWlyZWQgbmV3XG4gICAqICAgICAgICBwYXNzd29yZCBhbmQgYW55IHJlcXVpcmVkIGF0dHJpYnV0ZXMgYXJlIHJlcXVpcmVkIHRvIGNvbnRpbnVlXG4gICAqIEBwYXJhbSB7bWZhUmVxdWlyZWR9IGNhbGxiYWNrLm1mYVJlcXVpcmVkIE1GQSBjb2RlXG4gICAqICAgICAgICByZXF1aXJlZCB0byBjb250aW51ZS5cbiAgICogQHBhcmFtIHtjdXN0b21DaGFsbGVuZ2V9IGNhbGxiYWNrLmN1c3RvbUNoYWxsZW5nZSBDdXN0b20gY2hhbGxlbmdlXG4gICAqICAgICAgICByZXNwb25zZSByZXF1aXJlZCB0byBjb250aW51ZS5cbiAgICogQHBhcmFtIHthdXRoU3VjY2Vzc30gY2FsbGJhY2sub25TdWNjZXNzIENhbGxlZCBvbiBzdWNjZXNzIHdpdGggdGhlIG5ldyBzZXNzaW9uLlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovO1xuICBfcHJvdG8uYXV0aGVudGljYXRlVXNlciA9IGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZVVzZXIoYXV0aERldGFpbHMsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHRoaXMuYXV0aGVudGljYXRpb25GbG93VHlwZSA9PT0gJ1VTRVJfUEFTU1dPUkRfQVVUSCcpIHtcbiAgICAgIHJldHVybiB0aGlzLmF1dGhlbnRpY2F0ZVVzZXJQbGFpblVzZXJuYW1lUGFzc3dvcmQoYXV0aERldGFpbHMsIGNhbGxiYWNrKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuYXV0aGVudGljYXRpb25GbG93VHlwZSA9PT0gJ1VTRVJfU1JQX0FVVEgnIHx8IHRoaXMuYXV0aGVudGljYXRpb25GbG93VHlwZSA9PT0gJ0NVU1RPTV9BVVRIJykge1xuICAgICAgcmV0dXJuIHRoaXMuYXV0aGVudGljYXRlVXNlckRlZmF1bHRBdXRoKGF1dGhEZXRhaWxzLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIHJldHVybiBjYWxsYmFjay5vbkZhaWx1cmUobmV3IEVycm9yKCdBdXRoZW50aWNhdGlvbiBmbG93IHR5cGUgaXMgaW52YWxpZC4nKSk7XG4gIH1cblxuICAvKipcbiAgICogUFJJVkFURSBPTkxZOiBUaGlzIGlzIGFuIGludGVybmFsIG9ubHkgbWV0aG9kIGFuZCBzaG91bGQgbm90XG4gICAqIGJlIGRpcmVjdGx5IGNhbGxlZCBieSB0aGUgY29uc3VtZXJzLlxuICAgKiBJdCBjYWxscyB0aGUgQXV0aGVudGljYXRpb25IZWxwZXIgZm9yIFNSUCByZWxhdGVkXG4gICAqIHN0dWZmXG4gICAqIEBwYXJhbSB7QXV0aGVudGljYXRpb25EZXRhaWxzfSBhdXRoRGV0YWlscyBDb250YWlucyB0aGUgYXV0aGVudGljYXRpb24gZGF0YVxuICAgKiBAcGFyYW0ge29iamVjdH0gY2FsbGJhY2sgUmVzdWx0IGNhbGxiYWNrIG1hcC5cbiAgICogQHBhcmFtIHtvbkZhaWx1cmV9IGNhbGxiYWNrLm9uRmFpbHVyZSBDYWxsZWQgb24gYW55IGVycm9yLlxuICAgKiBAcGFyYW0ge25ld1Bhc3N3b3JkUmVxdWlyZWR9IGNhbGxiYWNrLm5ld1Bhc3N3b3JkUmVxdWlyZWQgbmV3XG4gICAqICAgICAgICBwYXNzd29yZCBhbmQgYW55IHJlcXVpcmVkIGF0dHJpYnV0ZXMgYXJlIHJlcXVpcmVkIHRvIGNvbnRpbnVlXG4gICAqIEBwYXJhbSB7bWZhUmVxdWlyZWR9IGNhbGxiYWNrLm1mYVJlcXVpcmVkIE1GQSBjb2RlXG4gICAqICAgICAgICByZXF1aXJlZCB0byBjb250aW51ZS5cbiAgICogQHBhcmFtIHtjdXN0b21DaGFsbGVuZ2V9IGNhbGxiYWNrLmN1c3RvbUNoYWxsZW5nZSBDdXN0b20gY2hhbGxlbmdlXG4gICAqICAgICAgICByZXNwb25zZSByZXF1aXJlZCB0byBjb250aW51ZS5cbiAgICogQHBhcmFtIHthdXRoU3VjY2Vzc30gY2FsbGJhY2sub25TdWNjZXNzIENhbGxlZCBvbiBzdWNjZXNzIHdpdGggdGhlIG5ldyBzZXNzaW9uLlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovO1xuICBfcHJvdG8uYXV0aGVudGljYXRlVXNlckRlZmF1bHRBdXRoID0gZnVuY3Rpb24gYXV0aGVudGljYXRlVXNlckRlZmF1bHRBdXRoKGF1dGhEZXRhaWxzLCBjYWxsYmFjaykge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuICAgIHZhciBhdXRoZW50aWNhdGlvbkhlbHBlciA9IG5ldyBBdXRoZW50aWNhdGlvbkhlbHBlcih0aGlzLnBvb2wuZ2V0VXNlclBvb2xOYW1lKCkpO1xuICAgIHZhciBkYXRlSGVscGVyID0gbmV3IERhdGVIZWxwZXIoKTtcbiAgICB2YXIgc2VydmVyQlZhbHVlO1xuICAgIHZhciBzYWx0O1xuICAgIHZhciBhdXRoUGFyYW1ldGVycyA9IHt9O1xuICAgIGlmICh0aGlzLmRldmljZUtleSAhPSBudWxsKSB7XG4gICAgICBhdXRoUGFyYW1ldGVycy5ERVZJQ0VfS0VZID0gdGhpcy5kZXZpY2VLZXk7XG4gICAgfVxuICAgIGF1dGhQYXJhbWV0ZXJzLlVTRVJOQU1FID0gdGhpcy51c2VybmFtZTtcbiAgICBhdXRoZW50aWNhdGlvbkhlbHBlci5nZXRMYXJnZUFWYWx1ZShmdW5jdGlvbiAoZXJyT25BVmFsdWUsIGFWYWx1ZSkge1xuICAgICAgLy8gZ2V0TGFyZ2VBVmFsdWUgY2FsbGJhY2sgc3RhcnRcbiAgICAgIGlmIChlcnJPbkFWYWx1ZSkge1xuICAgICAgICBjYWxsYmFjay5vbkZhaWx1cmUoZXJyT25BVmFsdWUpO1xuICAgICAgfVxuICAgICAgYXV0aFBhcmFtZXRlcnMuU1JQX0EgPSBhVmFsdWUudG9TdHJpbmcoMTYpO1xuICAgICAgaWYgKF90aGlzMi5hdXRoZW50aWNhdGlvbkZsb3dUeXBlID09PSAnQ1VTVE9NX0FVVEgnKSB7XG4gICAgICAgIGF1dGhQYXJhbWV0ZXJzLkNIQUxMRU5HRV9OQU1FID0gJ1NSUF9BJztcbiAgICAgIH1cbiAgICAgIHZhciBjbGllbnRNZXRhRGF0YSA9IE9iamVjdC5rZXlzKGF1dGhEZXRhaWxzLmdldFZhbGlkYXRpb25EYXRhKCkpLmxlbmd0aCAhPT0gMCA/IGF1dGhEZXRhaWxzLmdldFZhbGlkYXRpb25EYXRhKCkgOiBhdXRoRGV0YWlscy5nZXRDbGllbnRNZXRhZGF0YSgpO1xuICAgICAgdmFyIGpzb25SZXEgPSB7XG4gICAgICAgIEF1dGhGbG93OiBfdGhpczIuYXV0aGVudGljYXRpb25GbG93VHlwZSxcbiAgICAgICAgQ2xpZW50SWQ6IF90aGlzMi5wb29sLmdldENsaWVudElkKCksXG4gICAgICAgIEF1dGhQYXJhbWV0ZXJzOiBhdXRoUGFyYW1ldGVycyxcbiAgICAgICAgQ2xpZW50TWV0YWRhdGE6IGNsaWVudE1ldGFEYXRhXG4gICAgICB9O1xuICAgICAgaWYgKF90aGlzMi5nZXRVc2VyQ29udGV4dERhdGEoX3RoaXMyLnVzZXJuYW1lKSkge1xuICAgICAgICBqc29uUmVxLlVzZXJDb250ZXh0RGF0YSA9IF90aGlzMi5nZXRVc2VyQ29udGV4dERhdGEoX3RoaXMyLnVzZXJuYW1lKTtcbiAgICAgIH1cbiAgICAgIF90aGlzMi5jbGllbnQucmVxdWVzdCgnSW5pdGlhdGVBdXRoJywganNvblJlcSwgZnVuY3Rpb24gKGVyciwgZGF0YSkge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmV0dXJuIGNhbGxiYWNrLm9uRmFpbHVyZShlcnIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjaGFsbGVuZ2VQYXJhbWV0ZXJzID0gZGF0YS5DaGFsbGVuZ2VQYXJhbWV0ZXJzO1xuICAgICAgICBfdGhpczIudXNlcm5hbWUgPSBjaGFsbGVuZ2VQYXJhbWV0ZXJzLlVTRVJfSURfRk9SX1NSUDtcbiAgICAgICAgX3RoaXMyLnVzZXJEYXRhS2V5ID0gX3RoaXMyLmtleVByZWZpeCArIFwiLlwiICsgX3RoaXMyLnVzZXJuYW1lICsgXCIudXNlckRhdGFcIjtcbiAgICAgICAgc2VydmVyQlZhbHVlID0gbmV3IEJpZ0ludGVnZXIoY2hhbGxlbmdlUGFyYW1ldGVycy5TUlBfQiwgMTYpO1xuICAgICAgICBzYWx0ID0gbmV3IEJpZ0ludGVnZXIoY2hhbGxlbmdlUGFyYW1ldGVycy5TQUxULCAxNik7XG4gICAgICAgIF90aGlzMi5nZXRDYWNoZWREZXZpY2VLZXlBbmRQYXNzd29yZCgpO1xuICAgICAgICBhdXRoZW50aWNhdGlvbkhlbHBlci5nZXRQYXNzd29yZEF1dGhlbnRpY2F0aW9uS2V5KF90aGlzMi51c2VybmFtZSwgYXV0aERldGFpbHMuZ2V0UGFzc3dvcmQoKSwgc2VydmVyQlZhbHVlLCBzYWx0LCBmdW5jdGlvbiAoZXJyT25Ia2RmLCBoa2RmKSB7XG4gICAgICAgICAgLy8gZ2V0UGFzc3dvcmRBdXRoZW50aWNhdGlvbktleSBjYWxsYmFjayBzdGFydFxuICAgICAgICAgIGlmIChlcnJPbkhrZGYpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrLm9uRmFpbHVyZShlcnJPbkhrZGYpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgZGF0ZU5vdyA9IGRhdGVIZWxwZXIuZ2V0Tm93U3RyaW5nKCk7XG4gICAgICAgICAgdmFyIGNvbmNhdEJ1ZmZlciA9IEJ1ZmZlci5jb25jYXQoW0J1ZmZlci5mcm9tKF90aGlzMi5wb29sLmdldFVzZXJQb29sTmFtZSgpLCAndXRmOCcpLCBCdWZmZXIuZnJvbShfdGhpczIudXNlcm5hbWUsICd1dGY4JyksIEJ1ZmZlci5mcm9tKGNoYWxsZW5nZVBhcmFtZXRlcnMuU0VDUkVUX0JMT0NLLCAnYmFzZTY0JyksIEJ1ZmZlci5mcm9tKGRhdGVOb3csICd1dGY4JyldKTtcbiAgICAgICAgICB2YXIgYXdzQ3J5cHRvSGFzaCA9IG5ldyBTaGEyNTYoaGtkZik7XG4gICAgICAgICAgYXdzQ3J5cHRvSGFzaC51cGRhdGUoY29uY2F0QnVmZmVyKTtcbiAgICAgICAgICB2YXIgcmVzdWx0RnJvbUFXU0NyeXB0byA9IGF3c0NyeXB0b0hhc2guZGlnZXN0U3luYygpO1xuICAgICAgICAgIHZhciBzaWduYXR1cmVTdHJpbmcgPSBCdWZmZXIuZnJvbShyZXN1bHRGcm9tQVdTQ3J5cHRvKS50b1N0cmluZygnYmFzZTY0Jyk7XG4gICAgICAgICAgdmFyIGNoYWxsZW5nZVJlc3BvbnNlcyA9IHt9O1xuICAgICAgICAgIGNoYWxsZW5nZVJlc3BvbnNlcy5VU0VSTkFNRSA9IF90aGlzMi51c2VybmFtZTtcbiAgICAgICAgICBjaGFsbGVuZ2VSZXNwb25zZXMuUEFTU1dPUkRfQ0xBSU1fU0VDUkVUX0JMT0NLID0gY2hhbGxlbmdlUGFyYW1ldGVycy5TRUNSRVRfQkxPQ0s7XG4gICAgICAgICAgY2hhbGxlbmdlUmVzcG9uc2VzLlRJTUVTVEFNUCA9IGRhdGVOb3c7XG4gICAgICAgICAgY2hhbGxlbmdlUmVzcG9uc2VzLlBBU1NXT1JEX0NMQUlNX1NJR05BVFVSRSA9IHNpZ25hdHVyZVN0cmluZztcbiAgICAgICAgICBpZiAoX3RoaXMyLmRldmljZUtleSAhPSBudWxsKSB7XG4gICAgICAgICAgICBjaGFsbGVuZ2VSZXNwb25zZXMuREVWSUNFX0tFWSA9IF90aGlzMi5kZXZpY2VLZXk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciByZXNwb25kVG9BdXRoQ2hhbGxlbmdlID0gZnVuY3Rpb24gcmVzcG9uZFRvQXV0aENoYWxsZW5nZShjaGFsbGVuZ2UsIGNoYWxsZW5nZUNhbGxiYWNrKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMyLmNsaWVudC5yZXF1ZXN0KCdSZXNwb25kVG9BdXRoQ2hhbGxlbmdlJywgY2hhbGxlbmdlLCBmdW5jdGlvbiAoZXJyQ2hhbGxlbmdlLCBkYXRhQ2hhbGxlbmdlKSB7XG4gICAgICAgICAgICAgIGlmIChlcnJDaGFsbGVuZ2UgJiYgZXJyQ2hhbGxlbmdlLmNvZGUgPT09ICdSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uJyAmJiBlcnJDaGFsbGVuZ2UubWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2RldmljZScpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIGNoYWxsZW5nZVJlc3BvbnNlcy5ERVZJQ0VfS0VZID0gbnVsbDtcbiAgICAgICAgICAgICAgICBfdGhpczIuZGV2aWNlS2V5ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBfdGhpczIucmFuZG9tUGFzc3dvcmQgPSBudWxsO1xuICAgICAgICAgICAgICAgIF90aGlzMi5kZXZpY2VHcm91cEtleSA9IG51bGw7XG4gICAgICAgICAgICAgICAgX3RoaXMyLmNsZWFyQ2FjaGVkRGV2aWNlS2V5QW5kUGFzc3dvcmQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uZFRvQXV0aENoYWxsZW5nZShjaGFsbGVuZ2UsIGNoYWxsZW5nZUNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gY2hhbGxlbmdlQ2FsbGJhY2soZXJyQ2hhbGxlbmdlLCBkYXRhQ2hhbGxlbmdlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG4gICAgICAgICAgdmFyIGpzb25SZXFSZXNwID0ge1xuICAgICAgICAgICAgQ2hhbGxlbmdlTmFtZTogJ1BBU1NXT1JEX1ZFUklGSUVSJyxcbiAgICAgICAgICAgIENsaWVudElkOiBfdGhpczIucG9vbC5nZXRDbGllbnRJZCgpLFxuICAgICAgICAgICAgQ2hhbGxlbmdlUmVzcG9uc2VzOiBjaGFsbGVuZ2VSZXNwb25zZXMsXG4gICAgICAgICAgICBTZXNzaW9uOiBkYXRhLlNlc3Npb24sXG4gICAgICAgICAgICBDbGllbnRNZXRhZGF0YTogY2xpZW50TWV0YURhdGFcbiAgICAgICAgICB9O1xuICAgICAgICAgIGlmIChfdGhpczIuZ2V0VXNlckNvbnRleHREYXRhKCkpIHtcbiAgICAgICAgICAgIGpzb25SZXFSZXNwLlVzZXJDb250ZXh0RGF0YSA9IF90aGlzMi5nZXRVc2VyQ29udGV4dERhdGEoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzcG9uZFRvQXV0aENoYWxsZW5nZShqc29uUmVxUmVzcCwgZnVuY3Rpb24gKGVyckF1dGhlbnRpY2F0ZSwgZGF0YUF1dGhlbnRpY2F0ZSkge1xuICAgICAgICAgICAgaWYgKGVyckF1dGhlbnRpY2F0ZSkge1xuICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2sub25GYWlsdXJlKGVyckF1dGhlbnRpY2F0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMyLmF1dGhlbnRpY2F0ZVVzZXJJbnRlcm5hbChkYXRhQXV0aGVudGljYXRlLCBhdXRoZW50aWNhdGlvbkhlbHBlciwgY2FsbGJhY2spO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgLy8gZ2V0UGFzc3dvcmRBdXRoZW50aWNhdGlvbktleSBjYWxsYmFjayBlbmRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH0pO1xuICAgICAgLy8gZ2V0TGFyZ2VBVmFsdWUgY2FsbGJhY2sgZW5kXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUFJJVkFURSBPTkxZOiBUaGlzIGlzIGFuIGludGVybmFsIG9ubHkgbWV0aG9kIGFuZCBzaG91bGQgbm90XG4gICAqIGJlIGRpcmVjdGx5IGNhbGxlZCBieSB0aGUgY29uc3VtZXJzLlxuICAgKiBAcGFyYW0ge0F1dGhlbnRpY2F0aW9uRGV0YWlsc30gYXV0aERldGFpbHMgQ29udGFpbnMgdGhlIGF1dGhlbnRpY2F0aW9uIGRhdGEuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBjYWxsYmFjayBSZXN1bHQgY2FsbGJhY2sgbWFwLlxuICAgKiBAcGFyYW0ge29uRmFpbHVyZX0gY2FsbGJhY2sub25GYWlsdXJlIENhbGxlZCBvbiBhbnkgZXJyb3IuXG4gICAqIEBwYXJhbSB7bWZhUmVxdWlyZWR9IGNhbGxiYWNrLm1mYVJlcXVpcmVkIE1GQSBjb2RlXG4gICAqICAgICAgICByZXF1aXJlZCB0byBjb250aW51ZS5cbiAgICogQHBhcmFtIHthdXRoU3VjY2Vzc30gY2FsbGJhY2sub25TdWNjZXNzIENhbGxlZCBvbiBzdWNjZXNzIHdpdGggdGhlIG5ldyBzZXNzaW9uLlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovO1xuICBfcHJvdG8uYXV0aGVudGljYXRlVXNlclBsYWluVXNlcm5hbWVQYXNzd29yZCA9IGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZVVzZXJQbGFpblVzZXJuYW1lUGFzc3dvcmQoYXV0aERldGFpbHMsIGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzMyA9IHRoaXM7XG4gICAgdmFyIGF1dGhQYXJhbWV0ZXJzID0ge307XG4gICAgYXV0aFBhcmFtZXRlcnMuVVNFUk5BTUUgPSB0aGlzLnVzZXJuYW1lO1xuICAgIGF1dGhQYXJhbWV0ZXJzLlBBU1NXT1JEID0gYXV0aERldGFpbHMuZ2V0UGFzc3dvcmQoKTtcbiAgICBpZiAoIWF1dGhQYXJhbWV0ZXJzLlBBU1NXT1JEKSB7XG4gICAgICBjYWxsYmFjay5vbkZhaWx1cmUobmV3IEVycm9yKCdQQVNTV09SRCBwYXJhbWV0ZXIgaXMgcmVxdWlyZWQnKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBhdXRoZW50aWNhdGlvbkhlbHBlciA9IG5ldyBBdXRoZW50aWNhdGlvbkhlbHBlcih0aGlzLnBvb2wuZ2V0VXNlclBvb2xOYW1lKCkpO1xuICAgIHRoaXMuZ2V0Q2FjaGVkRGV2aWNlS2V5QW5kUGFzc3dvcmQoKTtcbiAgICBpZiAodGhpcy5kZXZpY2VLZXkgIT0gbnVsbCkge1xuICAgICAgYXV0aFBhcmFtZXRlcnMuREVWSUNFX0tFWSA9IHRoaXMuZGV2aWNlS2V5O1xuICAgIH1cbiAgICB2YXIgY2xpZW50TWV0YURhdGEgPSBPYmplY3Qua2V5cyhhdXRoRGV0YWlscy5nZXRWYWxpZGF0aW9uRGF0YSgpKS5sZW5ndGggIT09IDAgPyBhdXRoRGV0YWlscy5nZXRWYWxpZGF0aW9uRGF0YSgpIDogYXV0aERldGFpbHMuZ2V0Q2xpZW50TWV0YWRhdGEoKTtcbiAgICB2YXIganNvblJlcSA9IHtcbiAgICAgIEF1dGhGbG93OiAnVVNFUl9QQVNTV09SRF9BVVRIJyxcbiAgICAgIENsaWVudElkOiB0aGlzLnBvb2wuZ2V0Q2xpZW50SWQoKSxcbiAgICAgIEF1dGhQYXJhbWV0ZXJzOiBhdXRoUGFyYW1ldGVycyxcbiAgICAgIENsaWVudE1ldGFkYXRhOiBjbGllbnRNZXRhRGF0YVxuICAgIH07XG4gICAgaWYgKHRoaXMuZ2V0VXNlckNvbnRleHREYXRhKHRoaXMudXNlcm5hbWUpKSB7XG4gICAgICBqc29uUmVxLlVzZXJDb250ZXh0RGF0YSA9IHRoaXMuZ2V0VXNlckNvbnRleHREYXRhKHRoaXMudXNlcm5hbWUpO1xuICAgIH1cbiAgICAvLyBVU0VSX1BBU1NXT1JEX0FVVEggaGFwcGVucyBpbiBhIHNpbmdsZSByb3VuZC10cmlwOiBjbGllbnQgc2VuZHMgdXNlck5hbWUgYW5kIHBhc3N3b3JkLFxuICAgIC8vIENvZ25pdG8gVXNlclBvb2xzIHZlcmlmaWVzIHBhc3N3b3JkIGFuZCByZXR1cm5zIHRva2Vucy5cbiAgICB0aGlzLmNsaWVudC5yZXF1ZXN0KCdJbml0aWF0ZUF1dGgnLCBqc29uUmVxLCBmdW5jdGlvbiAoZXJyLCBhdXRoUmVzdWx0KSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjay5vbkZhaWx1cmUoZXJyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfdGhpczMuYXV0aGVudGljYXRlVXNlckludGVybmFsKGF1dGhSZXN1bHQsIGF1dGhlbnRpY2F0aW9uSGVscGVyLCBjYWxsYmFjayk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUFJJVkFURSBPTkxZOiBUaGlzIGlzIGFuIGludGVybmFsIG9ubHkgbWV0aG9kIGFuZCBzaG91bGQgbm90XG4gICAqIGJlIGRpcmVjdGx5IGNhbGxlZCBieSB0aGUgY29uc3VtZXJzLlxuICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YUF1dGhlbnRpY2F0ZSBhdXRoZW50aWNhdGlvbiBkYXRhXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBhdXRoZW50aWNhdGlvbkhlbHBlciBoZWxwZXIgY3JlYXRlZFxuICAgKiBAcGFyYW0ge2NhbGxiYWNrfSBjYWxsYmFjayBwYXNzZWQgb24gZnJvbSBjYWxsZXJcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqLztcbiAgX3Byb3RvLmF1dGhlbnRpY2F0ZVVzZXJJbnRlcm5hbCA9IGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZVVzZXJJbnRlcm5hbChkYXRhQXV0aGVudGljYXRlLCBhdXRoZW50aWNhdGlvbkhlbHBlciwgY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXM0ID0gdGhpcztcbiAgICB2YXIgY2hhbGxlbmdlTmFtZSA9IGRhdGFBdXRoZW50aWNhdGUuQ2hhbGxlbmdlTmFtZTtcbiAgICB2YXIgY2hhbGxlbmdlUGFyYW1ldGVycyA9IGRhdGFBdXRoZW50aWNhdGUuQ2hhbGxlbmdlUGFyYW1ldGVycztcbiAgICBpZiAoY2hhbGxlbmdlTmFtZSA9PT0gJ1NNU19NRkEnKSB7XG4gICAgICB0aGlzLlNlc3Npb24gPSBkYXRhQXV0aGVudGljYXRlLlNlc3Npb247XG4gICAgICByZXR1cm4gY2FsbGJhY2subWZhUmVxdWlyZWQoY2hhbGxlbmdlTmFtZSwgY2hhbGxlbmdlUGFyYW1ldGVycyk7XG4gICAgfVxuICAgIGlmIChjaGFsbGVuZ2VOYW1lID09PSAnU0VMRUNUX01GQV9UWVBFJykge1xuICAgICAgdGhpcy5TZXNzaW9uID0gZGF0YUF1dGhlbnRpY2F0ZS5TZXNzaW9uO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrLnNlbGVjdE1GQVR5cGUoY2hhbGxlbmdlTmFtZSwgY2hhbGxlbmdlUGFyYW1ldGVycyk7XG4gICAgfVxuICAgIGlmIChjaGFsbGVuZ2VOYW1lID09PSAnTUZBX1NFVFVQJykge1xuICAgICAgdGhpcy5TZXNzaW9uID0gZGF0YUF1dGhlbnRpY2F0ZS5TZXNzaW9uO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrLm1mYVNldHVwKGNoYWxsZW5nZU5hbWUsIGNoYWxsZW5nZVBhcmFtZXRlcnMpO1xuICAgIH1cbiAgICBpZiAoY2hhbGxlbmdlTmFtZSA9PT0gJ1NPRlRXQVJFX1RPS0VOX01GQScpIHtcbiAgICAgIHRoaXMuU2Vzc2lvbiA9IGRhdGFBdXRoZW50aWNhdGUuU2Vzc2lvbjtcbiAgICAgIHJldHVybiBjYWxsYmFjay50b3RwUmVxdWlyZWQoY2hhbGxlbmdlTmFtZSwgY2hhbGxlbmdlUGFyYW1ldGVycyk7XG4gICAgfVxuICAgIGlmIChjaGFsbGVuZ2VOYW1lID09PSAnQ1VTVE9NX0NIQUxMRU5HRScpIHtcbiAgICAgIHRoaXMuU2Vzc2lvbiA9IGRhdGFBdXRoZW50aWNhdGUuU2Vzc2lvbjtcbiAgICAgIHJldHVybiBjYWxsYmFjay5jdXN0b21DaGFsbGVuZ2UoY2hhbGxlbmdlUGFyYW1ldGVycyk7XG4gICAgfVxuICAgIGlmIChjaGFsbGVuZ2VOYW1lID09PSAnTkVXX1BBU1NXT1JEX1JFUVVJUkVEJykge1xuICAgICAgdGhpcy5TZXNzaW9uID0gZGF0YUF1dGhlbnRpY2F0ZS5TZXNzaW9uO1xuICAgICAgdmFyIHVzZXJBdHRyaWJ1dGVzID0gbnVsbDtcbiAgICAgIHZhciByYXdSZXF1aXJlZEF0dHJpYnV0ZXMgPSBudWxsO1xuICAgICAgdmFyIHJlcXVpcmVkQXR0cmlidXRlcyA9IFtdO1xuICAgICAgdmFyIHVzZXJBdHRyaWJ1dGVzUHJlZml4ID0gYXV0aGVudGljYXRpb25IZWxwZXIuZ2V0TmV3UGFzc3dvcmRSZXF1aXJlZENoYWxsZW5nZVVzZXJBdHRyaWJ1dGVQcmVmaXgoKTtcbiAgICAgIGlmIChjaGFsbGVuZ2VQYXJhbWV0ZXJzKSB7XG4gICAgICAgIHVzZXJBdHRyaWJ1dGVzID0gSlNPTi5wYXJzZShkYXRhQXV0aGVudGljYXRlLkNoYWxsZW5nZVBhcmFtZXRlcnMudXNlckF0dHJpYnV0ZXMpO1xuICAgICAgICByYXdSZXF1aXJlZEF0dHJpYnV0ZXMgPSBKU09OLnBhcnNlKGRhdGFBdXRoZW50aWNhdGUuQ2hhbGxlbmdlUGFyYW1ldGVycy5yZXF1aXJlZEF0dHJpYnV0ZXMpO1xuICAgICAgfVxuICAgICAgaWYgKHJhd1JlcXVpcmVkQXR0cmlidXRlcykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhd1JlcXVpcmVkQXR0cmlidXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHJlcXVpcmVkQXR0cmlidXRlc1tpXSA9IHJhd1JlcXVpcmVkQXR0cmlidXRlc1tpXS5zdWJzdHIodXNlckF0dHJpYnV0ZXNQcmVmaXgubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGNhbGxiYWNrLm5ld1Bhc3N3b3JkUmVxdWlyZWQodXNlckF0dHJpYnV0ZXMsIHJlcXVpcmVkQXR0cmlidXRlcyk7XG4gICAgfVxuICAgIGlmIChjaGFsbGVuZ2VOYW1lID09PSAnREVWSUNFX1NSUF9BVVRIJykge1xuICAgICAgdGhpcy5TZXNzaW9uID0gZGF0YUF1dGhlbnRpY2F0ZS5TZXNzaW9uO1xuICAgICAgdGhpcy5nZXREZXZpY2VSZXNwb25zZShjYWxsYmFjayk7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICB0aGlzLnNpZ25JblVzZXJTZXNzaW9uID0gdGhpcy5nZXRDb2duaXRvVXNlclNlc3Npb24oZGF0YUF1dGhlbnRpY2F0ZS5BdXRoZW50aWNhdGlvblJlc3VsdCk7XG4gICAgdGhpcy5jaGFsbGVuZ2VOYW1lID0gY2hhbGxlbmdlTmFtZTtcbiAgICB0aGlzLmNhY2hlVG9rZW5zKCk7XG4gICAgdmFyIG5ld0RldmljZU1ldGFkYXRhID0gZGF0YUF1dGhlbnRpY2F0ZS5BdXRoZW50aWNhdGlvblJlc3VsdC5OZXdEZXZpY2VNZXRhZGF0YTtcbiAgICBpZiAobmV3RGV2aWNlTWV0YWRhdGEgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrLm9uU3VjY2Vzcyh0aGlzLnNpZ25JblVzZXJTZXNzaW9uKTtcbiAgICB9XG4gICAgYXV0aGVudGljYXRpb25IZWxwZXIuZ2VuZXJhdGVIYXNoRGV2aWNlKGRhdGFBdXRoZW50aWNhdGUuQXV0aGVudGljYXRpb25SZXN1bHQuTmV3RGV2aWNlTWV0YWRhdGEuRGV2aWNlR3JvdXBLZXksIGRhdGFBdXRoZW50aWNhdGUuQXV0aGVudGljYXRpb25SZXN1bHQuTmV3RGV2aWNlTWV0YWRhdGEuRGV2aWNlS2V5LCBmdW5jdGlvbiAoZXJyR2VuSGFzaCkge1xuICAgICAgaWYgKGVyckdlbkhhc2gpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrLm9uRmFpbHVyZShlcnJHZW5IYXNoKTtcbiAgICAgIH1cbiAgICAgIHZhciBkZXZpY2VTZWNyZXRWZXJpZmllckNvbmZpZyA9IHtcbiAgICAgICAgU2FsdDogQnVmZmVyLmZyb20oYXV0aGVudGljYXRpb25IZWxwZXIuZ2V0U2FsdERldmljZXMoKSwgJ2hleCcpLnRvU3RyaW5nKCdiYXNlNjQnKSxcbiAgICAgICAgUGFzc3dvcmRWZXJpZmllcjogQnVmZmVyLmZyb20oYXV0aGVudGljYXRpb25IZWxwZXIuZ2V0VmVyaWZpZXJEZXZpY2VzKCksICdoZXgnKS50b1N0cmluZygnYmFzZTY0JylcbiAgICAgIH07XG4gICAgICBfdGhpczQudmVyaWZpZXJEZXZpY2VzID0gZGV2aWNlU2VjcmV0VmVyaWZpZXJDb25maWcuUGFzc3dvcmRWZXJpZmllcjtcbiAgICAgIF90aGlzNC5kZXZpY2VHcm91cEtleSA9IG5ld0RldmljZU1ldGFkYXRhLkRldmljZUdyb3VwS2V5O1xuICAgICAgX3RoaXM0LnJhbmRvbVBhc3N3b3JkID0gYXV0aGVudGljYXRpb25IZWxwZXIuZ2V0UmFuZG9tUGFzc3dvcmQoKTtcbiAgICAgIF90aGlzNC5jbGllbnQucmVxdWVzdCgnQ29uZmlybURldmljZScsIHtcbiAgICAgICAgRGV2aWNlS2V5OiBuZXdEZXZpY2VNZXRhZGF0YS5EZXZpY2VLZXksXG4gICAgICAgIEFjY2Vzc1Rva2VuOiBfdGhpczQuc2lnbkluVXNlclNlc3Npb24uZ2V0QWNjZXNzVG9rZW4oKS5nZXRKd3RUb2tlbigpLFxuICAgICAgICBEZXZpY2VTZWNyZXRWZXJpZmllckNvbmZpZzogZGV2aWNlU2VjcmV0VmVyaWZpZXJDb25maWcsXG4gICAgICAgIERldmljZU5hbWU6IHVzZXJBZ2VudFxuICAgICAgfSwgZnVuY3Rpb24gKGVyckNvbmZpcm0sIGRhdGFDb25maXJtKSB7XG4gICAgICAgIGlmIChlcnJDb25maXJtKSB7XG4gICAgICAgICAgcmV0dXJuIGNhbGxiYWNrLm9uRmFpbHVyZShlcnJDb25maXJtKTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpczQuZGV2aWNlS2V5ID0gZGF0YUF1dGhlbnRpY2F0ZS5BdXRoZW50aWNhdGlvblJlc3VsdC5OZXdEZXZpY2VNZXRhZGF0YS5EZXZpY2VLZXk7XG4gICAgICAgIF90aGlzNC5jYWNoZURldmljZUtleUFuZFBhc3N3b3JkKCk7XG4gICAgICAgIGlmIChkYXRhQ29uZmlybS5Vc2VyQ29uZmlybWF0aW9uTmVjZXNzYXJ5ID09PSB0cnVlKSB7XG4gICAgICAgICAgcmV0dXJuIGNhbGxiYWNrLm9uU3VjY2VzcyhfdGhpczQuc2lnbkluVXNlclNlc3Npb24sIGRhdGFDb25maXJtLlVzZXJDb25maXJtYXRpb25OZWNlc3NhcnkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYWxsYmFjay5vblN1Y2Nlc3MoX3RoaXM0LnNpZ25JblVzZXJTZXNzaW9uKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgbWV0aG9kIGlzIHVzZXIgdG8gY29tcGxldGUgdGhlIE5FV19QQVNTV09SRF9SRVFVSVJFRCBjaGFsbGVuZ2UuXG4gICAqIFBhc3MgdGhlIG5ldyBwYXNzd29yZCB3aXRoIGFueSBuZXcgdXNlciBhdHRyaWJ1dGVzIHRvIGJlIHVwZGF0ZWQuXG4gICAqIFVzZXIgYXR0cmlidXRlIGtleXMgbXVzdCBiZSBvZiBmb3JtYXQgdXNlckF0dHJpYnV0ZXMuPGF0dHJpYnV0ZV9uYW1lPi5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG5ld1Bhc3N3b3JkIG5ldyBwYXNzd29yZCBmb3IgdGhpcyB1c2VyXG4gICAqIEBwYXJhbSB7b2JqZWN0fSByZXF1aXJlZEF0dHJpYnV0ZURhdGEgbWFwIHdpdGggdmFsdWVzIGZvciBhbGwgcmVxdWlyZWQgYXR0cmlidXRlc1xuICAgKiBAcGFyYW0ge29iamVjdH0gY2FsbGJhY2sgUmVzdWx0IGNhbGxiYWNrIG1hcC5cbiAgICogQHBhcmFtIHtvbkZhaWx1cmV9IGNhbGxiYWNrLm9uRmFpbHVyZSBDYWxsZWQgb24gYW55IGVycm9yLlxuICAgKiBAcGFyYW0ge21mYVJlcXVpcmVkfSBjYWxsYmFjay5tZmFSZXF1aXJlZCBNRkEgY29kZSByZXF1aXJlZCB0byBjb250aW51ZS5cbiAgICogQHBhcmFtIHtjdXN0b21DaGFsbGVuZ2V9IGNhbGxiYWNrLmN1c3RvbUNoYWxsZW5nZSBDdXN0b20gY2hhbGxlbmdlXG4gICAqICAgICAgICAgcmVzcG9uc2UgcmVxdWlyZWQgdG8gY29udGludWUuXG4gICAqIEBwYXJhbSB7YXV0aFN1Y2Nlc3N9IGNhbGxiYWNrLm9uU3VjY2VzcyBDYWxsZWQgb24gc3VjY2VzcyB3aXRoIHRoZSBuZXcgc2Vzc2lvbi5cbiAgICogQHBhcmFtIHtDbGllbnRNZXRhZGF0YX0gY2xpZW50TWV0YWRhdGEgb2JqZWN0IHdoaWNoIGlzIHBhc3NlZCBmcm9tIGNsaWVudCB0byBDb2duaXRvIExhbWJkYSB0cmlnZ2VyXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi87XG4gIF9wcm90by5jb21wbGV0ZU5ld1Bhc3N3b3JkQ2hhbGxlbmdlID0gZnVuY3Rpb24gY29tcGxldGVOZXdQYXNzd29yZENoYWxsZW5nZShuZXdQYXNzd29yZCwgcmVxdWlyZWRBdHRyaWJ1dGVEYXRhLCBjYWxsYmFjaywgY2xpZW50TWV0YWRhdGEpIHtcbiAgICB2YXIgX3RoaXM1ID0gdGhpcztcbiAgICBpZiAoIW5ld1Bhc3N3b3JkKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2sub25GYWlsdXJlKG5ldyBFcnJvcignTmV3IHBhc3N3b3JkIGlzIHJlcXVpcmVkLicpKTtcbiAgICB9XG4gICAgdmFyIGF1dGhlbnRpY2F0aW9uSGVscGVyID0gbmV3IEF1dGhlbnRpY2F0aW9uSGVscGVyKHRoaXMucG9vbC5nZXRVc2VyUG9vbE5hbWUoKSk7XG4gICAgdmFyIHVzZXJBdHRyaWJ1dGVzUHJlZml4ID0gYXV0aGVudGljYXRpb25IZWxwZXIuZ2V0TmV3UGFzc3dvcmRSZXF1aXJlZENoYWxsZW5nZVVzZXJBdHRyaWJ1dGVQcmVmaXgoKTtcbiAgICB2YXIgZmluYWxVc2VyQXR0cmlidXRlcyA9IHt9O1xuICAgIGlmIChyZXF1aXJlZEF0dHJpYnV0ZURhdGEpIHtcbiAgICAgIE9iamVjdC5rZXlzKHJlcXVpcmVkQXR0cmlidXRlRGF0YSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGZpbmFsVXNlckF0dHJpYnV0ZXNbdXNlckF0dHJpYnV0ZXNQcmVmaXggKyBrZXldID0gcmVxdWlyZWRBdHRyaWJ1dGVEYXRhW2tleV07XG4gICAgICB9KTtcbiAgICB9XG4gICAgZmluYWxVc2VyQXR0cmlidXRlcy5ORVdfUEFTU1dPUkQgPSBuZXdQYXNzd29yZDtcbiAgICBmaW5hbFVzZXJBdHRyaWJ1dGVzLlVTRVJOQU1FID0gdGhpcy51c2VybmFtZTtcbiAgICB2YXIganNvblJlcSA9IHtcbiAgICAgIENoYWxsZW5nZU5hbWU6ICdORVdfUEFTU1dPUkRfUkVRVUlSRUQnLFxuICAgICAgQ2xpZW50SWQ6IHRoaXMucG9vbC5nZXRDbGllbnRJZCgpLFxuICAgICAgQ2hhbGxlbmdlUmVzcG9uc2VzOiBmaW5hbFVzZXJBdHRyaWJ1dGVzLFxuICAgICAgU2Vzc2lvbjogdGhpcy5TZXNzaW9uLFxuICAgICAgQ2xpZW50TWV0YWRhdGE6IGNsaWVudE1ldGFkYXRhXG4gICAgfTtcbiAgICBpZiAodGhpcy5nZXRVc2VyQ29udGV4dERhdGEoKSkge1xuICAgICAganNvblJlcS5Vc2VyQ29udGV4dERhdGEgPSB0aGlzLmdldFVzZXJDb250ZXh0RGF0YSgpO1xuICAgIH1cbiAgICB0aGlzLmNsaWVudC5yZXF1ZXN0KCdSZXNwb25kVG9BdXRoQ2hhbGxlbmdlJywganNvblJlcSwgZnVuY3Rpb24gKGVyckF1dGhlbnRpY2F0ZSwgZGF0YUF1dGhlbnRpY2F0ZSkge1xuICAgICAgaWYgKGVyckF1dGhlbnRpY2F0ZSkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sub25GYWlsdXJlKGVyckF1dGhlbnRpY2F0ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX3RoaXM1LmF1dGhlbnRpY2F0ZVVzZXJJbnRlcm5hbChkYXRhQXV0aGVudGljYXRlLCBhdXRoZW50aWNhdGlvbkhlbHBlciwgY2FsbGJhY2spO1xuICAgIH0pO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBpcyB1c2VkIHRvIGdldCBhIHNlc3Npb24gdXNpbmcgZGV2aWNlIGF1dGhlbnRpY2F0aW9uLiBJdCBpcyBjYWxsZWQgYXQgdGhlIGVuZCBvZiB1c2VyXG4gICAqIGF1dGhlbnRpY2F0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBjYWxsYmFjayBSZXN1bHQgY2FsbGJhY2sgbWFwLlxuICAgKiBAcGFyYW0ge29uRmFpbHVyZX0gY2FsbGJhY2sub25GYWlsdXJlIENhbGxlZCBvbiBhbnkgZXJyb3IuXG4gICAqIEBwYXJhbSB7YXV0aFN1Y2Nlc3N9IGNhbGxiYWNrLm9uU3VjY2VzcyBDYWxsZWQgb24gc3VjY2VzcyB3aXRoIHRoZSBuZXcgc2Vzc2lvbi5cbiAgICogQHBhcmFtIHtDbGllbnRNZXRhZGF0YX0gY2xpZW50TWV0YWRhdGEgb2JqZWN0IHdoaWNoIGlzIHBhc3NlZCBmcm9tIGNsaWVudCB0byBDb2duaXRvIExhbWJkYSB0cmlnZ2VyXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKiBAcHJpdmF0ZVxuICAgKi87XG4gIF9wcm90by5nZXREZXZpY2VSZXNwb25zZSA9IGZ1bmN0aW9uIGdldERldmljZVJlc3BvbnNlKGNhbGxiYWNrLCBjbGllbnRNZXRhZGF0YSkge1xuICAgIHZhciBfdGhpczYgPSB0aGlzO1xuICAgIHZhciBhdXRoZW50aWNhdGlvbkhlbHBlciA9IG5ldyBBdXRoZW50aWNhdGlvbkhlbHBlcih0aGlzLmRldmljZUdyb3VwS2V5KTtcbiAgICB2YXIgZGF0ZUhlbHBlciA9IG5ldyBEYXRlSGVscGVyKCk7XG4gICAgdmFyIGF1dGhQYXJhbWV0ZXJzID0ge307XG4gICAgYXV0aFBhcmFtZXRlcnMuVVNFUk5BTUUgPSB0aGlzLnVzZXJuYW1lO1xuICAgIGF1dGhQYXJhbWV0ZXJzLkRFVklDRV9LRVkgPSB0aGlzLmRldmljZUtleTtcbiAgICBhdXRoZW50aWNhdGlvbkhlbHBlci5nZXRMYXJnZUFWYWx1ZShmdW5jdGlvbiAoZXJyQVZhbHVlLCBhVmFsdWUpIHtcbiAgICAgIC8vIGdldExhcmdlQVZhbHVlIGNhbGxiYWNrIHN0YXJ0XG4gICAgICBpZiAoZXJyQVZhbHVlKSB7XG4gICAgICAgIGNhbGxiYWNrLm9uRmFpbHVyZShlcnJBVmFsdWUpO1xuICAgICAgfVxuICAgICAgYXV0aFBhcmFtZXRlcnMuU1JQX0EgPSBhVmFsdWUudG9TdHJpbmcoMTYpO1xuICAgICAgdmFyIGpzb25SZXEgPSB7XG4gICAgICAgIENoYWxsZW5nZU5hbWU6ICdERVZJQ0VfU1JQX0FVVEgnLFxuICAgICAgICBDbGllbnRJZDogX3RoaXM2LnBvb2wuZ2V0Q2xpZW50SWQoKSxcbiAgICAgICAgQ2hhbGxlbmdlUmVzcG9uc2VzOiBhdXRoUGFyYW1ldGVycyxcbiAgICAgICAgQ2xpZW50TWV0YWRhdGE6IGNsaWVudE1ldGFkYXRhLFxuICAgICAgICBTZXNzaW9uOiBfdGhpczYuU2Vzc2lvblxuICAgICAgfTtcbiAgICAgIGlmIChfdGhpczYuZ2V0VXNlckNvbnRleHREYXRhKCkpIHtcbiAgICAgICAganNvblJlcS5Vc2VyQ29udGV4dERhdGEgPSBfdGhpczYuZ2V0VXNlckNvbnRleHREYXRhKCk7XG4gICAgICB9XG4gICAgICBfdGhpczYuY2xpZW50LnJlcXVlc3QoJ1Jlc3BvbmRUb0F1dGhDaGFsbGVuZ2UnLCBqc29uUmVxLCBmdW5jdGlvbiAoZXJyLCBkYXRhKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2sub25GYWlsdXJlKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNoYWxsZW5nZVBhcmFtZXRlcnMgPSBkYXRhLkNoYWxsZW5nZVBhcmFtZXRlcnM7XG4gICAgICAgIHZhciBzZXJ2ZXJCVmFsdWUgPSBuZXcgQmlnSW50ZWdlcihjaGFsbGVuZ2VQYXJhbWV0ZXJzLlNSUF9CLCAxNik7XG4gICAgICAgIHZhciBzYWx0ID0gbmV3IEJpZ0ludGVnZXIoY2hhbGxlbmdlUGFyYW1ldGVycy5TQUxULCAxNik7XG4gICAgICAgIGF1dGhlbnRpY2F0aW9uSGVscGVyLmdldFBhc3N3b3JkQXV0aGVudGljYXRpb25LZXkoX3RoaXM2LmRldmljZUtleSwgX3RoaXM2LnJhbmRvbVBhc3N3b3JkLCBzZXJ2ZXJCVmFsdWUsIHNhbHQsIGZ1bmN0aW9uIChlcnJIa2RmLCBoa2RmKSB7XG4gICAgICAgICAgLy8gZ2V0UGFzc3dvcmRBdXRoZW50aWNhdGlvbktleSBjYWxsYmFjayBzdGFydFxuICAgICAgICAgIGlmIChlcnJIa2RmKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2sub25GYWlsdXJlKGVyckhrZGYpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgZGF0ZU5vdyA9IGRhdGVIZWxwZXIuZ2V0Tm93U3RyaW5nKCk7XG4gICAgICAgICAgdmFyIGNvbmNhdEJ1ZmZlciA9IEJ1ZmZlci5jb25jYXQoW0J1ZmZlci5mcm9tKF90aGlzNi5kZXZpY2VHcm91cEtleSwgJ3V0ZjgnKSwgQnVmZmVyLmZyb20oX3RoaXM2LmRldmljZUtleSwgJ3V0ZjgnKSwgQnVmZmVyLmZyb20oY2hhbGxlbmdlUGFyYW1ldGVycy5TRUNSRVRfQkxPQ0ssICdiYXNlNjQnKSwgQnVmZmVyLmZyb20oZGF0ZU5vdywgJ3V0ZjgnKV0pO1xuICAgICAgICAgIHZhciBhd3NDcnlwdG9IYXNoID0gbmV3IFNoYTI1Nihoa2RmKTtcbiAgICAgICAgICBhd3NDcnlwdG9IYXNoLnVwZGF0ZShjb25jYXRCdWZmZXIpO1xuICAgICAgICAgIHZhciByZXN1bHRGcm9tQVdTQ3J5cHRvID0gYXdzQ3J5cHRvSGFzaC5kaWdlc3RTeW5jKCk7XG4gICAgICAgICAgdmFyIHNpZ25hdHVyZVN0cmluZyA9IEJ1ZmZlci5mcm9tKHJlc3VsdEZyb21BV1NDcnlwdG8pLnRvU3RyaW5nKCdiYXNlNjQnKTtcbiAgICAgICAgICB2YXIgY2hhbGxlbmdlUmVzcG9uc2VzID0ge307XG4gICAgICAgICAgY2hhbGxlbmdlUmVzcG9uc2VzLlVTRVJOQU1FID0gX3RoaXM2LnVzZXJuYW1lO1xuICAgICAgICAgIGNoYWxsZW5nZVJlc3BvbnNlcy5QQVNTV09SRF9DTEFJTV9TRUNSRVRfQkxPQ0sgPSBjaGFsbGVuZ2VQYXJhbWV0ZXJzLlNFQ1JFVF9CTE9DSztcbiAgICAgICAgICBjaGFsbGVuZ2VSZXNwb25zZXMuVElNRVNUQU1QID0gZGF0ZU5vdztcbiAgICAgICAgICBjaGFsbGVuZ2VSZXNwb25zZXMuUEFTU1dPUkRfQ0xBSU1fU0lHTkFUVVJFID0gc2lnbmF0dXJlU3RyaW5nO1xuICAgICAgICAgIGNoYWxsZW5nZVJlc3BvbnNlcy5ERVZJQ0VfS0VZID0gX3RoaXM2LmRldmljZUtleTtcbiAgICAgICAgICB2YXIganNvblJlcVJlc3AgPSB7XG4gICAgICAgICAgICBDaGFsbGVuZ2VOYW1lOiAnREVWSUNFX1BBU1NXT1JEX1ZFUklGSUVSJyxcbiAgICAgICAgICAgIENsaWVudElkOiBfdGhpczYucG9vbC5nZXRDbGllbnRJZCgpLFxuICAgICAgICAgICAgQ2hhbGxlbmdlUmVzcG9uc2VzOiBjaGFsbGVuZ2VSZXNwb25zZXMsXG4gICAgICAgICAgICBTZXNzaW9uOiBkYXRhLlNlc3Npb25cbiAgICAgICAgICB9O1xuICAgICAgICAgIGlmIChfdGhpczYuZ2V0VXNlckNvbnRleHREYXRhKCkpIHtcbiAgICAgICAgICAgIGpzb25SZXFSZXNwLlVzZXJDb250ZXh0RGF0YSA9IF90aGlzNi5nZXRVc2VyQ29udGV4dERhdGEoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgX3RoaXM2LmNsaWVudC5yZXF1ZXN0KCdSZXNwb25kVG9BdXRoQ2hhbGxlbmdlJywganNvblJlcVJlc3AsIGZ1bmN0aW9uIChlcnJBdXRoZW50aWNhdGUsIGRhdGFBdXRoZW50aWNhdGUpIHtcbiAgICAgICAgICAgIGlmIChlcnJBdXRoZW50aWNhdGUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrLm9uRmFpbHVyZShlcnJBdXRoZW50aWNhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXM2LnNpZ25JblVzZXJTZXNzaW9uID0gX3RoaXM2LmdldENvZ25pdG9Vc2VyU2Vzc2lvbihkYXRhQXV0aGVudGljYXRlLkF1dGhlbnRpY2F0aW9uUmVzdWx0KTtcbiAgICAgICAgICAgIF90aGlzNi5jYWNoZVRva2VucygpO1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrLm9uU3VjY2VzcyhfdGhpczYuc2lnbkluVXNlclNlc3Npb24pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgLy8gZ2V0UGFzc3dvcmRBdXRoZW50aWNhdGlvbktleSBjYWxsYmFjayBlbmRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH0pO1xuICAgICAgLy8gZ2V0TGFyZ2VBVmFsdWUgY2FsbGJhY2sgZW5kXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBpcyB1c2VkIGZvciBhIGNlcnRhaW4gdXNlciB0byBjb25maXJtIHRoZSByZWdpc3RyYXRpb24gYnkgdXNpbmcgYSBjb25maXJtYXRpb24gY29kZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gY29uZmlybWF0aW9uQ29kZSBDb2RlIGVudGVyZWQgYnkgdXNlci5cbiAgICogQHBhcmFtIHtib29sfSBmb3JjZUFsaWFzQ3JlYXRpb24gQWxsb3cgbWlncmF0aW5nIGZyb20gYW4gZXhpc3RpbmcgZW1haWwgLyBwaG9uZSBudW1iZXIuXG4gICAqIEBwYXJhbSB7bm9kZUNhbGxiYWNrPHN0cmluZz59IGNhbGxiYWNrIENhbGxlZCBvbiBzdWNjZXNzIG9yIGVycm9yLlxuICAgKiBAcGFyYW0ge0NsaWVudE1ldGFkYXRhfSBjbGllbnRNZXRhZGF0YSBvYmplY3Qgd2hpY2ggaXMgcGFzc2VkIGZyb20gY2xpZW50IHRvIENvZ25pdG8gTGFtYmRhIHRyaWdnZXJcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqLztcbiAgX3Byb3RvLmNvbmZpcm1SZWdpc3RyYXRpb24gPSBmdW5jdGlvbiBjb25maXJtUmVnaXN0cmF0aW9uKGNvbmZpcm1hdGlvbkNvZGUsIGZvcmNlQWxpYXNDcmVhdGlvbiwgY2FsbGJhY2ssIGNsaWVudE1ldGFkYXRhKSB7XG4gICAgdmFyIGpzb25SZXEgPSB7XG4gICAgICBDbGllbnRJZDogdGhpcy5wb29sLmdldENsaWVudElkKCksXG4gICAgICBDb25maXJtYXRpb25Db2RlOiBjb25maXJtYXRpb25Db2RlLFxuICAgICAgVXNlcm5hbWU6IHRoaXMudXNlcm5hbWUsXG4gICAgICBGb3JjZUFsaWFzQ3JlYXRpb246IGZvcmNlQWxpYXNDcmVhdGlvbixcbiAgICAgIENsaWVudE1ldGFkYXRhOiBjbGllbnRNZXRhZGF0YVxuICAgIH07XG4gICAgaWYgKHRoaXMuZ2V0VXNlckNvbnRleHREYXRhKCkpIHtcbiAgICAgIGpzb25SZXEuVXNlckNvbnRleHREYXRhID0gdGhpcy5nZXRVc2VyQ29udGV4dERhdGEoKTtcbiAgICB9XG4gICAgdGhpcy5jbGllbnQucmVxdWVzdCgnQ29uZmlybVNpZ25VcCcsIGpzb25SZXEsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVyciwgbnVsbCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwgJ1NVQ0NFU1MnKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGlzIHVzZWQgYnkgdGhlIHVzZXIgb25jZSBoZSBoYXMgdGhlIHJlc3BvbnNlcyB0byBhIGN1c3RvbSBjaGFsbGVuZ2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IGFuc3dlckNoYWxsZW5nZSBUaGUgY3VzdG9tIGNoYWxsZW5nZSBhbnN3ZXIuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBjYWxsYmFjayBSZXN1bHQgY2FsbGJhY2sgbWFwLlxuICAgKiBAcGFyYW0ge29uRmFpbHVyZX0gY2FsbGJhY2sub25GYWlsdXJlIENhbGxlZCBvbiBhbnkgZXJyb3IuXG4gICAqIEBwYXJhbSB7Y3VzdG9tQ2hhbGxlbmdlfSBjYWxsYmFjay5jdXN0b21DaGFsbGVuZ2VcbiAgICogICAgQ3VzdG9tIGNoYWxsZW5nZSByZXNwb25zZSByZXF1aXJlZCB0byBjb250aW51ZS5cbiAgICogQHBhcmFtIHthdXRoU3VjY2Vzc30gY2FsbGJhY2sub25TdWNjZXNzIENhbGxlZCBvbiBzdWNjZXNzIHdpdGggdGhlIG5ldyBzZXNzaW9uLlxuICAgKiBAcGFyYW0ge0NsaWVudE1ldGFkYXRhfSBjbGllbnRNZXRhZGF0YSBvYmplY3Qgd2hpY2ggaXMgcGFzc2VkIGZyb20gY2xpZW50IHRvIENvZ25pdG8gTGFtYmRhIHRyaWdnZXJcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqLztcbiAgX3Byb3RvLnNlbmRDdXN0b21DaGFsbGVuZ2VBbnN3ZXIgPSBmdW5jdGlvbiBzZW5kQ3VzdG9tQ2hhbGxlbmdlQW5zd2VyKGFuc3dlckNoYWxsZW5nZSwgY2FsbGJhY2ssIGNsaWVudE1ldGFkYXRhKSB7XG4gICAgdmFyIF90aGlzNyA9IHRoaXM7XG4gICAgdmFyIGNoYWxsZW5nZVJlc3BvbnNlcyA9IHt9O1xuICAgIGNoYWxsZW5nZVJlc3BvbnNlcy5VU0VSTkFNRSA9IHRoaXMudXNlcm5hbWU7XG4gICAgY2hhbGxlbmdlUmVzcG9uc2VzLkFOU1dFUiA9IGFuc3dlckNoYWxsZW5nZTtcbiAgICB2YXIgYXV0aGVudGljYXRpb25IZWxwZXIgPSBuZXcgQXV0aGVudGljYXRpb25IZWxwZXIodGhpcy5wb29sLmdldFVzZXJQb29sTmFtZSgpKTtcbiAgICB0aGlzLmdldENhY2hlZERldmljZUtleUFuZFBhc3N3b3JkKCk7XG4gICAgaWYgKHRoaXMuZGV2aWNlS2V5ICE9IG51bGwpIHtcbiAgICAgIGNoYWxsZW5nZVJlc3BvbnNlcy5ERVZJQ0VfS0VZID0gdGhpcy5kZXZpY2VLZXk7XG4gICAgfVxuICAgIHZhciBqc29uUmVxID0ge1xuICAgICAgQ2hhbGxlbmdlTmFtZTogJ0NVU1RPTV9DSEFMTEVOR0UnLFxuICAgICAgQ2hhbGxlbmdlUmVzcG9uc2VzOiBjaGFsbGVuZ2VSZXNwb25zZXMsXG4gICAgICBDbGllbnRJZDogdGhpcy5wb29sLmdldENsaWVudElkKCksXG4gICAgICBTZXNzaW9uOiB0aGlzLlNlc3Npb24sXG4gICAgICBDbGllbnRNZXRhZGF0YTogY2xpZW50TWV0YWRhdGFcbiAgICB9O1xuICAgIGlmICh0aGlzLmdldFVzZXJDb250ZXh0RGF0YSgpKSB7XG4gICAgICBqc29uUmVxLlVzZXJDb250ZXh0RGF0YSA9IHRoaXMuZ2V0VXNlckNvbnRleHREYXRhKCk7XG4gICAgfVxuICAgIHRoaXMuY2xpZW50LnJlcXVlc3QoJ1Jlc3BvbmRUb0F1dGhDaGFsbGVuZ2UnLCBqc29uUmVxLCBmdW5jdGlvbiAoZXJyLCBkYXRhKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjay5vbkZhaWx1cmUoZXJyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfdGhpczcuYXV0aGVudGljYXRlVXNlckludGVybmFsKGRhdGEsIGF1dGhlbnRpY2F0aW9uSGVscGVyLCBjYWxsYmFjayk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBpcyB1c2VkIGJ5IHRoZSB1c2VyIG9uY2UgaGUgaGFzIGFuIE1GQSBjb2RlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjb25maXJtYXRpb25Db2RlIFRoZSBNRkEgY29kZSBlbnRlcmVkIGJ5IHRoZSB1c2VyLlxuICAgKiBAcGFyYW0ge29iamVjdH0gY2FsbGJhY2sgUmVzdWx0IGNhbGxiYWNrIG1hcC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG1mYVR5cGUgVGhlIG1mYSB3ZSBhcmUgcmVwbHlpbmcgdG8uXG4gICAqIEBwYXJhbSB7b25GYWlsdXJlfSBjYWxsYmFjay5vbkZhaWx1cmUgQ2FsbGVkIG9uIGFueSBlcnJvci5cbiAgICogQHBhcmFtIHthdXRoU3VjY2Vzc30gY2FsbGJhY2sub25TdWNjZXNzIENhbGxlZCBvbiBzdWNjZXNzIHdpdGggdGhlIG5ldyBzZXNzaW9uLlxuICAgKiBAcGFyYW0ge0NsaWVudE1ldGFkYXRhfSBjbGllbnRNZXRhZGF0YSBvYmplY3Qgd2hpY2ggaXMgcGFzc2VkIGZyb20gY2xpZW50IHRvIENvZ25pdG8gTGFtYmRhIHRyaWdnZXJcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqLztcbiAgX3Byb3RvLnNlbmRNRkFDb2RlID0gZnVuY3Rpb24gc2VuZE1GQUNvZGUoY29uZmlybWF0aW9uQ29kZSwgY2FsbGJhY2ssIG1mYVR5cGUsIGNsaWVudE1ldGFkYXRhKSB7XG4gICAgdmFyIF90aGlzOCA9IHRoaXM7XG4gICAgdmFyIGNoYWxsZW5nZVJlc3BvbnNlcyA9IHt9O1xuICAgIGNoYWxsZW5nZVJlc3BvbnNlcy5VU0VSTkFNRSA9IHRoaXMudXNlcm5hbWU7XG4gICAgY2hhbGxlbmdlUmVzcG9uc2VzLlNNU19NRkFfQ09ERSA9IGNvbmZpcm1hdGlvbkNvZGU7XG4gICAgdmFyIG1mYVR5cGVTZWxlY3Rpb24gPSBtZmFUeXBlIHx8ICdTTVNfTUZBJztcbiAgICBpZiAobWZhVHlwZVNlbGVjdGlvbiA9PT0gJ1NPRlRXQVJFX1RPS0VOX01GQScpIHtcbiAgICAgIGNoYWxsZW5nZVJlc3BvbnNlcy5TT0ZUV0FSRV9UT0tFTl9NRkFfQ09ERSA9IGNvbmZpcm1hdGlvbkNvZGU7XG4gICAgfVxuICAgIGlmICh0aGlzLmRldmljZUtleSAhPSBudWxsKSB7XG4gICAgICBjaGFsbGVuZ2VSZXNwb25zZXMuREVWSUNFX0tFWSA9IHRoaXMuZGV2aWNlS2V5O1xuICAgIH1cbiAgICB2YXIganNvblJlcSA9IHtcbiAgICAgIENoYWxsZW5nZU5hbWU6IG1mYVR5cGVTZWxlY3Rpb24sXG4gICAgICBDaGFsbGVuZ2VSZXNwb25zZXM6IGNoYWxsZW5nZVJlc3BvbnNlcyxcbiAgICAgIENsaWVudElkOiB0aGlzLnBvb2wuZ2V0Q2xpZW50SWQoKSxcbiAgICAgIFNlc3Npb246IHRoaXMuU2Vzc2lvbixcbiAgICAgIENsaWVudE1ldGFkYXRhOiBjbGllbnRNZXRhZGF0YVxuICAgIH07XG4gICAgaWYgKHRoaXMuZ2V0VXNlckNvbnRleHREYXRhKCkpIHtcbiAgICAgIGpzb25SZXEuVXNlckNvbnRleHREYXRhID0gdGhpcy5nZXRVc2VyQ29udGV4dERhdGEoKTtcbiAgICB9XG4gICAgdGhpcy5jbGllbnQucmVxdWVzdCgnUmVzcG9uZFRvQXV0aENoYWxsZW5nZScsIGpzb25SZXEsIGZ1bmN0aW9uIChlcnIsIGRhdGFBdXRoZW50aWNhdGUpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrLm9uRmFpbHVyZShlcnIpO1xuICAgICAgfVxuICAgICAgdmFyIGNoYWxsZW5nZU5hbWUgPSBkYXRhQXV0aGVudGljYXRlLkNoYWxsZW5nZU5hbWU7XG4gICAgICBpZiAoY2hhbGxlbmdlTmFtZSA9PT0gJ0RFVklDRV9TUlBfQVVUSCcpIHtcbiAgICAgICAgX3RoaXM4LmdldERldmljZVJlc3BvbnNlKGNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIF90aGlzOC5zaWduSW5Vc2VyU2Vzc2lvbiA9IF90aGlzOC5nZXRDb2duaXRvVXNlclNlc3Npb24oZGF0YUF1dGhlbnRpY2F0ZS5BdXRoZW50aWNhdGlvblJlc3VsdCk7XG4gICAgICBfdGhpczguY2FjaGVUb2tlbnMoKTtcbiAgICAgIGlmIChkYXRhQXV0aGVudGljYXRlLkF1dGhlbnRpY2F0aW9uUmVzdWx0Lk5ld0RldmljZU1ldGFkYXRhID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrLm9uU3VjY2VzcyhfdGhpczguc2lnbkluVXNlclNlc3Npb24pO1xuICAgICAgfVxuICAgICAgdmFyIGF1dGhlbnRpY2F0aW9uSGVscGVyID0gbmV3IEF1dGhlbnRpY2F0aW9uSGVscGVyKF90aGlzOC5wb29sLmdldFVzZXJQb29sTmFtZSgpKTtcbiAgICAgIGF1dGhlbnRpY2F0aW9uSGVscGVyLmdlbmVyYXRlSGFzaERldmljZShkYXRhQXV0aGVudGljYXRlLkF1dGhlbnRpY2F0aW9uUmVzdWx0Lk5ld0RldmljZU1ldGFkYXRhLkRldmljZUdyb3VwS2V5LCBkYXRhQXV0aGVudGljYXRlLkF1dGhlbnRpY2F0aW9uUmVzdWx0Lk5ld0RldmljZU1ldGFkYXRhLkRldmljZUtleSwgZnVuY3Rpb24gKGVyckdlbkhhc2gpIHtcbiAgICAgICAgaWYgKGVyckdlbkhhc2gpIHtcbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2sub25GYWlsdXJlKGVyckdlbkhhc2gpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkZXZpY2VTZWNyZXRWZXJpZmllckNvbmZpZyA9IHtcbiAgICAgICAgICBTYWx0OiBCdWZmZXIuZnJvbShhdXRoZW50aWNhdGlvbkhlbHBlci5nZXRTYWx0RGV2aWNlcygpLCAnaGV4JykudG9TdHJpbmcoJ2Jhc2U2NCcpLFxuICAgICAgICAgIFBhc3N3b3JkVmVyaWZpZXI6IEJ1ZmZlci5mcm9tKGF1dGhlbnRpY2F0aW9uSGVscGVyLmdldFZlcmlmaWVyRGV2aWNlcygpLCAnaGV4JykudG9TdHJpbmcoJ2Jhc2U2NCcpXG4gICAgICAgIH07XG4gICAgICAgIF90aGlzOC52ZXJpZmllckRldmljZXMgPSBkZXZpY2VTZWNyZXRWZXJpZmllckNvbmZpZy5QYXNzd29yZFZlcmlmaWVyO1xuICAgICAgICBfdGhpczguZGV2aWNlR3JvdXBLZXkgPSBkYXRhQXV0aGVudGljYXRlLkF1dGhlbnRpY2F0aW9uUmVzdWx0Lk5ld0RldmljZU1ldGFkYXRhLkRldmljZUdyb3VwS2V5O1xuICAgICAgICBfdGhpczgucmFuZG9tUGFzc3dvcmQgPSBhdXRoZW50aWNhdGlvbkhlbHBlci5nZXRSYW5kb21QYXNzd29yZCgpO1xuICAgICAgICBfdGhpczguY2xpZW50LnJlcXVlc3QoJ0NvbmZpcm1EZXZpY2UnLCB7XG4gICAgICAgICAgRGV2aWNlS2V5OiBkYXRhQXV0aGVudGljYXRlLkF1dGhlbnRpY2F0aW9uUmVzdWx0Lk5ld0RldmljZU1ldGFkYXRhLkRldmljZUtleSxcbiAgICAgICAgICBBY2Nlc3NUb2tlbjogX3RoaXM4LnNpZ25JblVzZXJTZXNzaW9uLmdldEFjY2Vzc1Rva2VuKCkuZ2V0Snd0VG9rZW4oKSxcbiAgICAgICAgICBEZXZpY2VTZWNyZXRWZXJpZmllckNvbmZpZzogZGV2aWNlU2VjcmV0VmVyaWZpZXJDb25maWcsXG4gICAgICAgICAgRGV2aWNlTmFtZTogdXNlckFnZW50XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnJDb25maXJtLCBkYXRhQ29uZmlybSkge1xuICAgICAgICAgIGlmIChlcnJDb25maXJtKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2sub25GYWlsdXJlKGVyckNvbmZpcm0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBfdGhpczguZGV2aWNlS2V5ID0gZGF0YUF1dGhlbnRpY2F0ZS5BdXRoZW50aWNhdGlvblJlc3VsdC5OZXdEZXZpY2VNZXRhZGF0YS5EZXZpY2VLZXk7XG4gICAgICAgICAgX3RoaXM4LmNhY2hlRGV2aWNlS2V5QW5kUGFzc3dvcmQoKTtcbiAgICAgICAgICBpZiAoZGF0YUNvbmZpcm0uVXNlckNvbmZpcm1hdGlvbk5lY2Vzc2FyeSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrLm9uU3VjY2VzcyhfdGhpczguc2lnbkluVXNlclNlc3Npb24sIGRhdGFDb25maXJtLlVzZXJDb25maXJtYXRpb25OZWNlc3NhcnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2sub25TdWNjZXNzKF90aGlzOC5zaWduSW5Vc2VyU2Vzc2lvbik7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgdXNlZCBieSBhbiBhdXRoZW50aWNhdGVkIHVzZXIgdG8gY2hhbmdlIHRoZSBjdXJyZW50IHBhc3N3b3JkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvbGRVc2VyUGFzc3dvcmQgVGhlIGN1cnJlbnQgcGFzc3dvcmQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZXdVc2VyUGFzc3dvcmQgVGhlIHJlcXVlc3RlZCBuZXcgcGFzc3dvcmQuXG4gICAqIEBwYXJhbSB7bm9kZUNhbGxiYWNrPHN0cmluZz59IGNhbGxiYWNrIENhbGxlZCBvbiBzdWNjZXNzIG9yIGVycm9yLlxuICAgKiBAcGFyYW0ge0NsaWVudE1ldGFkYXRhfSBjbGllbnRNZXRhZGF0YSBvYmplY3Qgd2hpY2ggaXMgcGFzc2VkIGZyb20gY2xpZW50IHRvIENvZ25pdG8gTGFtYmRhIHRyaWdnZXJcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqLztcbiAgX3Byb3RvLmNoYW5nZVBhc3N3b3JkID0gZnVuY3Rpb24gY2hhbmdlUGFzc3dvcmQob2xkVXNlclBhc3N3b3JkLCBuZXdVc2VyUGFzc3dvcmQsIGNhbGxiYWNrLCBjbGllbnRNZXRhZGF0YSkge1xuICAgIGlmICghKHRoaXMuc2lnbkluVXNlclNlc3Npb24gIT0gbnVsbCAmJiB0aGlzLnNpZ25JblVzZXJTZXNzaW9uLmlzVmFsaWQoKSkpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoJ1VzZXIgaXMgbm90IGF1dGhlbnRpY2F0ZWQnKSwgbnVsbCk7XG4gICAgfVxuICAgIHRoaXMuY2xpZW50LnJlcXVlc3QoJ0NoYW5nZVBhc3N3b3JkJywge1xuICAgICAgUHJldmlvdXNQYXNzd29yZDogb2xkVXNlclBhc3N3b3JkLFxuICAgICAgUHJvcG9zZWRQYXNzd29yZDogbmV3VXNlclBhc3N3b3JkLFxuICAgICAgQWNjZXNzVG9rZW46IHRoaXMuc2lnbkluVXNlclNlc3Npb24uZ2V0QWNjZXNzVG9rZW4oKS5nZXRKd3RUb2tlbigpLFxuICAgICAgQ2xpZW50TWV0YWRhdGE6IGNsaWVudE1ldGFkYXRhXG4gICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyLCBudWxsKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjYWxsYmFjayhudWxsLCAnU1VDQ0VTUycpO1xuICAgIH0pO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBpcyB1c2VkIGJ5IGFuIGF1dGhlbnRpY2F0ZWQgdXNlciB0byBlbmFibGUgTUZBIGZvciBpdHNlbGZcbiAgICogQGRlcHJlY2F0ZWRcbiAgICogQHBhcmFtIHtub2RlQ2FsbGJhY2s8c3RyaW5nPn0gY2FsbGJhY2sgQ2FsbGVkIG9uIHN1Y2Nlc3Mgb3IgZXJyb3IuXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi87XG4gIF9wcm90by5lbmFibGVNRkEgPSBmdW5jdGlvbiBlbmFibGVNRkEoY2FsbGJhY2spIHtcbiAgICBpZiAodGhpcy5zaWduSW5Vc2VyU2Vzc2lvbiA9PSBudWxsIHx8ICF0aGlzLnNpZ25JblVzZXJTZXNzaW9uLmlzVmFsaWQoKSkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcignVXNlciBpcyBub3QgYXV0aGVudGljYXRlZCcpLCBudWxsKTtcbiAgICB9XG4gICAgdmFyIG1mYU9wdGlvbnMgPSBbXTtcbiAgICB2YXIgbWZhRW5hYmxlZCA9IHtcbiAgICAgIERlbGl2ZXJ5TWVkaXVtOiAnU01TJyxcbiAgICAgIEF0dHJpYnV0ZU5hbWU6ICdwaG9uZV9udW1iZXInXG4gICAgfTtcbiAgICBtZmFPcHRpb25zLnB1c2gobWZhRW5hYmxlZCk7XG4gICAgdGhpcy5jbGllbnQucmVxdWVzdCgnU2V0VXNlclNldHRpbmdzJywge1xuICAgICAgTUZBT3B0aW9uczogbWZhT3B0aW9ucyxcbiAgICAgIEFjY2Vzc1Rva2VuOiB0aGlzLnNpZ25JblVzZXJTZXNzaW9uLmdldEFjY2Vzc1Rva2VuKCkuZ2V0Snd0VG9rZW4oKVxuICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVyciwgbnVsbCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwgJ1NVQ0NFU1MnKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgdXNlZCBieSBhbiBhdXRoZW50aWNhdGVkIHVzZXIgdG8gZW5hYmxlIE1GQSBmb3IgaXRzZWxmXG4gICAqIEBwYXJhbSB7SU1mYVNldHRpbmdzfSBzbXNNZmFTZXR0aW5ncyB0aGUgc21zIG1mYSBzZXR0aW5nc1xuICAgKiBAcGFyYW0ge0lNRkFTZXR0aW5nc30gc29mdHdhcmVUb2tlbk1mYVNldHRpbmdzIHRoZSBzb2Z0d2FyZSB0b2tlbiBtZmEgc2V0dGluZ3NcbiAgICogQHBhcmFtIHtub2RlQ2FsbGJhY2s8c3RyaW5nPn0gY2FsbGJhY2sgQ2FsbGVkIG9uIHN1Y2Nlc3Mgb3IgZXJyb3IuXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi87XG4gIF9wcm90by5zZXRVc2VyTWZhUHJlZmVyZW5jZSA9IGZ1bmN0aW9uIHNldFVzZXJNZmFQcmVmZXJlbmNlKHNtc01mYVNldHRpbmdzLCBzb2Z0d2FyZVRva2VuTWZhU2V0dGluZ3MsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHRoaXMuc2lnbkluVXNlclNlc3Npb24gPT0gbnVsbCB8fCAhdGhpcy5zaWduSW5Vc2VyU2Vzc2lvbi5pc1ZhbGlkKCkpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoJ1VzZXIgaXMgbm90IGF1dGhlbnRpY2F0ZWQnKSwgbnVsbCk7XG4gICAgfVxuICAgIHRoaXMuY2xpZW50LnJlcXVlc3QoJ1NldFVzZXJNRkFQcmVmZXJlbmNlJywge1xuICAgICAgU01TTWZhU2V0dGluZ3M6IHNtc01mYVNldHRpbmdzLFxuICAgICAgU29mdHdhcmVUb2tlbk1mYVNldHRpbmdzOiBzb2Z0d2FyZVRva2VuTWZhU2V0dGluZ3MsXG4gICAgICBBY2Nlc3NUb2tlbjogdGhpcy5zaWduSW5Vc2VyU2Vzc2lvbi5nZXRBY2Nlc3NUb2tlbigpLmdldEp3dFRva2VuKClcbiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIsIG51bGwpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsICdTVUNDRVNTJyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGlzIHVzZWQgYnkgYW4gYXV0aGVudGljYXRlZCB1c2VyIHRvIGRpc2FibGUgTUZBIGZvciBpdHNlbGZcbiAgICogQGRlcHJlY2F0ZWRcbiAgICogQHBhcmFtIHtub2RlQ2FsbGJhY2s8c3RyaW5nPn0gY2FsbGJhY2sgQ2FsbGVkIG9uIHN1Y2Nlc3Mgb3IgZXJyb3IuXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi87XG4gIF9wcm90by5kaXNhYmxlTUZBID0gZnVuY3Rpb24gZGlzYWJsZU1GQShjYWxsYmFjaykge1xuICAgIGlmICh0aGlzLnNpZ25JblVzZXJTZXNzaW9uID09IG51bGwgfHwgIXRoaXMuc2lnbkluVXNlclNlc3Npb24uaXNWYWxpZCgpKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKCdVc2VyIGlzIG5vdCBhdXRoZW50aWNhdGVkJyksIG51bGwpO1xuICAgIH1cbiAgICB2YXIgbWZhT3B0aW9ucyA9IFtdO1xuICAgIHRoaXMuY2xpZW50LnJlcXVlc3QoJ1NldFVzZXJTZXR0aW5ncycsIHtcbiAgICAgIE1GQU9wdGlvbnM6IG1mYU9wdGlvbnMsXG4gICAgICBBY2Nlc3NUb2tlbjogdGhpcy5zaWduSW5Vc2VyU2Vzc2lvbi5nZXRBY2Nlc3NUb2tlbigpLmdldEp3dFRva2VuKClcbiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIsIG51bGwpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsICdTVUNDRVNTJyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGlzIHVzZWQgYnkgYW4gYXV0aGVudGljYXRlZCB1c2VyIHRvIGRlbGV0ZSBpdHNlbGZcbiAgICogQHBhcmFtIHtub2RlQ2FsbGJhY2s8c3RyaW5nPn0gY2FsbGJhY2sgQ2FsbGVkIG9uIHN1Y2Nlc3Mgb3IgZXJyb3IuXG4gICAqIEBwYXJhbSB7Q2xpZW50TWV0YWRhdGF9IGNsaWVudE1ldGFkYXRhIG9iamVjdCB3aGljaCBpcyBwYXNzZWQgZnJvbSBjbGllbnQgdG8gQ29nbml0byBMYW1iZGEgdHJpZ2dlclxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovO1xuICBfcHJvdG8uZGVsZXRlVXNlciA9IGZ1bmN0aW9uIGRlbGV0ZVVzZXIoY2FsbGJhY2ssIGNsaWVudE1ldGFkYXRhKSB7XG4gICAgdmFyIF90aGlzOSA9IHRoaXM7XG4gICAgaWYgKHRoaXMuc2lnbkluVXNlclNlc3Npb24gPT0gbnVsbCB8fCAhdGhpcy5zaWduSW5Vc2VyU2Vzc2lvbi5pc1ZhbGlkKCkpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoJ1VzZXIgaXMgbm90IGF1dGhlbnRpY2F0ZWQnKSwgbnVsbCk7XG4gICAgfVxuICAgIHRoaXMuY2xpZW50LnJlcXVlc3QoJ0RlbGV0ZVVzZXInLCB7XG4gICAgICBBY2Nlc3NUb2tlbjogdGhpcy5zaWduSW5Vc2VyU2Vzc2lvbi5nZXRBY2Nlc3NUb2tlbigpLmdldEp3dFRva2VuKCksXG4gICAgICBDbGllbnRNZXRhZGF0YTogY2xpZW50TWV0YWRhdGFcbiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIsIG51bGwpO1xuICAgICAgfVxuICAgICAgX3RoaXM5LmNsZWFyQ2FjaGVkVXNlcigpO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsICdTVUNDRVNTJyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAdHlwZWRlZiB7Q29nbml0b1VzZXJBdHRyaWJ1dGUgfCB7IE5hbWU6c3RyaW5nLCBWYWx1ZTpzdHJpbmcgfX0gQXR0cmlidXRlQXJnXG4gICAqL1xuICAvKipcbiAgICogVGhpcyBpcyB1c2VkIGJ5IGFuIGF1dGhlbnRpY2F0ZWQgdXNlciB0byBjaGFuZ2UgYSBsaXN0IG9mIGF0dHJpYnV0ZXNcbiAgICogQHBhcmFtIHtBdHRyaWJ1dGVBcmdbXX0gYXR0cmlidXRlcyBBIGxpc3Qgb2YgdGhlIG5ldyB1c2VyIGF0dHJpYnV0ZXMuXG4gICAqIEBwYXJhbSB7bm9kZUNhbGxiYWNrPHN0cmluZz59IGNhbGxiYWNrIENhbGxlZCBvbiBzdWNjZXNzIG9yIGVycm9yLlxuICAgKiBAcGFyYW0ge0NsaWVudE1ldGFkYXRhfSBjbGllbnRNZXRhZGF0YSBvYmplY3Qgd2hpY2ggaXMgcGFzc2VkIGZyb20gY2xpZW50IHRvIENvZ25pdG8gTGFtYmRhIHRyaWdnZXJcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqLztcbiAgX3Byb3RvLnVwZGF0ZUF0dHJpYnV0ZXMgPSBmdW5jdGlvbiB1cGRhdGVBdHRyaWJ1dGVzKGF0dHJpYnV0ZXMsIGNhbGxiYWNrLCBjbGllbnRNZXRhZGF0YSkge1xuICAgIHZhciBfdGhpczEwID0gdGhpcztcbiAgICBpZiAodGhpcy5zaWduSW5Vc2VyU2Vzc2lvbiA9PSBudWxsIHx8ICF0aGlzLnNpZ25JblVzZXJTZXNzaW9uLmlzVmFsaWQoKSkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcignVXNlciBpcyBub3QgYXV0aGVudGljYXRlZCcpLCBudWxsKTtcbiAgICB9XG4gICAgdGhpcy5jbGllbnQucmVxdWVzdCgnVXBkYXRlVXNlckF0dHJpYnV0ZXMnLCB7XG4gICAgICBBY2Nlc3NUb2tlbjogdGhpcy5zaWduSW5Vc2VyU2Vzc2lvbi5nZXRBY2Nlc3NUb2tlbigpLmdldEp3dFRva2VuKCksXG4gICAgICBVc2VyQXR0cmlidXRlczogYXR0cmlidXRlcyxcbiAgICAgIENsaWVudE1ldGFkYXRhOiBjbGllbnRNZXRhZGF0YVxuICAgIH0sIGZ1bmN0aW9uIChlcnIsIHJlc3VsdCkge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyLCBudWxsKTtcbiAgICAgIH1cblxuICAgICAgLy8gdXBkYXRlIGNhY2hlZCB1c2VyXG4gICAgICByZXR1cm4gX3RoaXMxMC5nZXRVc2VyRGF0YShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsLCAnU1VDQ0VTUycsIHJlc3VsdCk7XG4gICAgICB9LCB7XG4gICAgICAgIGJ5cGFzc0NhY2hlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgdXNlZCBieSBhbiBhdXRoZW50aWNhdGVkIHVzZXIgdG8gZ2V0IGEgbGlzdCBvZiBhdHRyaWJ1dGVzXG4gICAqIEBwYXJhbSB7bm9kZUNhbGxiYWNrPENvZ25pdG9Vc2VyQXR0cmlidXRlW10+fSBjYWxsYmFjayBDYWxsZWQgb24gc3VjY2VzcyBvciBlcnJvci5cbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqLztcbiAgX3Byb3RvLmdldFVzZXJBdHRyaWJ1dGVzID0gZnVuY3Rpb24gZ2V0VXNlckF0dHJpYnV0ZXMoY2FsbGJhY2spIHtcbiAgICBpZiAoISh0aGlzLnNpZ25JblVzZXJTZXNzaW9uICE9IG51bGwgJiYgdGhpcy5zaWduSW5Vc2VyU2Vzc2lvbi5pc1ZhbGlkKCkpKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKCdVc2VyIGlzIG5vdCBhdXRoZW50aWNhdGVkJyksIG51bGwpO1xuICAgIH1cbiAgICB0aGlzLmNsaWVudC5yZXF1ZXN0KCdHZXRVc2VyJywge1xuICAgICAgQWNjZXNzVG9rZW46IHRoaXMuc2lnbkluVXNlclNlc3Npb24uZ2V0QWNjZXNzVG9rZW4oKS5nZXRKd3RUb2tlbigpXG4gICAgfSwgZnVuY3Rpb24gKGVyciwgdXNlckRhdGEpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVyciwgbnVsbCk7XG4gICAgICB9XG4gICAgICB2YXIgYXR0cmlidXRlTGlzdCA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB1c2VyRGF0YS5Vc2VyQXR0cmlidXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgYXR0cmlidXRlID0ge1xuICAgICAgICAgIE5hbWU6IHVzZXJEYXRhLlVzZXJBdHRyaWJ1dGVzW2ldLk5hbWUsXG4gICAgICAgICAgVmFsdWU6IHVzZXJEYXRhLlVzZXJBdHRyaWJ1dGVzW2ldLlZhbHVlXG4gICAgICAgIH07XG4gICAgICAgIHZhciB1c2VyQXR0cmlidXRlID0gbmV3IENvZ25pdG9Vc2VyQXR0cmlidXRlKGF0dHJpYnV0ZSk7XG4gICAgICAgIGF0dHJpYnV0ZUxpc3QucHVzaCh1c2VyQXR0cmlidXRlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjYWxsYmFjayhudWxsLCBhdHRyaWJ1dGVMaXN0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgd2FzIHByZXZpb3VzbHkgdXNlZCBieSBhbiBhdXRoZW50aWNhdGVkIHVzZXIgdG8gZ2V0IE1GQU9wdGlvbnMsXG4gICAqIGJ1dCBubyBsb25nZXIgcmV0dXJucyBhIG1lYW5pbmdmdWwgcmVzcG9uc2UuIFJlZmVyIHRvIHRoZSBkb2N1bWVudGF0aW9uIGZvclxuICAgKiBob3cgdG8gc2V0dXAgYW5kIHVzZSBNRkE6IGh0dHBzOi8vZG9jcy5hbXBsaWZ5LmF3cy9saWIvYXV0aC9tZmEvcS9wbGF0Zm9ybS9qc1xuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAcGFyYW0ge25vZGVDYWxsYmFjazxNRkFPcHRpb25zPn0gY2FsbGJhY2sgQ2FsbGVkIG9uIHN1Y2Nlc3Mgb3IgZXJyb3IuXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi87XG4gIF9wcm90by5nZXRNRkFPcHRpb25zID0gZnVuY3Rpb24gZ2V0TUZBT3B0aW9ucyhjYWxsYmFjaykge1xuICAgIGlmICghKHRoaXMuc2lnbkluVXNlclNlc3Npb24gIT0gbnVsbCAmJiB0aGlzLnNpZ25JblVzZXJTZXNzaW9uLmlzVmFsaWQoKSkpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoJ1VzZXIgaXMgbm90IGF1dGhlbnRpY2F0ZWQnKSwgbnVsbCk7XG4gICAgfVxuICAgIHRoaXMuY2xpZW50LnJlcXVlc3QoJ0dldFVzZXInLCB7XG4gICAgICBBY2Nlc3NUb2tlbjogdGhpcy5zaWduSW5Vc2VyU2Vzc2lvbi5nZXRBY2Nlc3NUb2tlbigpLmdldEp3dFRva2VuKClcbiAgICB9LCBmdW5jdGlvbiAoZXJyLCB1c2VyRGF0YSkge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyLCBudWxsKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjYWxsYmFjayhudWxsLCB1c2VyRGF0YS5NRkFPcHRpb25zKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIFBSSVZBVEUgT05MWTogVGhpcyBpcyBhbiBpbnRlcm5hbCBvbmx5IG1ldGhvZCBhbmQgc2hvdWxkIG5vdFxuICAgKiBiZSBkaXJlY3RseSBjYWxsZWQgYnkgdGhlIGNvbnN1bWVycy5cbiAgICovO1xuICBfcHJvdG8uY3JlYXRlR2V0VXNlclJlcXVlc3QgPSBmdW5jdGlvbiBjcmVhdGVHZXRVc2VyUmVxdWVzdCgpIHtcbiAgICByZXR1cm4gdGhpcy5jbGllbnQucHJvbWlzaWZ5UmVxdWVzdCgnR2V0VXNlcicsIHtcbiAgICAgIEFjY2Vzc1Rva2VuOiB0aGlzLnNpZ25JblVzZXJTZXNzaW9uLmdldEFjY2Vzc1Rva2VuKCkuZ2V0Snd0VG9rZW4oKVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFBSSVZBVEUgT05MWTogVGhpcyBpcyBhbiBpbnRlcm5hbCBvbmx5IG1ldGhvZCBhbmQgc2hvdWxkIG5vdFxuICAgKiBiZSBkaXJlY3RseSBjYWxsZWQgYnkgdGhlIGNvbnN1bWVycy5cbiAgICovO1xuICBfcHJvdG8ucmVmcmVzaFNlc3Npb25JZlBvc3NpYmxlID0gZnVuY3Rpb24gcmVmcmVzaFNlc3Npb25JZlBvc3NpYmxlKG9wdGlvbnMpIHtcbiAgICB2YXIgX3RoaXMxMSA9IHRoaXM7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cbiAgICAvLyBiZXN0IGVmZm9ydCwgaWYgbm90IHBvc3NpYmxlXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICB2YXIgcmVmcmVzaCA9IF90aGlzMTEuc2lnbkluVXNlclNlc3Npb24uZ2V0UmVmcmVzaFRva2VuKCk7XG4gICAgICBpZiAocmVmcmVzaCAmJiByZWZyZXNoLmdldFRva2VuKCkpIHtcbiAgICAgICAgX3RoaXMxMS5yZWZyZXNoU2Vzc2lvbihyZWZyZXNoLCByZXNvbHZlLCBvcHRpb25zLmNsaWVudE1ldGFkYXRhKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBHZXRVc2VyRGF0YU9wdGlvbnNcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBieXBhc3NDYWNoZSAtIGZvcmNlIGdldHRpbmcgZGF0YSBmcm9tIENvZ25pdG8gc2VydmljZVxuICAgKiBAcHJvcGVydHkge1JlY29yZDxzdHJpbmcsIHN0cmluZz59IGNsaWVudE1ldGFkYXRhIC0gY2xpZW50TWV0YWRhdGEgZm9yIGdldFNlc3Npb25cbiAgICovXG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgdXNlZCBieSBhbiBhdXRoZW50aWNhdGVkIHVzZXJzIHRvIGdldCB0aGUgdXNlckRhdGFcbiAgICogQHBhcmFtIHtub2RlQ2FsbGJhY2s8VXNlckRhdGE+fSBjYWxsYmFjayBDYWxsZWQgb24gc3VjY2VzcyBvciBlcnJvci5cbiAgICogQHBhcmFtIHtHZXRVc2VyRGF0YU9wdGlvbnN9IHBhcmFtc1xuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovO1xuICBfcHJvdG8uZ2V0VXNlckRhdGEgPSBmdW5jdGlvbiBnZXRVc2VyRGF0YShjYWxsYmFjaywgcGFyYW1zKSB7XG4gICAgdmFyIF90aGlzMTIgPSB0aGlzO1xuICAgIGlmICghKHRoaXMuc2lnbkluVXNlclNlc3Npb24gIT0gbnVsbCAmJiB0aGlzLnNpZ25JblVzZXJTZXNzaW9uLmlzVmFsaWQoKSkpIHtcbiAgICAgIHRoaXMuY2xlYXJDYWNoZWRVc2VyRGF0YSgpO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcignVXNlciBpcyBub3QgYXV0aGVudGljYXRlZCcpLCBudWxsKTtcbiAgICB9XG4gICAgdmFyIHVzZXJEYXRhID0gdGhpcy5nZXRVc2VyRGF0YUZyb21DYWNoZSgpO1xuICAgIGlmICghdXNlckRhdGEpIHtcbiAgICAgIHRoaXMuZmV0Y2hVc2VyRGF0YSgpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgZGF0YSk7XG4gICAgICB9KVtcImNhdGNoXCJdKGNhbGxiYWNrKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuaXNGZXRjaFVzZXJEYXRhQW5kVG9rZW5SZXF1aXJlZChwYXJhbXMpKSB7XG4gICAgICB0aGlzLmZldGNoVXNlckRhdGEoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHJldHVybiBfdGhpczEyLnJlZnJlc2hTZXNzaW9uSWZQb3NzaWJsZShwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9KTtcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIGRhdGEpO1xuICAgICAgfSlbXCJjYXRjaFwiXShjYWxsYmFjayk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBjYWxsYmFjayhudWxsLCBKU09OLnBhcnNlKHVzZXJEYXRhKSk7XG4gICAgICByZXR1cm47XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aGlzLmNsZWFyQ2FjaGVkVXNlckRhdGEoKTtcbiAgICAgIGNhbGxiYWNrKGVyciwgbnVsbCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIFBSSVZBVEUgT05MWTogVGhpcyBpcyBhbiBpbnRlcm5hbCBvbmx5IG1ldGhvZCBhbmQgc2hvdWxkIG5vdFxuICAgKiBiZSBkaXJlY3RseSBjYWxsZWQgYnkgdGhlIGNvbnN1bWVycy5cbiAgICovO1xuICBfcHJvdG8uZ2V0VXNlckRhdGFGcm9tQ2FjaGUgPSBmdW5jdGlvbiBnZXRVc2VyRGF0YUZyb21DYWNoZSgpIHtcbiAgICB2YXIgdXNlckRhdGEgPSB0aGlzLnN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnVzZXJEYXRhS2V5KTtcbiAgICByZXR1cm4gdXNlckRhdGE7XG4gIH1cblxuICAvKipcbiAgICpcbiAgICogUFJJVkFURSBPTkxZOiBUaGlzIGlzIGFuIGludGVybmFsIG9ubHkgbWV0aG9kIGFuZCBzaG91bGQgbm90XG4gICAqIGJlIGRpcmVjdGx5IGNhbGxlZCBieSB0aGUgY29uc3VtZXJzLlxuICAgKi87XG4gIF9wcm90by5pc0ZldGNoVXNlckRhdGFBbmRUb2tlblJlcXVpcmVkID0gZnVuY3Rpb24gaXNGZXRjaFVzZXJEYXRhQW5kVG9rZW5SZXF1aXJlZChwYXJhbXMpIHtcbiAgICB2YXIgX3JlZiA9IHBhcmFtcyB8fCB7fSxcbiAgICAgIF9yZWYkYnlwYXNzQ2FjaGUgPSBfcmVmLmJ5cGFzc0NhY2hlLFxuICAgICAgYnlwYXNzQ2FjaGUgPSBfcmVmJGJ5cGFzc0NhY2hlID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYkYnlwYXNzQ2FjaGU7XG4gICAgcmV0dXJuIGJ5cGFzc0NhY2hlO1xuICB9XG4gIC8qKlxuICAgKlxuICAgKiBQUklWQVRFIE9OTFk6IFRoaXMgaXMgYW4gaW50ZXJuYWwgb25seSBtZXRob2QgYW5kIHNob3VsZCBub3RcbiAgICogYmUgZGlyZWN0bHkgY2FsbGVkIGJ5IHRoZSBjb25zdW1lcnMuXG4gICAqLztcbiAgX3Byb3RvLmZldGNoVXNlckRhdGEgPSBmdW5jdGlvbiBmZXRjaFVzZXJEYXRhKCkge1xuICAgIHZhciBfdGhpczEzID0gdGhpcztcbiAgICByZXR1cm4gdGhpcy5jcmVhdGVHZXRVc2VyUmVxdWVzdCgpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIF90aGlzMTMuY2FjaGVVc2VyRGF0YShkYXRhKTtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgdXNlZCBieSBhbiBhdXRoZW50aWNhdGVkIHVzZXIgdG8gZGVsZXRlIGEgbGlzdCBvZiBhdHRyaWJ1dGVzXG4gICAqIEBwYXJhbSB7c3RyaW5nW119IGF0dHJpYnV0ZUxpc3QgTmFtZXMgb2YgdGhlIGF0dHJpYnV0ZXMgdG8gZGVsZXRlLlxuICAgKiBAcGFyYW0ge25vZGVDYWxsYmFjazxzdHJpbmc+fSBjYWxsYmFjayBDYWxsZWQgb24gc3VjY2VzcyBvciBlcnJvci5cbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqLztcbiAgX3Byb3RvLmRlbGV0ZUF0dHJpYnV0ZXMgPSBmdW5jdGlvbiBkZWxldGVBdHRyaWJ1dGVzKGF0dHJpYnV0ZUxpc3QsIGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzMTQgPSB0aGlzO1xuICAgIGlmICghKHRoaXMuc2lnbkluVXNlclNlc3Npb24gIT0gbnVsbCAmJiB0aGlzLnNpZ25JblVzZXJTZXNzaW9uLmlzVmFsaWQoKSkpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoJ1VzZXIgaXMgbm90IGF1dGhlbnRpY2F0ZWQnKSwgbnVsbCk7XG4gICAgfVxuICAgIHRoaXMuY2xpZW50LnJlcXVlc3QoJ0RlbGV0ZVVzZXJBdHRyaWJ1dGVzJywge1xuICAgICAgVXNlckF0dHJpYnV0ZU5hbWVzOiBhdHRyaWJ1dGVMaXN0LFxuICAgICAgQWNjZXNzVG9rZW46IHRoaXMuc2lnbkluVXNlclNlc3Npb24uZ2V0QWNjZXNzVG9rZW4oKS5nZXRKd3RUb2tlbigpXG4gICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyLCBudWxsKTtcbiAgICAgIH1cblxuICAgICAgLy8gdXBkYXRlIGNhY2hlZCB1c2VyXG4gICAgICByZXR1cm4gX3RoaXMxNC5nZXRVc2VyRGF0YShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsLCAnU1VDQ0VTUycpO1xuICAgICAgfSwge1xuICAgICAgICBieXBhc3NDYWNoZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGlzIHVzZWQgYnkgYSB1c2VyIHRvIHJlc2VuZCBhIGNvbmZpcm1hdGlvbiBjb2RlXG4gICAqIEBwYXJhbSB7bm9kZUNhbGxiYWNrPHN0cmluZz59IGNhbGxiYWNrIENhbGxlZCBvbiBzdWNjZXNzIG9yIGVycm9yLlxuICAgKiBAcGFyYW0ge0NsaWVudE1ldGFkYXRhfSBjbGllbnRNZXRhZGF0YSBvYmplY3Qgd2hpY2ggaXMgcGFzc2VkIGZyb20gY2xpZW50IHRvIENvZ25pdG8gTGFtYmRhIHRyaWdnZXJcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqLztcbiAgX3Byb3RvLnJlc2VuZENvbmZpcm1hdGlvbkNvZGUgPSBmdW5jdGlvbiByZXNlbmRDb25maXJtYXRpb25Db2RlKGNhbGxiYWNrLCBjbGllbnRNZXRhZGF0YSkge1xuICAgIHZhciBqc29uUmVxID0ge1xuICAgICAgQ2xpZW50SWQ6IHRoaXMucG9vbC5nZXRDbGllbnRJZCgpLFxuICAgICAgVXNlcm5hbWU6IHRoaXMudXNlcm5hbWUsXG4gICAgICBDbGllbnRNZXRhZGF0YTogY2xpZW50TWV0YWRhdGFcbiAgICB9O1xuICAgIHRoaXMuY2xpZW50LnJlcXVlc3QoJ1Jlc2VuZENvbmZpcm1hdGlvbkNvZGUnLCBqc29uUmVxLCBmdW5jdGlvbiAoZXJyLCByZXN1bHQpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVyciwgbnVsbCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwgcmVzdWx0KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBHZXRTZXNzaW9uT3B0aW9uc1xuICAgKiBAcHJvcGVydHkge1JlY29yZDxzdHJpbmcsIHN0cmluZz59IGNsaWVudE1ldGFkYXRhIC0gY2xpZW50TWV0YWRhdGEgZm9yIGdldFNlc3Npb25cbiAgICovXG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgdXNlZCB0byBnZXQgYSBzZXNzaW9uLCBlaXRoZXIgZnJvbSB0aGUgc2Vzc2lvbiBvYmplY3RcbiAgICogb3IgZnJvbSAgdGhlIGxvY2FsIHN0b3JhZ2UsIG9yIGJ5IHVzaW5nIGEgcmVmcmVzaCB0b2tlblxuICAgKlxuICAgKiBAcGFyYW0ge25vZGVDYWxsYmFjazxDb2duaXRvVXNlclNlc3Npb24+fSBjYWxsYmFjayBDYWxsZWQgb24gc3VjY2VzcyBvciBlcnJvci5cbiAgICogQHBhcmFtIHtHZXRTZXNzaW9uT3B0aW9uc30gb3B0aW9uc1xuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovO1xuICBfcHJvdG8uZ2V0U2Vzc2lvbiA9IGZ1bmN0aW9uIGdldFNlc3Npb24oY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuICAgIGlmICh0aGlzLnVzZXJuYW1lID09IG51bGwpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoJ1VzZXJuYW1lIGlzIG51bGwuIENhbm5vdCByZXRyaWV2ZSBhIG5ldyBzZXNzaW9uJyksIG51bGwpO1xuICAgIH1cbiAgICBpZiAodGhpcy5zaWduSW5Vc2VyU2Vzc2lvbiAhPSBudWxsICYmIHRoaXMuc2lnbkluVXNlclNlc3Npb24uaXNWYWxpZCgpKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwgdGhpcy5zaWduSW5Vc2VyU2Vzc2lvbik7XG4gICAgfVxuICAgIHZhciBrZXlQcmVmaXggPSBcIkNvZ25pdG9JZGVudGl0eVNlcnZpY2VQcm92aWRlci5cIiArIHRoaXMucG9vbC5nZXRDbGllbnRJZCgpICsgXCIuXCIgKyB0aGlzLnVzZXJuYW1lO1xuICAgIHZhciBpZFRva2VuS2V5ID0ga2V5UHJlZml4ICsgXCIuaWRUb2tlblwiO1xuICAgIHZhciBhY2Nlc3NUb2tlbktleSA9IGtleVByZWZpeCArIFwiLmFjY2Vzc1Rva2VuXCI7XG4gICAgdmFyIHJlZnJlc2hUb2tlbktleSA9IGtleVByZWZpeCArIFwiLnJlZnJlc2hUb2tlblwiO1xuICAgIHZhciBjbG9ja0RyaWZ0S2V5ID0ga2V5UHJlZml4ICsgXCIuY2xvY2tEcmlmdFwiO1xuICAgIGlmICh0aGlzLnN0b3JhZ2UuZ2V0SXRlbShpZFRva2VuS2V5KSkge1xuICAgICAgdmFyIGlkVG9rZW4gPSBuZXcgQ29nbml0b0lkVG9rZW4oe1xuICAgICAgICBJZFRva2VuOiB0aGlzLnN0b3JhZ2UuZ2V0SXRlbShpZFRva2VuS2V5KVxuICAgICAgfSk7XG4gICAgICB2YXIgYWNjZXNzVG9rZW4gPSBuZXcgQ29nbml0b0FjY2Vzc1Rva2VuKHtcbiAgICAgICAgQWNjZXNzVG9rZW46IHRoaXMuc3RvcmFnZS5nZXRJdGVtKGFjY2Vzc1Rva2VuS2V5KVxuICAgICAgfSk7XG4gICAgICB2YXIgcmVmcmVzaFRva2VuID0gbmV3IENvZ25pdG9SZWZyZXNoVG9rZW4oe1xuICAgICAgICBSZWZyZXNoVG9rZW46IHRoaXMuc3RvcmFnZS5nZXRJdGVtKHJlZnJlc2hUb2tlbktleSlcbiAgICAgIH0pO1xuICAgICAgdmFyIGNsb2NrRHJpZnQgPSBwYXJzZUludCh0aGlzLnN0b3JhZ2UuZ2V0SXRlbShjbG9ja0RyaWZ0S2V5KSwgMCkgfHwgMDtcbiAgICAgIHZhciBzZXNzaW9uRGF0YSA9IHtcbiAgICAgICAgSWRUb2tlbjogaWRUb2tlbixcbiAgICAgICAgQWNjZXNzVG9rZW46IGFjY2Vzc1Rva2VuLFxuICAgICAgICBSZWZyZXNoVG9rZW46IHJlZnJlc2hUb2tlbixcbiAgICAgICAgQ2xvY2tEcmlmdDogY2xvY2tEcmlmdFxuICAgICAgfTtcbiAgICAgIHZhciBjYWNoZWRTZXNzaW9uID0gbmV3IENvZ25pdG9Vc2VyU2Vzc2lvbihzZXNzaW9uRGF0YSk7XG4gICAgICBpZiAoY2FjaGVkU2Vzc2lvbi5pc1ZhbGlkKCkpIHtcbiAgICAgICAgdGhpcy5zaWduSW5Vc2VyU2Vzc2lvbiA9IGNhY2hlZFNlc3Npb247XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsLCB0aGlzLnNpZ25JblVzZXJTZXNzaW9uKTtcbiAgICAgIH1cbiAgICAgIGlmICghcmVmcmVzaFRva2VuLmdldFRva2VuKCkpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcignQ2Fubm90IHJldHJpZXZlIGEgbmV3IHNlc3Npb24uIFBsZWFzZSBhdXRoZW50aWNhdGUuJyksIG51bGwpO1xuICAgICAgfVxuICAgICAgdGhpcy5yZWZyZXNoU2Vzc2lvbihyZWZyZXNoVG9rZW4sIGNhbGxiYWNrLCBvcHRpb25zLmNsaWVudE1ldGFkYXRhKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCdMb2NhbCBzdG9yYWdlIGlzIG1pc3NpbmcgYW4gSUQgVG9rZW4sIFBsZWFzZSBhdXRoZW50aWNhdGUnKSwgbnVsbCk7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyB1c2VzIHRoZSByZWZyZXNoVG9rZW4gdG8gcmV0cmlldmUgYSBuZXcgc2Vzc2lvblxuICAgKiBAcGFyYW0ge0NvZ25pdG9SZWZyZXNoVG9rZW59IHJlZnJlc2hUb2tlbiBBIHByZXZpb3VzIHNlc3Npb24ncyByZWZyZXNoIHRva2VuLlxuICAgKiBAcGFyYW0ge25vZGVDYWxsYmFjazxDb2duaXRvVXNlclNlc3Npb24+fSBjYWxsYmFjayBDYWxsZWQgb24gc3VjY2VzcyBvciBlcnJvci5cbiAgICogQHBhcmFtIHtDbGllbnRNZXRhZGF0YX0gY2xpZW50TWV0YWRhdGEgb2JqZWN0IHdoaWNoIGlzIHBhc3NlZCBmcm9tIGNsaWVudCB0byBDb2duaXRvIExhbWJkYSB0cmlnZ2VyXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi87XG4gIF9wcm90by5yZWZyZXNoU2Vzc2lvbiA9IGZ1bmN0aW9uIHJlZnJlc2hTZXNzaW9uKHJlZnJlc2hUb2tlbiwgY2FsbGJhY2ssIGNsaWVudE1ldGFkYXRhKSB7XG4gICAgdmFyIF90aGlzMTUgPSB0aGlzO1xuICAgIHZhciB3cmFwcGVkQ2FsbGJhY2sgPSB0aGlzLnBvb2wud3JhcFJlZnJlc2hTZXNzaW9uQ2FsbGJhY2sgPyB0aGlzLnBvb2wud3JhcFJlZnJlc2hTZXNzaW9uQ2FsbGJhY2soY2FsbGJhY2spIDogY2FsbGJhY2s7XG4gICAgdmFyIGF1dGhQYXJhbWV0ZXJzID0ge307XG4gICAgYXV0aFBhcmFtZXRlcnMuUkVGUkVTSF9UT0tFTiA9IHJlZnJlc2hUb2tlbi5nZXRUb2tlbigpO1xuICAgIHZhciBrZXlQcmVmaXggPSBcIkNvZ25pdG9JZGVudGl0eVNlcnZpY2VQcm92aWRlci5cIiArIHRoaXMucG9vbC5nZXRDbGllbnRJZCgpO1xuICAgIHZhciBsYXN0VXNlcktleSA9IGtleVByZWZpeCArIFwiLkxhc3RBdXRoVXNlclwiO1xuICAgIGlmICh0aGlzLnN0b3JhZ2UuZ2V0SXRlbShsYXN0VXNlcktleSkpIHtcbiAgICAgIHRoaXMudXNlcm5hbWUgPSB0aGlzLnN0b3JhZ2UuZ2V0SXRlbShsYXN0VXNlcktleSk7XG4gICAgICB2YXIgZGV2aWNlS2V5S2V5ID0ga2V5UHJlZml4ICsgXCIuXCIgKyB0aGlzLnVzZXJuYW1lICsgXCIuZGV2aWNlS2V5XCI7XG4gICAgICB0aGlzLmRldmljZUtleSA9IHRoaXMuc3RvcmFnZS5nZXRJdGVtKGRldmljZUtleUtleSk7XG4gICAgICBhdXRoUGFyYW1ldGVycy5ERVZJQ0VfS0VZID0gdGhpcy5kZXZpY2VLZXk7XG4gICAgfVxuICAgIHZhciBqc29uUmVxID0ge1xuICAgICAgQ2xpZW50SWQ6IHRoaXMucG9vbC5nZXRDbGllbnRJZCgpLFxuICAgICAgQXV0aEZsb3c6ICdSRUZSRVNIX1RPS0VOX0FVVEgnLFxuICAgICAgQXV0aFBhcmFtZXRlcnM6IGF1dGhQYXJhbWV0ZXJzLFxuICAgICAgQ2xpZW50TWV0YWRhdGE6IGNsaWVudE1ldGFkYXRhXG4gICAgfTtcbiAgICBpZiAodGhpcy5nZXRVc2VyQ29udGV4dERhdGEoKSkge1xuICAgICAganNvblJlcS5Vc2VyQ29udGV4dERhdGEgPSB0aGlzLmdldFVzZXJDb250ZXh0RGF0YSgpO1xuICAgIH1cbiAgICB0aGlzLmNsaWVudC5yZXF1ZXN0KCdJbml0aWF0ZUF1dGgnLCBqc29uUmVxLCBmdW5jdGlvbiAoZXJyLCBhdXRoUmVzdWx0KSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIGlmIChlcnIuY29kZSA9PT0gJ05vdEF1dGhvcml6ZWRFeGNlcHRpb24nKSB7XG4gICAgICAgICAgX3RoaXMxNS5jbGVhckNhY2hlZFVzZXIoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JhcHBlZENhbGxiYWNrKGVyciwgbnVsbCk7XG4gICAgICB9XG4gICAgICBpZiAoYXV0aFJlc3VsdCkge1xuICAgICAgICB2YXIgYXV0aGVudGljYXRpb25SZXN1bHQgPSBhdXRoUmVzdWx0LkF1dGhlbnRpY2F0aW9uUmVzdWx0O1xuICAgICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhdXRoZW50aWNhdGlvblJlc3VsdCwgJ1JlZnJlc2hUb2tlbicpKSB7XG4gICAgICAgICAgYXV0aGVudGljYXRpb25SZXN1bHQuUmVmcmVzaFRva2VuID0gcmVmcmVzaFRva2VuLmdldFRva2VuKCk7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMxNS5zaWduSW5Vc2VyU2Vzc2lvbiA9IF90aGlzMTUuZ2V0Q29nbml0b1VzZXJTZXNzaW9uKGF1dGhlbnRpY2F0aW9uUmVzdWx0KTtcbiAgICAgICAgX3RoaXMxNS5jYWNoZVRva2VucygpO1xuICAgICAgICByZXR1cm4gd3JhcHBlZENhbGxiYWNrKG51bGwsIF90aGlzMTUuc2lnbkluVXNlclNlc3Npb24pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGlzIHVzZWQgdG8gc2F2ZSB0aGUgc2Vzc2lvbiB0b2tlbnMgdG8gbG9jYWwgc3RvcmFnZVxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovO1xuICBfcHJvdG8uY2FjaGVUb2tlbnMgPSBmdW5jdGlvbiBjYWNoZVRva2VucygpIHtcbiAgICB2YXIga2V5UHJlZml4ID0gXCJDb2duaXRvSWRlbnRpdHlTZXJ2aWNlUHJvdmlkZXIuXCIgKyB0aGlzLnBvb2wuZ2V0Q2xpZW50SWQoKTtcbiAgICB2YXIgaWRUb2tlbktleSA9IGtleVByZWZpeCArIFwiLlwiICsgdGhpcy51c2VybmFtZSArIFwiLmlkVG9rZW5cIjtcbiAgICB2YXIgYWNjZXNzVG9rZW5LZXkgPSBrZXlQcmVmaXggKyBcIi5cIiArIHRoaXMudXNlcm5hbWUgKyBcIi5hY2Nlc3NUb2tlblwiO1xuICAgIHZhciByZWZyZXNoVG9rZW5LZXkgPSBrZXlQcmVmaXggKyBcIi5cIiArIHRoaXMudXNlcm5hbWUgKyBcIi5yZWZyZXNoVG9rZW5cIjtcbiAgICB2YXIgY2xvY2tEcmlmdEtleSA9IGtleVByZWZpeCArIFwiLlwiICsgdGhpcy51c2VybmFtZSArIFwiLmNsb2NrRHJpZnRcIjtcbiAgICB2YXIgbGFzdFVzZXJLZXkgPSBrZXlQcmVmaXggKyBcIi5MYXN0QXV0aFVzZXJcIjtcbiAgICB0aGlzLnN0b3JhZ2Uuc2V0SXRlbShpZFRva2VuS2V5LCB0aGlzLnNpZ25JblVzZXJTZXNzaW9uLmdldElkVG9rZW4oKS5nZXRKd3RUb2tlbigpKTtcbiAgICB0aGlzLnN0b3JhZ2Uuc2V0SXRlbShhY2Nlc3NUb2tlbktleSwgdGhpcy5zaWduSW5Vc2VyU2Vzc2lvbi5nZXRBY2Nlc3NUb2tlbigpLmdldEp3dFRva2VuKCkpO1xuICAgIHRoaXMuc3RvcmFnZS5zZXRJdGVtKHJlZnJlc2hUb2tlbktleSwgdGhpcy5zaWduSW5Vc2VyU2Vzc2lvbi5nZXRSZWZyZXNoVG9rZW4oKS5nZXRUb2tlbigpKTtcbiAgICB0aGlzLnN0b3JhZ2Uuc2V0SXRlbShjbG9ja0RyaWZ0S2V5LCBcIlwiICsgdGhpcy5zaWduSW5Vc2VyU2Vzc2lvbi5nZXRDbG9ja0RyaWZ0KCkpO1xuICAgIHRoaXMuc3RvcmFnZS5zZXRJdGVtKGxhc3RVc2VyS2V5LCB0aGlzLnVzZXJuYW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGlzIHRvIGNhY2hlIHVzZXIgZGF0YVxuICAgKi87XG4gIF9wcm90by5jYWNoZVVzZXJEYXRhID0gZnVuY3Rpb24gY2FjaGVVc2VyRGF0YSh1c2VyRGF0YSkge1xuICAgIHRoaXMuc3RvcmFnZS5zZXRJdGVtKHRoaXMudXNlckRhdGFLZXksIEpTT04uc3RyaW5naWZ5KHVzZXJEYXRhKSk7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBpcyB0byByZW1vdmUgY2FjaGVkIHVzZXIgZGF0YVxuICAgKi87XG4gIF9wcm90by5jbGVhckNhY2hlZFVzZXJEYXRhID0gZnVuY3Rpb24gY2xlYXJDYWNoZWRVc2VyRGF0YSgpIHtcbiAgICB0aGlzLnN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLnVzZXJEYXRhS2V5KTtcbiAgfTtcbiAgX3Byb3RvLmNsZWFyQ2FjaGVkVXNlciA9IGZ1bmN0aW9uIGNsZWFyQ2FjaGVkVXNlcigpIHtcbiAgICB0aGlzLmNsZWFyQ2FjaGVkVG9rZW5zKCk7XG4gICAgdGhpcy5jbGVhckNhY2hlZFVzZXJEYXRhKCk7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBpcyB1c2VkIHRvIGNhY2hlIHRoZSBkZXZpY2Uga2V5IGFuZCBkZXZpY2UgZ3JvdXAgYW5kIGRldmljZSBwYXNzd29yZFxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovO1xuICBfcHJvdG8uY2FjaGVEZXZpY2VLZXlBbmRQYXNzd29yZCA9IGZ1bmN0aW9uIGNhY2hlRGV2aWNlS2V5QW5kUGFzc3dvcmQoKSB7XG4gICAgdmFyIGtleVByZWZpeCA9IFwiQ29nbml0b0lkZW50aXR5U2VydmljZVByb3ZpZGVyLlwiICsgdGhpcy5wb29sLmdldENsaWVudElkKCkgKyBcIi5cIiArIHRoaXMudXNlcm5hbWU7XG4gICAgdmFyIGRldmljZUtleUtleSA9IGtleVByZWZpeCArIFwiLmRldmljZUtleVwiO1xuICAgIHZhciByYW5kb21QYXNzd29yZEtleSA9IGtleVByZWZpeCArIFwiLnJhbmRvbVBhc3N3b3JkS2V5XCI7XG4gICAgdmFyIGRldmljZUdyb3VwS2V5S2V5ID0ga2V5UHJlZml4ICsgXCIuZGV2aWNlR3JvdXBLZXlcIjtcbiAgICB0aGlzLnN0b3JhZ2Uuc2V0SXRlbShkZXZpY2VLZXlLZXksIHRoaXMuZGV2aWNlS2V5KTtcbiAgICB0aGlzLnN0b3JhZ2Uuc2V0SXRlbShyYW5kb21QYXNzd29yZEtleSwgdGhpcy5yYW5kb21QYXNzd29yZCk7XG4gICAgdGhpcy5zdG9yYWdlLnNldEl0ZW0oZGV2aWNlR3JvdXBLZXlLZXksIHRoaXMuZGV2aWNlR3JvdXBLZXkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgdXNlZCB0byBnZXQgY3VycmVudCBkZXZpY2Uga2V5IGFuZCBkZXZpY2UgZ3JvdXAgYW5kIGRldmljZSBwYXNzd29yZFxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovO1xuICBfcHJvdG8uZ2V0Q2FjaGVkRGV2aWNlS2V5QW5kUGFzc3dvcmQgPSBmdW5jdGlvbiBnZXRDYWNoZWREZXZpY2VLZXlBbmRQYXNzd29yZCgpIHtcbiAgICB2YXIga2V5UHJlZml4ID0gXCJDb2duaXRvSWRlbnRpdHlTZXJ2aWNlUHJvdmlkZXIuXCIgKyB0aGlzLnBvb2wuZ2V0Q2xpZW50SWQoKSArIFwiLlwiICsgdGhpcy51c2VybmFtZTtcbiAgICB2YXIgZGV2aWNlS2V5S2V5ID0ga2V5UHJlZml4ICsgXCIuZGV2aWNlS2V5XCI7XG4gICAgdmFyIHJhbmRvbVBhc3N3b3JkS2V5ID0ga2V5UHJlZml4ICsgXCIucmFuZG9tUGFzc3dvcmRLZXlcIjtcbiAgICB2YXIgZGV2aWNlR3JvdXBLZXlLZXkgPSBrZXlQcmVmaXggKyBcIi5kZXZpY2VHcm91cEtleVwiO1xuICAgIGlmICh0aGlzLnN0b3JhZ2UuZ2V0SXRlbShkZXZpY2VLZXlLZXkpKSB7XG4gICAgICB0aGlzLmRldmljZUtleSA9IHRoaXMuc3RvcmFnZS5nZXRJdGVtKGRldmljZUtleUtleSk7XG4gICAgICB0aGlzLnJhbmRvbVBhc3N3b3JkID0gdGhpcy5zdG9yYWdlLmdldEl0ZW0ocmFuZG9tUGFzc3dvcmRLZXkpO1xuICAgICAgdGhpcy5kZXZpY2VHcm91cEtleSA9IHRoaXMuc3RvcmFnZS5nZXRJdGVtKGRldmljZUdyb3VwS2V5S2V5KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBpcyB1c2VkIHRvIGNsZWFyIHRoZSBkZXZpY2Uga2V5IGluZm8gZnJvbSBsb2NhbCBzdG9yYWdlXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi87XG4gIF9wcm90by5jbGVhckNhY2hlZERldmljZUtleUFuZFBhc3N3b3JkID0gZnVuY3Rpb24gY2xlYXJDYWNoZWREZXZpY2VLZXlBbmRQYXNzd29yZCgpIHtcbiAgICB2YXIga2V5UHJlZml4ID0gXCJDb2duaXRvSWRlbnRpdHlTZXJ2aWNlUHJvdmlkZXIuXCIgKyB0aGlzLnBvb2wuZ2V0Q2xpZW50SWQoKSArIFwiLlwiICsgdGhpcy51c2VybmFtZTtcbiAgICB2YXIgZGV2aWNlS2V5S2V5ID0ga2V5UHJlZml4ICsgXCIuZGV2aWNlS2V5XCI7XG4gICAgdmFyIHJhbmRvbVBhc3N3b3JkS2V5ID0ga2V5UHJlZml4ICsgXCIucmFuZG9tUGFzc3dvcmRLZXlcIjtcbiAgICB2YXIgZGV2aWNlR3JvdXBLZXlLZXkgPSBrZXlQcmVmaXggKyBcIi5kZXZpY2VHcm91cEtleVwiO1xuICAgIHRoaXMuc3RvcmFnZS5yZW1vdmVJdGVtKGRldmljZUtleUtleSk7XG4gICAgdGhpcy5zdG9yYWdlLnJlbW92ZUl0ZW0ocmFuZG9tUGFzc3dvcmRLZXkpO1xuICAgIHRoaXMuc3RvcmFnZS5yZW1vdmVJdGVtKGRldmljZUdyb3VwS2V5S2V5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGlzIHVzZWQgdG8gY2xlYXIgdGhlIHNlc3Npb24gdG9rZW5zIGZyb20gbG9jYWwgc3RvcmFnZVxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovO1xuICBfcHJvdG8uY2xlYXJDYWNoZWRUb2tlbnMgPSBmdW5jdGlvbiBjbGVhckNhY2hlZFRva2VucygpIHtcbiAgICB2YXIga2V5UHJlZml4ID0gXCJDb2duaXRvSWRlbnRpdHlTZXJ2aWNlUHJvdmlkZXIuXCIgKyB0aGlzLnBvb2wuZ2V0Q2xpZW50SWQoKTtcbiAgICB2YXIgaWRUb2tlbktleSA9IGtleVByZWZpeCArIFwiLlwiICsgdGhpcy51c2VybmFtZSArIFwiLmlkVG9rZW5cIjtcbiAgICB2YXIgYWNjZXNzVG9rZW5LZXkgPSBrZXlQcmVmaXggKyBcIi5cIiArIHRoaXMudXNlcm5hbWUgKyBcIi5hY2Nlc3NUb2tlblwiO1xuICAgIHZhciByZWZyZXNoVG9rZW5LZXkgPSBrZXlQcmVmaXggKyBcIi5cIiArIHRoaXMudXNlcm5hbWUgKyBcIi5yZWZyZXNoVG9rZW5cIjtcbiAgICB2YXIgbGFzdFVzZXJLZXkgPSBrZXlQcmVmaXggKyBcIi5MYXN0QXV0aFVzZXJcIjtcbiAgICB2YXIgY2xvY2tEcmlmdEtleSA9IGtleVByZWZpeCArIFwiLlwiICsgdGhpcy51c2VybmFtZSArIFwiLmNsb2NrRHJpZnRcIjtcbiAgICB0aGlzLnN0b3JhZ2UucmVtb3ZlSXRlbShpZFRva2VuS2V5KTtcbiAgICB0aGlzLnN0b3JhZ2UucmVtb3ZlSXRlbShhY2Nlc3NUb2tlbktleSk7XG4gICAgdGhpcy5zdG9yYWdlLnJlbW92ZUl0ZW0ocmVmcmVzaFRva2VuS2V5KTtcbiAgICB0aGlzLnN0b3JhZ2UucmVtb3ZlSXRlbShsYXN0VXNlcktleSk7XG4gICAgdGhpcy5zdG9yYWdlLnJlbW92ZUl0ZW0oY2xvY2tEcmlmdEtleSk7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBpcyB1c2VkIHRvIGJ1aWxkIGEgdXNlciBzZXNzaW9uIGZyb20gdG9rZW5zIHJldHJpZXZlZCBpbiB0aGUgYXV0aGVudGljYXRpb24gcmVzdWx0XG4gICAqIEBwYXJhbSB7b2JqZWN0fSBhdXRoUmVzdWx0IFN1Y2Nlc3NmdWwgYXV0aCByZXNwb25zZSBmcm9tIHNlcnZlci5cbiAgICogQHJldHVybnMge0NvZ25pdG9Vc2VyU2Vzc2lvbn0gVGhlIG5ldyB1c2VyIHNlc3Npb24uXG4gICAqIEBwcml2YXRlXG4gICAqLztcbiAgX3Byb3RvLmdldENvZ25pdG9Vc2VyU2Vzc2lvbiA9IGZ1bmN0aW9uIGdldENvZ25pdG9Vc2VyU2Vzc2lvbihhdXRoUmVzdWx0KSB7XG4gICAgdmFyIGlkVG9rZW4gPSBuZXcgQ29nbml0b0lkVG9rZW4oYXV0aFJlc3VsdCk7XG4gICAgdmFyIGFjY2Vzc1Rva2VuID0gbmV3IENvZ25pdG9BY2Nlc3NUb2tlbihhdXRoUmVzdWx0KTtcbiAgICB2YXIgcmVmcmVzaFRva2VuID0gbmV3IENvZ25pdG9SZWZyZXNoVG9rZW4oYXV0aFJlc3VsdCk7XG4gICAgdmFyIHNlc3Npb25EYXRhID0ge1xuICAgICAgSWRUb2tlbjogaWRUb2tlbixcbiAgICAgIEFjY2Vzc1Rva2VuOiBhY2Nlc3NUb2tlbixcbiAgICAgIFJlZnJlc2hUb2tlbjogcmVmcmVzaFRva2VuXG4gICAgfTtcbiAgICByZXR1cm4gbmV3IENvZ25pdG9Vc2VyU2Vzc2lvbihzZXNzaW9uRGF0YSk7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBpcyB1c2VkIHRvIGluaXRpYXRlIGEgZm9yZ290IHBhc3N3b3JkIHJlcXVlc3RcbiAgICogQHBhcmFtIHtvYmplY3R9IGNhbGxiYWNrIFJlc3VsdCBjYWxsYmFjayBtYXAuXG4gICAqIEBwYXJhbSB7b25GYWlsdXJlfSBjYWxsYmFjay5vbkZhaWx1cmUgQ2FsbGVkIG9uIGFueSBlcnJvci5cbiAgICogQHBhcmFtIHtpbnB1dFZlcmlmaWNhdGlvbkNvZGU/fSBjYWxsYmFjay5pbnB1dFZlcmlmaWNhdGlvbkNvZGVcbiAgICogICAgT3B0aW9uYWwgY2FsbGJhY2sgcmFpc2VkIGluc3RlYWQgb2Ygb25TdWNjZXNzIHdpdGggcmVzcG9uc2UgZGF0YS5cbiAgICogQHBhcmFtIHtvblN1Y2Nlc3N9IGNhbGxiYWNrLm9uU3VjY2VzcyBDYWxsZWQgb24gc3VjY2Vzcy5cbiAgICogQHBhcmFtIHtDbGllbnRNZXRhZGF0YX0gY2xpZW50TWV0YWRhdGEgb2JqZWN0IHdoaWNoIGlzIHBhc3NlZCBmcm9tIGNsaWVudCB0byBDb2duaXRvIExhbWJkYSB0cmlnZ2VyXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi87XG4gIF9wcm90by5mb3Jnb3RQYXNzd29yZCA9IGZ1bmN0aW9uIGZvcmdvdFBhc3N3b3JkKGNhbGxiYWNrLCBjbGllbnRNZXRhZGF0YSkge1xuICAgIHZhciBqc29uUmVxID0ge1xuICAgICAgQ2xpZW50SWQ6IHRoaXMucG9vbC5nZXRDbGllbnRJZCgpLFxuICAgICAgVXNlcm5hbWU6IHRoaXMudXNlcm5hbWUsXG4gICAgICBDbGllbnRNZXRhZGF0YTogY2xpZW50TWV0YWRhdGFcbiAgICB9O1xuICAgIGlmICh0aGlzLmdldFVzZXJDb250ZXh0RGF0YSgpKSB7XG4gICAgICBqc29uUmVxLlVzZXJDb250ZXh0RGF0YSA9IHRoaXMuZ2V0VXNlckNvbnRleHREYXRhKCk7XG4gICAgfVxuICAgIHRoaXMuY2xpZW50LnJlcXVlc3QoJ0ZvcmdvdFBhc3N3b3JkJywganNvblJlcSwgZnVuY3Rpb24gKGVyciwgZGF0YSkge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sub25GYWlsdXJlKGVycik7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrLmlucHV0VmVyaWZpY2F0aW9uQ29kZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2suaW5wdXRWZXJpZmljYXRpb25Db2RlKGRhdGEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNhbGxiYWNrLm9uU3VjY2VzcyhkYXRhKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGlzIHVzZWQgdG8gY29uZmlybSBhIG5ldyBwYXNzd29yZCB1c2luZyBhIGNvbmZpcm1hdGlvbkNvZGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpcm1hdGlvbkNvZGUgQ29kZSBlbnRlcmVkIGJ5IHVzZXIuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZXdQYXNzd29yZCBDb25maXJtIG5ldyBwYXNzd29yZC5cbiAgICogQHBhcmFtIHtvYmplY3R9IGNhbGxiYWNrIFJlc3VsdCBjYWxsYmFjayBtYXAuXG4gICAqIEBwYXJhbSB7b25GYWlsdXJlfSBjYWxsYmFjay5vbkZhaWx1cmUgQ2FsbGVkIG9uIGFueSBlcnJvci5cbiAgICogQHBhcmFtIHtvblN1Y2Nlc3M8dm9pZD59IGNhbGxiYWNrLm9uU3VjY2VzcyBDYWxsZWQgb24gc3VjY2Vzcy5cbiAgICogQHBhcmFtIHtDbGllbnRNZXRhZGF0YX0gY2xpZW50TWV0YWRhdGEgb2JqZWN0IHdoaWNoIGlzIHBhc3NlZCBmcm9tIGNsaWVudCB0byBDb2duaXRvIExhbWJkYSB0cmlnZ2VyXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi87XG4gIF9wcm90by5jb25maXJtUGFzc3dvcmQgPSBmdW5jdGlvbiBjb25maXJtUGFzc3dvcmQoY29uZmlybWF0aW9uQ29kZSwgbmV3UGFzc3dvcmQsIGNhbGxiYWNrLCBjbGllbnRNZXRhZGF0YSkge1xuICAgIHZhciBqc29uUmVxID0ge1xuICAgICAgQ2xpZW50SWQ6IHRoaXMucG9vbC5nZXRDbGllbnRJZCgpLFxuICAgICAgVXNlcm5hbWU6IHRoaXMudXNlcm5hbWUsXG4gICAgICBDb25maXJtYXRpb25Db2RlOiBjb25maXJtYXRpb25Db2RlLFxuICAgICAgUGFzc3dvcmQ6IG5ld1Bhc3N3b3JkLFxuICAgICAgQ2xpZW50TWV0YWRhdGE6IGNsaWVudE1ldGFkYXRhXG4gICAgfTtcbiAgICBpZiAodGhpcy5nZXRVc2VyQ29udGV4dERhdGEoKSkge1xuICAgICAganNvblJlcS5Vc2VyQ29udGV4dERhdGEgPSB0aGlzLmdldFVzZXJDb250ZXh0RGF0YSgpO1xuICAgIH1cbiAgICB0aGlzLmNsaWVudC5yZXF1ZXN0KCdDb25maXJtRm9yZ290UGFzc3dvcmQnLCBqc29uUmVxLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjay5vbkZhaWx1cmUoZXJyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjYWxsYmFjay5vblN1Y2Nlc3MoJ1NVQ0NFU1MnKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGlzIHVzZWQgdG8gaW5pdGlhdGUgYW4gYXR0cmlidXRlIGNvbmZpcm1hdGlvbiByZXF1ZXN0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGVOYW1lIFVzZXIgYXR0cmlidXRlIHRoYXQgbmVlZHMgY29uZmlybWF0aW9uLlxuICAgKiBAcGFyYW0ge29iamVjdH0gY2FsbGJhY2sgUmVzdWx0IGNhbGxiYWNrIG1hcC5cbiAgICogQHBhcmFtIHtvbkZhaWx1cmV9IGNhbGxiYWNrLm9uRmFpbHVyZSBDYWxsZWQgb24gYW55IGVycm9yLlxuICAgKiBAcGFyYW0ge2lucHV0VmVyaWZpY2F0aW9uQ29kZX0gY2FsbGJhY2suaW5wdXRWZXJpZmljYXRpb25Db2RlIENhbGxlZCBvbiBzdWNjZXNzLlxuICAgKiBAcGFyYW0ge0NsaWVudE1ldGFkYXRhfSBjbGllbnRNZXRhZGF0YSBvYmplY3Qgd2hpY2ggaXMgcGFzc2VkIGZyb20gY2xpZW50IHRvIENvZ25pdG8gTGFtYmRhIHRyaWdnZXJcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqLztcbiAgX3Byb3RvLmdldEF0dHJpYnV0ZVZlcmlmaWNhdGlvbkNvZGUgPSBmdW5jdGlvbiBnZXRBdHRyaWJ1dGVWZXJpZmljYXRpb25Db2RlKGF0dHJpYnV0ZU5hbWUsIGNhbGxiYWNrLCBjbGllbnRNZXRhZGF0YSkge1xuICAgIGlmICh0aGlzLnNpZ25JblVzZXJTZXNzaW9uID09IG51bGwgfHwgIXRoaXMuc2lnbkluVXNlclNlc3Npb24uaXNWYWxpZCgpKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2sub25GYWlsdXJlKG5ldyBFcnJvcignVXNlciBpcyBub3QgYXV0aGVudGljYXRlZCcpKTtcbiAgICB9XG4gICAgdGhpcy5jbGllbnQucmVxdWVzdCgnR2V0VXNlckF0dHJpYnV0ZVZlcmlmaWNhdGlvbkNvZGUnLCB7XG4gICAgICBBdHRyaWJ1dGVOYW1lOiBhdHRyaWJ1dGVOYW1lLFxuICAgICAgQWNjZXNzVG9rZW46IHRoaXMuc2lnbkluVXNlclNlc3Npb24uZ2V0QWNjZXNzVG9rZW4oKS5nZXRKd3RUb2tlbigpLFxuICAgICAgQ2xpZW50TWV0YWRhdGE6IGNsaWVudE1ldGFkYXRhXG4gICAgfSwgZnVuY3Rpb24gKGVyciwgZGF0YSkge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sub25GYWlsdXJlKGVycik7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrLmlucHV0VmVyaWZpY2F0aW9uQ29kZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2suaW5wdXRWZXJpZmljYXRpb25Db2RlKGRhdGEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNhbGxiYWNrLm9uU3VjY2VzcygnU1VDQ0VTUycpO1xuICAgIH0pO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBpcyB1c2VkIHRvIGNvbmZpcm0gYW4gYXR0cmlidXRlIHVzaW5nIGEgY29uZmlybWF0aW9uIGNvZGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGF0dHJpYnV0ZU5hbWUgQXR0cmlidXRlIGJlaW5nIGNvbmZpcm1lZC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpcm1hdGlvbkNvZGUgQ29kZSBlbnRlcmVkIGJ5IHVzZXIuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBjYWxsYmFjayBSZXN1bHQgY2FsbGJhY2sgbWFwLlxuICAgKiBAcGFyYW0ge29uRmFpbHVyZX0gY2FsbGJhY2sub25GYWlsdXJlIENhbGxlZCBvbiBhbnkgZXJyb3IuXG4gICAqIEBwYXJhbSB7b25TdWNjZXNzPHN0cmluZz59IGNhbGxiYWNrLm9uU3VjY2VzcyBDYWxsZWQgb24gc3VjY2Vzcy5cbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqLztcbiAgX3Byb3RvLnZlcmlmeUF0dHJpYnV0ZSA9IGZ1bmN0aW9uIHZlcmlmeUF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lLCBjb25maXJtYXRpb25Db2RlLCBjYWxsYmFjaykge1xuICAgIGlmICh0aGlzLnNpZ25JblVzZXJTZXNzaW9uID09IG51bGwgfHwgIXRoaXMuc2lnbkluVXNlclNlc3Npb24uaXNWYWxpZCgpKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2sub25GYWlsdXJlKG5ldyBFcnJvcignVXNlciBpcyBub3QgYXV0aGVudGljYXRlZCcpKTtcbiAgICB9XG4gICAgdGhpcy5jbGllbnQucmVxdWVzdCgnVmVyaWZ5VXNlckF0dHJpYnV0ZScsIHtcbiAgICAgIEF0dHJpYnV0ZU5hbWU6IGF0dHJpYnV0ZU5hbWUsXG4gICAgICBDb2RlOiBjb25maXJtYXRpb25Db2RlLFxuICAgICAgQWNjZXNzVG9rZW46IHRoaXMuc2lnbkluVXNlclNlc3Npb24uZ2V0QWNjZXNzVG9rZW4oKS5nZXRKd3RUb2tlbigpXG4gICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sub25GYWlsdXJlKGVycik7XG4gICAgICB9XG4gICAgICByZXR1cm4gY2FsbGJhY2sub25TdWNjZXNzKCdTVUNDRVNTJyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGlzIHVzZWQgdG8gZ2V0IHRoZSBkZXZpY2UgaW5mb3JtYXRpb24gdXNpbmcgdGhlIGN1cnJlbnQgZGV2aWNlIGtleVxuICAgKiBAcGFyYW0ge29iamVjdH0gY2FsbGJhY2sgUmVzdWx0IGNhbGxiYWNrIG1hcC5cbiAgICogQHBhcmFtIHtvbkZhaWx1cmV9IGNhbGxiYWNrLm9uRmFpbHVyZSBDYWxsZWQgb24gYW55IGVycm9yLlxuICAgKiBAcGFyYW0ge29uU3VjY2VzczwqPn0gY2FsbGJhY2sub25TdWNjZXNzIENhbGxlZCBvbiBzdWNjZXNzIHdpdGggZGV2aWNlIGRhdGEuXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi87XG4gIF9wcm90by5nZXREZXZpY2UgPSBmdW5jdGlvbiBnZXREZXZpY2UoY2FsbGJhY2spIHtcbiAgICBpZiAodGhpcy5zaWduSW5Vc2VyU2Vzc2lvbiA9PSBudWxsIHx8ICF0aGlzLnNpZ25JblVzZXJTZXNzaW9uLmlzVmFsaWQoKSkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrLm9uRmFpbHVyZShuZXcgRXJyb3IoJ1VzZXIgaXMgbm90IGF1dGhlbnRpY2F0ZWQnKSk7XG4gICAgfVxuICAgIHRoaXMuY2xpZW50LnJlcXVlc3QoJ0dldERldmljZScsIHtcbiAgICAgIEFjY2Vzc1Rva2VuOiB0aGlzLnNpZ25JblVzZXJTZXNzaW9uLmdldEFjY2Vzc1Rva2VuKCkuZ2V0Snd0VG9rZW4oKSxcbiAgICAgIERldmljZUtleTogdGhpcy5kZXZpY2VLZXlcbiAgICB9LCBmdW5jdGlvbiAoZXJyLCBkYXRhKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjay5vbkZhaWx1cmUoZXJyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjYWxsYmFjay5vblN1Y2Nlc3MoZGF0YSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGlzIHVzZWQgdG8gZm9yZ2V0IGEgc3BlY2lmaWMgZGV2aWNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkZXZpY2VLZXkgRGV2aWNlIGtleS5cbiAgICogQHBhcmFtIHtvYmplY3R9IGNhbGxiYWNrIFJlc3VsdCBjYWxsYmFjayBtYXAuXG4gICAqIEBwYXJhbSB7b25GYWlsdXJlfSBjYWxsYmFjay5vbkZhaWx1cmUgQ2FsbGVkIG9uIGFueSBlcnJvci5cbiAgICogQHBhcmFtIHtvblN1Y2Nlc3M8c3RyaW5nPn0gY2FsbGJhY2sub25TdWNjZXNzIENhbGxlZCBvbiBzdWNjZXNzLlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovO1xuICBfcHJvdG8uZm9yZ2V0U3BlY2lmaWNEZXZpY2UgPSBmdW5jdGlvbiBmb3JnZXRTcGVjaWZpY0RldmljZShkZXZpY2VLZXksIGNhbGxiYWNrKSB7XG4gICAgaWYgKHRoaXMuc2lnbkluVXNlclNlc3Npb24gPT0gbnVsbCB8fCAhdGhpcy5zaWduSW5Vc2VyU2Vzc2lvbi5pc1ZhbGlkKCkpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjay5vbkZhaWx1cmUobmV3IEVycm9yKCdVc2VyIGlzIG5vdCBhdXRoZW50aWNhdGVkJykpO1xuICAgIH1cbiAgICB0aGlzLmNsaWVudC5yZXF1ZXN0KCdGb3JnZXREZXZpY2UnLCB7XG4gICAgICBBY2Nlc3NUb2tlbjogdGhpcy5zaWduSW5Vc2VyU2Vzc2lvbi5nZXRBY2Nlc3NUb2tlbigpLmdldEp3dFRva2VuKCksXG4gICAgICBEZXZpY2VLZXk6IGRldmljZUtleVxuICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrLm9uRmFpbHVyZShlcnIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNhbGxiYWNrLm9uU3VjY2VzcygnU1VDQ0VTUycpO1xuICAgIH0pO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBpcyB1c2VkIHRvIGZvcmdldCB0aGUgY3VycmVudCBkZXZpY2VcbiAgICogQHBhcmFtIHtvYmplY3R9IGNhbGxiYWNrIFJlc3VsdCBjYWxsYmFjayBtYXAuXG4gICAqIEBwYXJhbSB7b25GYWlsdXJlfSBjYWxsYmFjay5vbkZhaWx1cmUgQ2FsbGVkIG9uIGFueSBlcnJvci5cbiAgICogQHBhcmFtIHtvblN1Y2Nlc3M8c3RyaW5nPn0gY2FsbGJhY2sub25TdWNjZXNzIENhbGxlZCBvbiBzdWNjZXNzLlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovO1xuICBfcHJvdG8uZm9yZ2V0RGV2aWNlID0gZnVuY3Rpb24gZm9yZ2V0RGV2aWNlKGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzMTYgPSB0aGlzO1xuICAgIHRoaXMuZm9yZ2V0U3BlY2lmaWNEZXZpY2UodGhpcy5kZXZpY2VLZXksIHtcbiAgICAgIG9uRmFpbHVyZTogY2FsbGJhY2sub25GYWlsdXJlLFxuICAgICAgb25TdWNjZXNzOiBmdW5jdGlvbiBvblN1Y2Nlc3MocmVzdWx0KSB7XG4gICAgICAgIF90aGlzMTYuZGV2aWNlS2V5ID0gbnVsbDtcbiAgICAgICAgX3RoaXMxNi5kZXZpY2VHcm91cEtleSA9IG51bGw7XG4gICAgICAgIF90aGlzMTYucmFuZG9tUGFzc3dvcmQgPSBudWxsO1xuICAgICAgICBfdGhpczE2LmNsZWFyQ2FjaGVkRGV2aWNlS2V5QW5kUGFzc3dvcmQoKTtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrLm9uU3VjY2VzcyhyZXN1bHQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgdXNlZCB0byBzZXQgdGhlIGRldmljZSBzdGF0dXMgYXMgcmVtZW1iZXJlZFxuICAgKiBAcGFyYW0ge29iamVjdH0gY2FsbGJhY2sgUmVzdWx0IGNhbGxiYWNrIG1hcC5cbiAgICogQHBhcmFtIHtvbkZhaWx1cmV9IGNhbGxiYWNrLm9uRmFpbHVyZSBDYWxsZWQgb24gYW55IGVycm9yLlxuICAgKiBAcGFyYW0ge29uU3VjY2VzczxzdHJpbmc+fSBjYWxsYmFjay5vblN1Y2Nlc3MgQ2FsbGVkIG9uIHN1Y2Nlc3MuXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi87XG4gIF9wcm90by5zZXREZXZpY2VTdGF0dXNSZW1lbWJlcmVkID0gZnVuY3Rpb24gc2V0RGV2aWNlU3RhdHVzUmVtZW1iZXJlZChjYWxsYmFjaykge1xuICAgIGlmICh0aGlzLnNpZ25JblVzZXJTZXNzaW9uID09IG51bGwgfHwgIXRoaXMuc2lnbkluVXNlclNlc3Npb24uaXNWYWxpZCgpKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2sub25GYWlsdXJlKG5ldyBFcnJvcignVXNlciBpcyBub3QgYXV0aGVudGljYXRlZCcpKTtcbiAgICB9XG4gICAgdGhpcy5jbGllbnQucmVxdWVzdCgnVXBkYXRlRGV2aWNlU3RhdHVzJywge1xuICAgICAgQWNjZXNzVG9rZW46IHRoaXMuc2lnbkluVXNlclNlc3Npb24uZ2V0QWNjZXNzVG9rZW4oKS5nZXRKd3RUb2tlbigpLFxuICAgICAgRGV2aWNlS2V5OiB0aGlzLmRldmljZUtleSxcbiAgICAgIERldmljZVJlbWVtYmVyZWRTdGF0dXM6ICdyZW1lbWJlcmVkJ1xuICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrLm9uRmFpbHVyZShlcnIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNhbGxiYWNrLm9uU3VjY2VzcygnU1VDQ0VTUycpO1xuICAgIH0pO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBpcyB1c2VkIHRvIHNldCB0aGUgZGV2aWNlIHN0YXR1cyBhcyBub3QgcmVtZW1iZXJlZFxuICAgKiBAcGFyYW0ge29iamVjdH0gY2FsbGJhY2sgUmVzdWx0IGNhbGxiYWNrIG1hcC5cbiAgICogQHBhcmFtIHtvbkZhaWx1cmV9IGNhbGxiYWNrLm9uRmFpbHVyZSBDYWxsZWQgb24gYW55IGVycm9yLlxuICAgKiBAcGFyYW0ge29uU3VjY2VzczxzdHJpbmc+fSBjYWxsYmFjay5vblN1Y2Nlc3MgQ2FsbGVkIG9uIHN1Y2Nlc3MuXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi87XG4gIF9wcm90by5zZXREZXZpY2VTdGF0dXNOb3RSZW1lbWJlcmVkID0gZnVuY3Rpb24gc2V0RGV2aWNlU3RhdHVzTm90UmVtZW1iZXJlZChjYWxsYmFjaykge1xuICAgIGlmICh0aGlzLnNpZ25JblVzZXJTZXNzaW9uID09IG51bGwgfHwgIXRoaXMuc2lnbkluVXNlclNlc3Npb24uaXNWYWxpZCgpKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2sub25GYWlsdXJlKG5ldyBFcnJvcignVXNlciBpcyBub3QgYXV0aGVudGljYXRlZCcpKTtcbiAgICB9XG4gICAgdGhpcy5jbGllbnQucmVxdWVzdCgnVXBkYXRlRGV2aWNlU3RhdHVzJywge1xuICAgICAgQWNjZXNzVG9rZW46IHRoaXMuc2lnbkluVXNlclNlc3Npb24uZ2V0QWNjZXNzVG9rZW4oKS5nZXRKd3RUb2tlbigpLFxuICAgICAgRGV2aWNlS2V5OiB0aGlzLmRldmljZUtleSxcbiAgICAgIERldmljZVJlbWVtYmVyZWRTdGF0dXM6ICdub3RfcmVtZW1iZXJlZCdcbiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjay5vbkZhaWx1cmUoZXJyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjYWxsYmFjay5vblN1Y2Nlc3MoJ1NVQ0NFU1MnKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgdXNlZCB0byBsaXN0IGFsbCBkZXZpY2VzIGZvciBhIHVzZXJcbiAgICpcbiAgICogQHBhcmFtIHtpbnR9IGxpbWl0IHRoZSBudW1iZXIgb2YgZGV2aWNlcyByZXR1cm5lZCBpbiBhIGNhbGxcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBudWxsfSBwYWdpbmF0aW9uVG9rZW4gdGhlIHBhZ2luYXRpb24gdG9rZW4gaW4gY2FzZSBhbnkgd2FzIHJldHVybmVkIGJlZm9yZVxuICAgKiBAcGFyYW0ge29iamVjdH0gY2FsbGJhY2sgUmVzdWx0IGNhbGxiYWNrIG1hcC5cbiAgICogQHBhcmFtIHtvbkZhaWx1cmV9IGNhbGxiYWNrLm9uRmFpbHVyZSBDYWxsZWQgb24gYW55IGVycm9yLlxuICAgKiBAcGFyYW0ge29uU3VjY2VzczwqPn0gY2FsbGJhY2sub25TdWNjZXNzIENhbGxlZCBvbiBzdWNjZXNzIHdpdGggZGV2aWNlIGxpc3QuXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi87XG4gIF9wcm90by5saXN0RGV2aWNlcyA9IGZ1bmN0aW9uIGxpc3REZXZpY2VzKGxpbWl0LCBwYWdpbmF0aW9uVG9rZW4sIGNhbGxiYWNrKSB7XG4gICAgaWYgKHRoaXMuc2lnbkluVXNlclNlc3Npb24gPT0gbnVsbCB8fCAhdGhpcy5zaWduSW5Vc2VyU2Vzc2lvbi5pc1ZhbGlkKCkpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjay5vbkZhaWx1cmUobmV3IEVycm9yKCdVc2VyIGlzIG5vdCBhdXRoZW50aWNhdGVkJykpO1xuICAgIH1cbiAgICB2YXIgcmVxdWVzdFBhcmFtcyA9IHtcbiAgICAgIEFjY2Vzc1Rva2VuOiB0aGlzLnNpZ25JblVzZXJTZXNzaW9uLmdldEFjY2Vzc1Rva2VuKCkuZ2V0Snd0VG9rZW4oKSxcbiAgICAgIExpbWl0OiBsaW1pdFxuICAgIH07XG4gICAgaWYgKHBhZ2luYXRpb25Ub2tlbikge1xuICAgICAgcmVxdWVzdFBhcmFtcy5QYWdpbmF0aW9uVG9rZW4gPSBwYWdpbmF0aW9uVG9rZW47XG4gICAgfVxuICAgIHRoaXMuY2xpZW50LnJlcXVlc3QoJ0xpc3REZXZpY2VzJywgcmVxdWVzdFBhcmFtcywgZnVuY3Rpb24gKGVyciwgZGF0YSkge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sub25GYWlsdXJlKGVycik7XG4gICAgICB9XG4gICAgICByZXR1cm4gY2FsbGJhY2sub25TdWNjZXNzKGRhdGEpO1xuICAgIH0pO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBpcyB1c2VkIHRvIGdsb2JhbGx5IHJldm9rZSBhbGwgdG9rZW5zIGlzc3VlZCB0byBhIHVzZXJcbiAgICogQHBhcmFtIHtvYmplY3R9IGNhbGxiYWNrIFJlc3VsdCBjYWxsYmFjayBtYXAuXG4gICAqIEBwYXJhbSB7b25GYWlsdXJlfSBjYWxsYmFjay5vbkZhaWx1cmUgQ2FsbGVkIG9uIGFueSBlcnJvci5cbiAgICogQHBhcmFtIHtvblN1Y2Nlc3M8c3RyaW5nPn0gY2FsbGJhY2sub25TdWNjZXNzIENhbGxlZCBvbiBzdWNjZXNzLlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovO1xuICBfcHJvdG8uZ2xvYmFsU2lnbk91dCA9IGZ1bmN0aW9uIGdsb2JhbFNpZ25PdXQoY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMxNyA9IHRoaXM7XG4gICAgaWYgKHRoaXMuc2lnbkluVXNlclNlc3Npb24gPT0gbnVsbCB8fCAhdGhpcy5zaWduSW5Vc2VyU2Vzc2lvbi5pc1ZhbGlkKCkpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjay5vbkZhaWx1cmUobmV3IEVycm9yKCdVc2VyIGlzIG5vdCBhdXRoZW50aWNhdGVkJykpO1xuICAgIH1cbiAgICB0aGlzLmNsaWVudC5yZXF1ZXN0KCdHbG9iYWxTaWduT3V0Jywge1xuICAgICAgQWNjZXNzVG9rZW46IHRoaXMuc2lnbkluVXNlclNlc3Npb24uZ2V0QWNjZXNzVG9rZW4oKS5nZXRKd3RUb2tlbigpXG4gICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sub25GYWlsdXJlKGVycik7XG4gICAgICB9XG4gICAgICBfdGhpczE3LmNsZWFyQ2FjaGVkVXNlcigpO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrLm9uU3VjY2VzcygnU1VDQ0VTUycpO1xuICAgIH0pO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBpcyB1c2VkIGZvciB0aGUgdXNlciB0byBzaWduT3V0IG9mIHRoZSBhcHBsaWNhdGlvbiBhbmQgY2xlYXIgdGhlIGNhY2hlZCB0b2tlbnMuXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi87XG4gIF9wcm90by5zaWduT3V0ID0gZnVuY3Rpb24gc2lnbk91dChyZXZva2VUb2tlbkNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzMTggPSB0aGlzO1xuICAgIC8vIElmIHRva2VucyB3b24ndCBiZSByZXZva2VkLCB3ZSBqdXN0IGNsZWFuIHRoZSBjbGllbnQgZGF0YS5cbiAgICBpZiAoIXJldm9rZVRva2VuQ2FsbGJhY2sgfHwgdHlwZW9mIHJldm9rZVRva2VuQ2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMuY2xlYW5DbGllbnREYXRhKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuZ2V0U2Vzc2lvbihmdW5jdGlvbiAoZXJyb3IsIF9zZXNzaW9uKSB7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHJldm9rZVRva2VuQ2FsbGJhY2soZXJyb3IpO1xuICAgICAgfVxuICAgICAgX3RoaXMxOC5yZXZva2VUb2tlbnMoZnVuY3Rpb24gKGVycikge1xuICAgICAgICBfdGhpczE4LmNsZWFuQ2xpZW50RGF0YSgpO1xuICAgICAgICByZXZva2VUb2tlbkNhbGxiYWNrKGVycik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcbiAgX3Byb3RvLnJldm9rZVRva2VucyA9IGZ1bmN0aW9uIHJldm9rZVRva2VucyhyZXZva2VUb2tlbkNhbGxiYWNrKSB7XG4gICAgaWYgKHJldm9rZVRva2VuQ2FsbGJhY2sgPT09IHZvaWQgMCkge1xuICAgICAgcmV2b2tlVG9rZW5DYWxsYmFjayA9IGZ1bmN0aW9uIHJldm9rZVRva2VuQ2FsbGJhY2soKSB7fTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiByZXZva2VUb2tlbkNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcmV2b2tlVG9rZW5DYWxsYmFjay4gSXQgc2hvdWxkIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuICAgIHZhciB0b2tlbnNUb0JlUmV2b2tlZCA9IFtdO1xuICAgIGlmICghdGhpcy5zaWduSW5Vc2VyU2Vzc2lvbikge1xuICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKCdVc2VyIGlzIG5vdCBhdXRoZW50aWNhdGVkJyk7XG4gICAgICByZXR1cm4gcmV2b2tlVG9rZW5DYWxsYmFjayhlcnJvcik7XG4gICAgfVxuICAgIGlmICghdGhpcy5zaWduSW5Vc2VyU2Vzc2lvbi5nZXRBY2Nlc3NUb2tlbigpKSB7XG4gICAgICB2YXIgX2Vycm9yID0gbmV3IEVycm9yKCdObyBBY2Nlc3MgdG9rZW4gYXZhaWxhYmxlJyk7XG4gICAgICByZXR1cm4gcmV2b2tlVG9rZW5DYWxsYmFjayhfZXJyb3IpO1xuICAgIH1cbiAgICB2YXIgcmVmcmVzaFRva2VuID0gdGhpcy5zaWduSW5Vc2VyU2Vzc2lvbi5nZXRSZWZyZXNoVG9rZW4oKS5nZXRUb2tlbigpO1xuICAgIHZhciBhY2Nlc3NUb2tlbiA9IHRoaXMuc2lnbkluVXNlclNlc3Npb24uZ2V0QWNjZXNzVG9rZW4oKTtcbiAgICBpZiAodGhpcy5pc1Nlc3Npb25SZXZvY2FibGUoYWNjZXNzVG9rZW4pKSB7XG4gICAgICBpZiAocmVmcmVzaFRva2VuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJldm9rZVRva2VuKHtcbiAgICAgICAgICB0b2tlbjogcmVmcmVzaFRva2VuLFxuICAgICAgICAgIGNhbGxiYWNrOiByZXZva2VUb2tlbkNhbGxiYWNrXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXZva2VUb2tlbkNhbGxiYWNrKCk7XG4gIH07XG4gIF9wcm90by5pc1Nlc3Npb25SZXZvY2FibGUgPSBmdW5jdGlvbiBpc1Nlc3Npb25SZXZvY2FibGUodG9rZW4pIHtcbiAgICBpZiAodG9rZW4gJiYgdHlwZW9mIHRva2VuLmRlY29kZVBheWxvYWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBfdG9rZW4kZGVjb2RlUGF5bG9hZCA9IHRva2VuLmRlY29kZVBheWxvYWQoKSxcbiAgICAgICAgICBvcmlnaW5fanRpID0gX3Rva2VuJGRlY29kZVBheWxvYWQub3JpZ2luX2p0aTtcbiAgICAgICAgcmV0dXJuICEhb3JpZ2luX2p0aTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAvLyBOb3RoaW5nIHRvIGRvLCB0b2tlbiBkb2VzbnQgaGF2ZSBvcmlnaW5fanRpIGNsYWltXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbiAgX3Byb3RvLmNsZWFuQ2xpZW50RGF0YSA9IGZ1bmN0aW9uIGNsZWFuQ2xpZW50RGF0YSgpIHtcbiAgICB0aGlzLnNpZ25JblVzZXJTZXNzaW9uID0gbnVsbDtcbiAgICB0aGlzLmNsZWFyQ2FjaGVkVXNlcigpO1xuICB9O1xuICBfcHJvdG8ucmV2b2tlVG9rZW4gPSBmdW5jdGlvbiByZXZva2VUb2tlbihfcmVmMikge1xuICAgIHZhciB0b2tlbiA9IF9yZWYyLnRva2VuLFxuICAgICAgY2FsbGJhY2sgPSBfcmVmMi5jYWxsYmFjaztcbiAgICB0aGlzLmNsaWVudC5yZXF1ZXN0V2l0aFJldHJ5KCdSZXZva2VUb2tlbicsIHtcbiAgICAgIFRva2VuOiB0b2tlbixcbiAgICAgIENsaWVudElkOiB0aGlzLnBvb2wuZ2V0Q2xpZW50SWQoKVxuICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICB9XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgdXNlZCBieSBhIHVzZXIgdHJ5aW5nIHRvIHNlbGVjdCBhIGdpdmVuIE1GQVxuICAgKiBAcGFyYW0ge3N0cmluZ30gYW5zd2VyQ2hhbGxlbmdlIHRoZSBtZmEgdGhlIHVzZXIgd2FudHNcbiAgICogQHBhcmFtIHtub2RlQ2FsbGJhY2s8c3RyaW5nPn0gY2FsbGJhY2sgQ2FsbGVkIG9uIHN1Y2Nlc3Mgb3IgZXJyb3IuXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi87XG4gIF9wcm90by5zZW5kTUZBU2VsZWN0aW9uQW5zd2VyID0gZnVuY3Rpb24gc2VuZE1GQVNlbGVjdGlvbkFuc3dlcihhbnN3ZXJDaGFsbGVuZ2UsIGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzMTkgPSB0aGlzO1xuICAgIHZhciBjaGFsbGVuZ2VSZXNwb25zZXMgPSB7fTtcbiAgICBjaGFsbGVuZ2VSZXNwb25zZXMuVVNFUk5BTUUgPSB0aGlzLnVzZXJuYW1lO1xuICAgIGNoYWxsZW5nZVJlc3BvbnNlcy5BTlNXRVIgPSBhbnN3ZXJDaGFsbGVuZ2U7XG4gICAgdmFyIGpzb25SZXEgPSB7XG4gICAgICBDaGFsbGVuZ2VOYW1lOiAnU0VMRUNUX01GQV9UWVBFJyxcbiAgICAgIENoYWxsZW5nZVJlc3BvbnNlczogY2hhbGxlbmdlUmVzcG9uc2VzLFxuICAgICAgQ2xpZW50SWQ6IHRoaXMucG9vbC5nZXRDbGllbnRJZCgpLFxuICAgICAgU2Vzc2lvbjogdGhpcy5TZXNzaW9uXG4gICAgfTtcbiAgICBpZiAodGhpcy5nZXRVc2VyQ29udGV4dERhdGEoKSkge1xuICAgICAganNvblJlcS5Vc2VyQ29udGV4dERhdGEgPSB0aGlzLmdldFVzZXJDb250ZXh0RGF0YSgpO1xuICAgIH1cbiAgICB0aGlzLmNsaWVudC5yZXF1ZXN0KCdSZXNwb25kVG9BdXRoQ2hhbGxlbmdlJywganNvblJlcSwgZnVuY3Rpb24gKGVyciwgZGF0YSkge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sub25GYWlsdXJlKGVycik7XG4gICAgICB9XG4gICAgICBfdGhpczE5LlNlc3Npb24gPSBkYXRhLlNlc3Npb247XG4gICAgICBpZiAoYW5zd2VyQ2hhbGxlbmdlID09PSAnU01TX01GQScpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrLm1mYVJlcXVpcmVkKGRhdGEuQ2hhbGxlbmdlTmFtZSwgZGF0YS5DaGFsbGVuZ2VQYXJhbWV0ZXJzKTtcbiAgICAgIH1cbiAgICAgIGlmIChhbnN3ZXJDaGFsbGVuZ2UgPT09ICdTT0ZUV0FSRV9UT0tFTl9NRkEnKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjay50b3RwUmVxdWlyZWQoZGF0YS5DaGFsbGVuZ2VOYW1lLCBkYXRhLkNoYWxsZW5nZVBhcmFtZXRlcnMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIHJldHVybnMgdGhlIHVzZXIgY29udGV4dCBkYXRhIGZvciBhZHZhbmNlZCBzZWN1cml0eSBmZWF0dXJlLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUgdXNlciBjb250ZXh0IGRhdGEgZnJvbSBDb2duaXRvVXNlclBvb2xcbiAgICovO1xuICBfcHJvdG8uZ2V0VXNlckNvbnRleHREYXRhID0gZnVuY3Rpb24gZ2V0VXNlckNvbnRleHREYXRhKCkge1xuICAgIHZhciBwb29sID0gdGhpcy5wb29sO1xuICAgIHJldHVybiBwb29sLmdldFVzZXJDb250ZXh0RGF0YSh0aGlzLnVzZXJuYW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGlzIHVzZWQgYnkgYW4gYXV0aGVudGljYXRlZCBvciBhIHVzZXIgdHJ5aW5nIHRvIGF1dGhlbnRpY2F0ZSB0byBhc3NvY2lhdGUgYSBUT1RQIE1GQVxuICAgKiBAcGFyYW0ge25vZGVDYWxsYmFjazxzdHJpbmc+fSBjYWxsYmFjayBDYWxsZWQgb24gc3VjY2VzcyBvciBlcnJvci5cbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqLztcbiAgX3Byb3RvLmFzc29jaWF0ZVNvZnR3YXJlVG9rZW4gPSBmdW5jdGlvbiBhc3NvY2lhdGVTb2Z0d2FyZVRva2VuKGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzMjAgPSB0aGlzO1xuICAgIGlmICghKHRoaXMuc2lnbkluVXNlclNlc3Npb24gIT0gbnVsbCAmJiB0aGlzLnNpZ25JblVzZXJTZXNzaW9uLmlzVmFsaWQoKSkpIHtcbiAgICAgIHRoaXMuY2xpZW50LnJlcXVlc3QoJ0Fzc29jaWF0ZVNvZnR3YXJlVG9rZW4nLCB7XG4gICAgICAgIFNlc3Npb246IHRoaXMuU2Vzc2lvblxuICAgICAgfSwgZnVuY3Rpb24gKGVyciwgZGF0YSkge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmV0dXJuIGNhbGxiYWNrLm9uRmFpbHVyZShlcnIpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzMjAuU2Vzc2lvbiA9IGRhdGEuU2Vzc2lvbjtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmFzc29jaWF0ZVNlY3JldENvZGUoZGF0YS5TZWNyZXRDb2RlKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNsaWVudC5yZXF1ZXN0KCdBc3NvY2lhdGVTb2Z0d2FyZVRva2VuJywge1xuICAgICAgICBBY2Nlc3NUb2tlbjogdGhpcy5zaWduSW5Vc2VyU2Vzc2lvbi5nZXRBY2Nlc3NUb2tlbigpLmdldEp3dFRva2VuKClcbiAgICAgIH0sIGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJldHVybiBjYWxsYmFjay5vbkZhaWx1cmUoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2FsbGJhY2suYXNzb2NpYXRlU2VjcmV0Q29kZShkYXRhLlNlY3JldENvZGUpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgdXNlZCBieSBhbiBhdXRoZW50aWNhdGVkIG9yIGEgdXNlciB0cnlpbmcgdG8gYXV0aGVudGljYXRlIHRvIHZlcmlmeSBhIFRPVFAgTUZBXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0b3RwQ29kZSBUaGUgTUZBIGNvZGUgZW50ZXJlZCBieSB0aGUgdXNlci5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZyaWVuZGx5RGV2aWNlTmFtZSBUaGUgZGV2aWNlIG5hbWUgd2UgYXJlIGFzc2lnbmluZyB0byB0aGUgZGV2aWNlLlxuICAgKiBAcGFyYW0ge25vZGVDYWxsYmFjazxzdHJpbmc+fSBjYWxsYmFjayBDYWxsZWQgb24gc3VjY2VzcyBvciBlcnJvci5cbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqLztcbiAgX3Byb3RvLnZlcmlmeVNvZnR3YXJlVG9rZW4gPSBmdW5jdGlvbiB2ZXJpZnlTb2Z0d2FyZVRva2VuKHRvdHBDb2RlLCBmcmllbmRseURldmljZU5hbWUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzMjEgPSB0aGlzO1xuICAgIGlmICghKHRoaXMuc2lnbkluVXNlclNlc3Npb24gIT0gbnVsbCAmJiB0aGlzLnNpZ25JblVzZXJTZXNzaW9uLmlzVmFsaWQoKSkpIHtcbiAgICAgIHRoaXMuY2xpZW50LnJlcXVlc3QoJ1ZlcmlmeVNvZnR3YXJlVG9rZW4nLCB7XG4gICAgICAgIFNlc3Npb246IHRoaXMuU2Vzc2lvbixcbiAgICAgICAgVXNlckNvZGU6IHRvdHBDb2RlLFxuICAgICAgICBGcmllbmRseURldmljZU5hbWU6IGZyaWVuZGx5RGV2aWNlTmFtZVxuICAgICAgfSwgZnVuY3Rpb24gKGVyciwgZGF0YSkge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmV0dXJuIGNhbGxiYWNrLm9uRmFpbHVyZShlcnIpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzMjEuU2Vzc2lvbiA9IGRhdGEuU2Vzc2lvbjtcbiAgICAgICAgdmFyIGNoYWxsZW5nZVJlc3BvbnNlcyA9IHt9O1xuICAgICAgICBjaGFsbGVuZ2VSZXNwb25zZXMuVVNFUk5BTUUgPSBfdGhpczIxLnVzZXJuYW1lO1xuICAgICAgICB2YXIganNvblJlcSA9IHtcbiAgICAgICAgICBDaGFsbGVuZ2VOYW1lOiAnTUZBX1NFVFVQJyxcbiAgICAgICAgICBDbGllbnRJZDogX3RoaXMyMS5wb29sLmdldENsaWVudElkKCksXG4gICAgICAgICAgQ2hhbGxlbmdlUmVzcG9uc2VzOiBjaGFsbGVuZ2VSZXNwb25zZXMsXG4gICAgICAgICAgU2Vzc2lvbjogX3RoaXMyMS5TZXNzaW9uXG4gICAgICAgIH07XG4gICAgICAgIGlmIChfdGhpczIxLmdldFVzZXJDb250ZXh0RGF0YSgpKSB7XG4gICAgICAgICAganNvblJlcS5Vc2VyQ29udGV4dERhdGEgPSBfdGhpczIxLmdldFVzZXJDb250ZXh0RGF0YSgpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzMjEuY2xpZW50LnJlcXVlc3QoJ1Jlc3BvbmRUb0F1dGhDaGFsbGVuZ2UnLCBqc29uUmVxLCBmdW5jdGlvbiAoZXJyUmVzcG9uZCwgZGF0YVJlc3BvbmQpIHtcbiAgICAgICAgICBpZiAoZXJyUmVzcG9uZCkge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrLm9uRmFpbHVyZShlcnJSZXNwb25kKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgX3RoaXMyMS5zaWduSW5Vc2VyU2Vzc2lvbiA9IF90aGlzMjEuZ2V0Q29nbml0b1VzZXJTZXNzaW9uKGRhdGFSZXNwb25kLkF1dGhlbnRpY2F0aW9uUmVzdWx0KTtcbiAgICAgICAgICBfdGhpczIxLmNhY2hlVG9rZW5zKCk7XG4gICAgICAgICAgcmV0dXJuIGNhbGxiYWNrLm9uU3VjY2VzcyhfdGhpczIxLnNpZ25JblVzZXJTZXNzaW9uKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jbGllbnQucmVxdWVzdCgnVmVyaWZ5U29mdHdhcmVUb2tlbicsIHtcbiAgICAgICAgQWNjZXNzVG9rZW46IHRoaXMuc2lnbkluVXNlclNlc3Npb24uZ2V0QWNjZXNzVG9rZW4oKS5nZXRKd3RUb2tlbigpLFxuICAgICAgICBVc2VyQ29kZTogdG90cENvZGUsXG4gICAgICAgIEZyaWVuZGx5RGV2aWNlTmFtZTogZnJpZW5kbHlEZXZpY2VOYW1lXG4gICAgICB9LCBmdW5jdGlvbiAoZXJyLCBkYXRhKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2sub25GYWlsdXJlKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrLm9uU3VjY2VzcyhkYXRhKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIENvZ25pdG9Vc2VyO1xufSgpO1xuZXhwb3J0IHsgQ29nbml0b1VzZXIgYXMgZGVmYXVsdCB9OyJdLCJuYW1lcyI6WyJCdWZmZXIiLCJTaGEyNTYiLCJQbGF0Zm9ybSIsIkJpZ0ludGVnZXIiLCJBdXRoZW50aWNhdGlvbkhlbHBlciIsIkNvZ25pdG9BY2Nlc3NUb2tlbiIsIkNvZ25pdG9JZFRva2VuIiwiQ29nbml0b1JlZnJlc2hUb2tlbiIsIkNvZ25pdG9Vc2VyU2Vzc2lvbiIsIkRhdGVIZWxwZXIiLCJDb2duaXRvVXNlckF0dHJpYnV0ZSIsIlN0b3JhZ2VIZWxwZXIiLCJpc05hdmlnYXRvckF2YWlsYWJsZSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImlzUmVhY3ROYXRpdmUiLCJDb2duaXRvVXNlciIsImRhdGEiLCJVc2VybmFtZSIsIlBvb2wiLCJFcnJvciIsInVzZXJuYW1lIiwicG9vbCIsIlNlc3Npb24iLCJjbGllbnQiLCJzaWduSW5Vc2VyU2Vzc2lvbiIsImF1dGhlbnRpY2F0aW9uRmxvd1R5cGUiLCJzdG9yYWdlIiwiU3RvcmFnZSIsImdldFN0b3JhZ2UiLCJrZXlQcmVmaXgiLCJnZXRDbGllbnRJZCIsInVzZXJEYXRhS2V5IiwiX3Byb3RvIiwicHJvdG90eXBlIiwic2V0U2lnbkluVXNlclNlc3Npb24iLCJjbGVhckNhY2hlZFVzZXJEYXRhIiwiY2FjaGVUb2tlbnMiLCJnZXRTaWduSW5Vc2VyU2Vzc2lvbiIsImdldFVzZXJuYW1lIiwiZ2V0QXV0aGVudGljYXRpb25GbG93VHlwZSIsInNldEF1dGhlbnRpY2F0aW9uRmxvd1R5cGUiLCJpbml0aWF0ZUF1dGgiLCJhdXRoRGV0YWlscyIsImNhbGxiYWNrIiwiX3RoaXMiLCJhdXRoUGFyYW1ldGVycyIsImdldEF1dGhQYXJhbWV0ZXJzIiwiVVNFUk5BTUUiLCJjbGllbnRNZXRhRGF0YSIsIk9iamVjdCIsImtleXMiLCJnZXRWYWxpZGF0aW9uRGF0YSIsImxlbmd0aCIsImdldENsaWVudE1ldGFkYXRhIiwianNvblJlcSIsIkF1dGhGbG93IiwiQ2xpZW50SWQiLCJBdXRoUGFyYW1ldGVycyIsIkNsaWVudE1ldGFkYXRhIiwiZ2V0VXNlckNvbnRleHREYXRhIiwiVXNlckNvbnRleHREYXRhIiwicmVxdWVzdCIsImVyciIsIm9uRmFpbHVyZSIsImNoYWxsZW5nZU5hbWUiLCJDaGFsbGVuZ2VOYW1lIiwiY2hhbGxlbmdlUGFyYW1ldGVycyIsIkNoYWxsZW5nZVBhcmFtZXRlcnMiLCJjdXN0b21DaGFsbGVuZ2UiLCJnZXRDb2duaXRvVXNlclNlc3Npb24iLCJBdXRoZW50aWNhdGlvblJlc3VsdCIsIm9uU3VjY2VzcyIsImF1dGhlbnRpY2F0ZVVzZXIiLCJhdXRoZW50aWNhdGVVc2VyUGxhaW5Vc2VybmFtZVBhc3N3b3JkIiwiYXV0aGVudGljYXRlVXNlckRlZmF1bHRBdXRoIiwiX3RoaXMyIiwiYXV0aGVudGljYXRpb25IZWxwZXIiLCJnZXRVc2VyUG9vbE5hbWUiLCJkYXRlSGVscGVyIiwic2VydmVyQlZhbHVlIiwic2FsdCIsImRldmljZUtleSIsIkRFVklDRV9LRVkiLCJnZXRMYXJnZUFWYWx1ZSIsImVyck9uQVZhbHVlIiwiYVZhbHVlIiwiU1JQX0EiLCJ0b1N0cmluZyIsIkNIQUxMRU5HRV9OQU1FIiwiVVNFUl9JRF9GT1JfU1JQIiwiU1JQX0IiLCJTQUxUIiwiZ2V0Q2FjaGVkRGV2aWNlS2V5QW5kUGFzc3dvcmQiLCJnZXRQYXNzd29yZEF1dGhlbnRpY2F0aW9uS2V5IiwiZ2V0UGFzc3dvcmQiLCJlcnJPbkhrZGYiLCJoa2RmIiwiZGF0ZU5vdyIsImdldE5vd1N0cmluZyIsImNvbmNhdEJ1ZmZlciIsImNvbmNhdCIsImZyb20iLCJTRUNSRVRfQkxPQ0siLCJhd3NDcnlwdG9IYXNoIiwidXBkYXRlIiwicmVzdWx0RnJvbUFXU0NyeXB0byIsImRpZ2VzdFN5bmMiLCJzaWduYXR1cmVTdHJpbmciLCJjaGFsbGVuZ2VSZXNwb25zZXMiLCJQQVNTV09SRF9DTEFJTV9TRUNSRVRfQkxPQ0siLCJUSU1FU1RBTVAiLCJQQVNTV09SRF9DTEFJTV9TSUdOQVRVUkUiLCJyZXNwb25kVG9BdXRoQ2hhbGxlbmdlIiwiY2hhbGxlbmdlIiwiY2hhbGxlbmdlQ2FsbGJhY2siLCJlcnJDaGFsbGVuZ2UiLCJkYXRhQ2hhbGxlbmdlIiwiY29kZSIsIm1lc3NhZ2UiLCJ0b0xvd2VyQ2FzZSIsImluZGV4T2YiLCJyYW5kb21QYXNzd29yZCIsImRldmljZUdyb3VwS2V5IiwiY2xlYXJDYWNoZWREZXZpY2VLZXlBbmRQYXNzd29yZCIsImpzb25SZXFSZXNwIiwiQ2hhbGxlbmdlUmVzcG9uc2VzIiwiZXJyQXV0aGVudGljYXRlIiwiZGF0YUF1dGhlbnRpY2F0ZSIsImF1dGhlbnRpY2F0ZVVzZXJJbnRlcm5hbCIsInVuZGVmaW5lZCIsIl90aGlzMyIsIlBBU1NXT1JEIiwiYXV0aFJlc3VsdCIsIl90aGlzNCIsIm1mYVJlcXVpcmVkIiwic2VsZWN0TUZBVHlwZSIsIm1mYVNldHVwIiwidG90cFJlcXVpcmVkIiwidXNlckF0dHJpYnV0ZXMiLCJyYXdSZXF1aXJlZEF0dHJpYnV0ZXMiLCJyZXF1aXJlZEF0dHJpYnV0ZXMiLCJ1c2VyQXR0cmlidXRlc1ByZWZpeCIsImdldE5ld1Bhc3N3b3JkUmVxdWlyZWRDaGFsbGVuZ2VVc2VyQXR0cmlidXRlUHJlZml4IiwiSlNPTiIsInBhcnNlIiwiaSIsInN1YnN0ciIsIm5ld1Bhc3N3b3JkUmVxdWlyZWQiLCJnZXREZXZpY2VSZXNwb25zZSIsIm5ld0RldmljZU1ldGFkYXRhIiwiTmV3RGV2aWNlTWV0YWRhdGEiLCJnZW5lcmF0ZUhhc2hEZXZpY2UiLCJEZXZpY2VHcm91cEtleSIsIkRldmljZUtleSIsImVyckdlbkhhc2giLCJkZXZpY2VTZWNyZXRWZXJpZmllckNvbmZpZyIsIlNhbHQiLCJnZXRTYWx0RGV2aWNlcyIsIlBhc3N3b3JkVmVyaWZpZXIiLCJnZXRWZXJpZmllckRldmljZXMiLCJ2ZXJpZmllckRldmljZXMiLCJnZXRSYW5kb21QYXNzd29yZCIsIkFjY2Vzc1Rva2VuIiwiZ2V0QWNjZXNzVG9rZW4iLCJnZXRKd3RUb2tlbiIsIkRldmljZVNlY3JldFZlcmlmaWVyQ29uZmlnIiwiRGV2aWNlTmFtZSIsImVyckNvbmZpcm0iLCJkYXRhQ29uZmlybSIsImNhY2hlRGV2aWNlS2V5QW5kUGFzc3dvcmQiLCJVc2VyQ29uZmlybWF0aW9uTmVjZXNzYXJ5IiwiY29tcGxldGVOZXdQYXNzd29yZENoYWxsZW5nZSIsIm5ld1Bhc3N3b3JkIiwicmVxdWlyZWRBdHRyaWJ1dGVEYXRhIiwiY2xpZW50TWV0YWRhdGEiLCJfdGhpczUiLCJmaW5hbFVzZXJBdHRyaWJ1dGVzIiwiZm9yRWFjaCIsImtleSIsIk5FV19QQVNTV09SRCIsIl90aGlzNiIsImVyckFWYWx1ZSIsImVyckhrZGYiLCJjb25maXJtUmVnaXN0cmF0aW9uIiwiY29uZmlybWF0aW9uQ29kZSIsImZvcmNlQWxpYXNDcmVhdGlvbiIsIkNvbmZpcm1hdGlvbkNvZGUiLCJGb3JjZUFsaWFzQ3JlYXRpb24iLCJzZW5kQ3VzdG9tQ2hhbGxlbmdlQW5zd2VyIiwiYW5zd2VyQ2hhbGxlbmdlIiwiX3RoaXM3IiwiQU5TV0VSIiwic2VuZE1GQUNvZGUiLCJtZmFUeXBlIiwiX3RoaXM4IiwiU01TX01GQV9DT0RFIiwibWZhVHlwZVNlbGVjdGlvbiIsIlNPRlRXQVJFX1RPS0VOX01GQV9DT0RFIiwiY2hhbmdlUGFzc3dvcmQiLCJvbGRVc2VyUGFzc3dvcmQiLCJuZXdVc2VyUGFzc3dvcmQiLCJpc1ZhbGlkIiwiUHJldmlvdXNQYXNzd29yZCIsIlByb3Bvc2VkUGFzc3dvcmQiLCJlbmFibGVNRkEiLCJtZmFPcHRpb25zIiwibWZhRW5hYmxlZCIsIkRlbGl2ZXJ5TWVkaXVtIiwiQXR0cmlidXRlTmFtZSIsInB1c2giLCJNRkFPcHRpb25zIiwic2V0VXNlck1mYVByZWZlcmVuY2UiLCJzbXNNZmFTZXR0aW5ncyIsInNvZnR3YXJlVG9rZW5NZmFTZXR0aW5ncyIsIlNNU01mYVNldHRpbmdzIiwiU29mdHdhcmVUb2tlbk1mYVNldHRpbmdzIiwiZGlzYWJsZU1GQSIsImRlbGV0ZVVzZXIiLCJfdGhpczkiLCJjbGVhckNhY2hlZFVzZXIiLCJ1cGRhdGVBdHRyaWJ1dGVzIiwiYXR0cmlidXRlcyIsIl90aGlzMTAiLCJVc2VyQXR0cmlidXRlcyIsInJlc3VsdCIsImdldFVzZXJEYXRhIiwiYnlwYXNzQ2FjaGUiLCJnZXRVc2VyQXR0cmlidXRlcyIsInVzZXJEYXRhIiwiYXR0cmlidXRlTGlzdCIsImF0dHJpYnV0ZSIsIk5hbWUiLCJWYWx1ZSIsInVzZXJBdHRyaWJ1dGUiLCJnZXRNRkFPcHRpb25zIiwiY3JlYXRlR2V0VXNlclJlcXVlc3QiLCJwcm9taXNpZnlSZXF1ZXN0IiwicmVmcmVzaFNlc3Npb25JZlBvc3NpYmxlIiwib3B0aW9ucyIsIl90aGlzMTEiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlZnJlc2giLCJnZXRSZWZyZXNoVG9rZW4iLCJnZXRUb2tlbiIsInJlZnJlc2hTZXNzaW9uIiwicGFyYW1zIiwiX3RoaXMxMiIsImdldFVzZXJEYXRhRnJvbUNhY2hlIiwiZmV0Y2hVc2VyRGF0YSIsInRoZW4iLCJpc0ZldGNoVXNlckRhdGFBbmRUb2tlblJlcXVpcmVkIiwiZ2V0SXRlbSIsIl9yZWYiLCJfcmVmJGJ5cGFzc0NhY2hlIiwiX3RoaXMxMyIsImNhY2hlVXNlckRhdGEiLCJkZWxldGVBdHRyaWJ1dGVzIiwiX3RoaXMxNCIsIlVzZXJBdHRyaWJ1dGVOYW1lcyIsInJlc2VuZENvbmZpcm1hdGlvbkNvZGUiLCJnZXRTZXNzaW9uIiwiaWRUb2tlbktleSIsImFjY2Vzc1Rva2VuS2V5IiwicmVmcmVzaFRva2VuS2V5IiwiY2xvY2tEcmlmdEtleSIsImlkVG9rZW4iLCJJZFRva2VuIiwiYWNjZXNzVG9rZW4iLCJyZWZyZXNoVG9rZW4iLCJSZWZyZXNoVG9rZW4iLCJjbG9ja0RyaWZ0IiwicGFyc2VJbnQiLCJzZXNzaW9uRGF0YSIsIkNsb2NrRHJpZnQiLCJjYWNoZWRTZXNzaW9uIiwiX3RoaXMxNSIsIndyYXBwZWRDYWxsYmFjayIsIndyYXBSZWZyZXNoU2Vzc2lvbkNhbGxiYWNrIiwiUkVGUkVTSF9UT0tFTiIsImxhc3RVc2VyS2V5IiwiZGV2aWNlS2V5S2V5IiwiYXV0aGVudGljYXRpb25SZXN1bHQiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJzZXRJdGVtIiwiZ2V0SWRUb2tlbiIsImdldENsb2NrRHJpZnQiLCJzdHJpbmdpZnkiLCJyZW1vdmVJdGVtIiwiY2xlYXJDYWNoZWRUb2tlbnMiLCJyYW5kb21QYXNzd29yZEtleSIsImRldmljZUdyb3VwS2V5S2V5IiwiZm9yZ290UGFzc3dvcmQiLCJpbnB1dFZlcmlmaWNhdGlvbkNvZGUiLCJjb25maXJtUGFzc3dvcmQiLCJQYXNzd29yZCIsImdldEF0dHJpYnV0ZVZlcmlmaWNhdGlvbkNvZGUiLCJhdHRyaWJ1dGVOYW1lIiwidmVyaWZ5QXR0cmlidXRlIiwiQ29kZSIsImdldERldmljZSIsImZvcmdldFNwZWNpZmljRGV2aWNlIiwiZm9yZ2V0RGV2aWNlIiwiX3RoaXMxNiIsInNldERldmljZVN0YXR1c1JlbWVtYmVyZWQiLCJEZXZpY2VSZW1lbWJlcmVkU3RhdHVzIiwic2V0RGV2aWNlU3RhdHVzTm90UmVtZW1iZXJlZCIsImxpc3REZXZpY2VzIiwibGltaXQiLCJwYWdpbmF0aW9uVG9rZW4iLCJyZXF1ZXN0UGFyYW1zIiwiTGltaXQiLCJQYWdpbmF0aW9uVG9rZW4iLCJnbG9iYWxTaWduT3V0IiwiX3RoaXMxNyIsInNpZ25PdXQiLCJyZXZva2VUb2tlbkNhbGxiYWNrIiwiX3RoaXMxOCIsImNsZWFuQ2xpZW50RGF0YSIsImVycm9yIiwiX3Nlc3Npb24iLCJyZXZva2VUb2tlbnMiLCJ0b2tlbnNUb0JlUmV2b2tlZCIsIl9lcnJvciIsImlzU2Vzc2lvblJldm9jYWJsZSIsInJldm9rZVRva2VuIiwidG9rZW4iLCJkZWNvZGVQYXlsb2FkIiwiX3Rva2VuJGRlY29kZVBheWxvYWQiLCJvcmlnaW5fanRpIiwiX3JlZjIiLCJyZXF1ZXN0V2l0aFJldHJ5IiwiVG9rZW4iLCJzZW5kTUZBU2VsZWN0aW9uQW5zd2VyIiwiX3RoaXMxOSIsImFzc29jaWF0ZVNvZnR3YXJlVG9rZW4iLCJfdGhpczIwIiwiYXNzb2NpYXRlU2VjcmV0Q29kZSIsIlNlY3JldENvZGUiLCJ2ZXJpZnlTb2Z0d2FyZVRva2VuIiwidG90cENvZGUiLCJmcmllbmRseURldmljZU5hbWUiLCJfdGhpczIxIiwiVXNlckNvZGUiLCJGcmllbmRseURldmljZU5hbWUiLCJlcnJSZXNwb25kIiwiZGF0YVJlc3BvbmQiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/amazon-cognito-identity-js/es/CognitoUser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/amazon-cognito-identity-js/es/CognitoUserAttribute.js":
/*!****************************************************************************!*\
  !*** ./node_modules/amazon-cognito-identity-js/es/CognitoUserAttribute.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CognitoUserAttribute)\n/* harmony export */ });\n/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */ /** @class */ var CognitoUserAttribute = /*#__PURE__*/ function() {\n    /**\n   * Constructs a new CognitoUserAttribute object\n   * @param {string=} Name The record's name\n   * @param {string=} Value The record's value\n   */ function CognitoUserAttribute(_temp) {\n        var _ref = _temp === void 0 ? {} : _temp, Name = _ref.Name, Value = _ref.Value;\n        this.Name = Name || \"\";\n        this.Value = Value || \"\";\n    }\n    /**\n   * @returns {string} the record's value.\n   */ var _proto = CognitoUserAttribute.prototype;\n    _proto.getValue = function getValue() {\n        return this.Value;\n    } /**\n   * Sets the record's value.\n   * @param {string} value The new value.\n   * @returns {CognitoUserAttribute} The record for method chaining.\n   */ ;\n    _proto.setValue = function setValue(value) {\n        this.Value = value;\n        return this;\n    } /**\n   * @returns {string} the record's name.\n   */ ;\n    _proto.getName = function getName() {\n        return this.Name;\n    } /**\n   * Sets the record's name\n   * @param {string} name The new name.\n   * @returns {CognitoUserAttribute} The record for method chaining.\n   */ ;\n    _proto.setName = function setName(name) {\n        this.Name = name;\n        return this;\n    } /**\n   * @returns {string} a string representation of the record.\n   */ ;\n    _proto.toString = function toString() {\n        return JSON.stringify(this);\n    } /**\n   * @returns {object} a flat object representing the record.\n   */ ;\n    _proto.toJSON = function toJSON() {\n        return {\n            Name: this.Name,\n            Value: this.Value\n        };\n    };\n    return CognitoUserAttribute;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYW1hem9uLWNvZ25pdG8taWRlbnRpdHktanMvZXMvQ29nbml0b1VzZXJBdHRyaWJ1dGUuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBOzs7Q0FHQyxHQUNELFdBQVcsR0FDWCxJQUFJQSx1QkFBdUIsV0FBVyxHQUFFO0lBQ3RDOzs7O0dBSUMsR0FDRCxTQUFTQSxxQkFBcUJDLEtBQUs7UUFDakMsSUFBSUMsT0FBT0QsVUFBVSxLQUFLLElBQUksQ0FBQyxJQUFJQSxPQUNqQ0UsT0FBT0QsS0FBS0MsSUFBSSxFQUNoQkMsUUFBUUYsS0FBS0UsS0FBSztRQUNwQixJQUFJLENBQUNELElBQUksR0FBR0EsUUFBUTtRQUNwQixJQUFJLENBQUNDLEtBQUssR0FBR0EsU0FBUztJQUN4QjtJQUVBOztHQUVDLEdBQ0QsSUFBSUMsU0FBU0wscUJBQXFCTSxTQUFTO0lBQzNDRCxPQUFPRSxRQUFRLEdBQUcsU0FBU0E7UUFDekIsT0FBTyxJQUFJLENBQUNILEtBQUs7SUFDbkIsRUFFQTs7OztHQUlDO0lBQ0RDLE9BQU9HLFFBQVEsR0FBRyxTQUFTQSxTQUFTQyxLQUFLO1FBQ3ZDLElBQUksQ0FBQ0wsS0FBSyxHQUFHSztRQUNiLE9BQU8sSUFBSTtJQUNiLEVBRUE7O0dBRUM7SUFDREosT0FBT0ssT0FBTyxHQUFHLFNBQVNBO1FBQ3hCLE9BQU8sSUFBSSxDQUFDUCxJQUFJO0lBQ2xCLEVBRUE7Ozs7R0FJQztJQUNERSxPQUFPTSxPQUFPLEdBQUcsU0FBU0EsUUFBUUMsSUFBSTtRQUNwQyxJQUFJLENBQUNULElBQUksR0FBR1M7UUFDWixPQUFPLElBQUk7SUFDYixFQUVBOztHQUVDO0lBQ0RQLE9BQU9RLFFBQVEsR0FBRyxTQUFTQTtRQUN6QixPQUFPQyxLQUFLQyxTQUFTLENBQUMsSUFBSTtJQUM1QixFQUVBOztHQUVDO0lBQ0RWLE9BQU9XLE1BQU0sR0FBRyxTQUFTQTtRQUN2QixPQUFPO1lBQ0xiLE1BQU0sSUFBSSxDQUFDQSxJQUFJO1lBQ2ZDLE9BQU8sSUFBSSxDQUFDQSxLQUFLO1FBQ25CO0lBQ0Y7SUFDQSxPQUFPSjtBQUNUO0FBQzJDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnV6enktb2N0by1icm9jY29saS1uZXh0Ly4vbm9kZV9tb2R1bGVzL2FtYXpvbi1jb2duaXRvLWlkZW50aXR5LWpzL2VzL0NvZ25pdG9Vc2VyQXR0cmlidXRlLmpzP2Q1NjAiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cbi8qKiBAY2xhc3MgKi9cbnZhciBDb2duaXRvVXNlckF0dHJpYnV0ZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgbmV3IENvZ25pdG9Vc2VyQXR0cmlidXRlIG9iamVjdFxuICAgKiBAcGFyYW0ge3N0cmluZz19IE5hbWUgVGhlIHJlY29yZCdzIG5hbWVcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBWYWx1ZSBUaGUgcmVjb3JkJ3MgdmFsdWVcbiAgICovXG4gIGZ1bmN0aW9uIENvZ25pdG9Vc2VyQXR0cmlidXRlKF90ZW1wKSB7XG4gICAgdmFyIF9yZWYgPSBfdGVtcCA9PT0gdm9pZCAwID8ge30gOiBfdGVtcCxcbiAgICAgIE5hbWUgPSBfcmVmLk5hbWUsXG4gICAgICBWYWx1ZSA9IF9yZWYuVmFsdWU7XG4gICAgdGhpcy5OYW1lID0gTmFtZSB8fCAnJztcbiAgICB0aGlzLlZhbHVlID0gVmFsdWUgfHwgJyc7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge3N0cmluZ30gdGhlIHJlY29yZCdzIHZhbHVlLlxuICAgKi9cbiAgdmFyIF9wcm90byA9IENvZ25pdG9Vc2VyQXR0cmlidXRlLnByb3RvdHlwZTtcbiAgX3Byb3RvLmdldFZhbHVlID0gZnVuY3Rpb24gZ2V0VmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuVmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgcmVjb3JkJ3MgdmFsdWUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBUaGUgbmV3IHZhbHVlLlxuICAgKiBAcmV0dXJucyB7Q29nbml0b1VzZXJBdHRyaWJ1dGV9IFRoZSByZWNvcmQgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICovO1xuICBfcHJvdG8uc2V0VmFsdWUgPSBmdW5jdGlvbiBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgIHRoaXMuVmFsdWUgPSB2YWx1ZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUgcmVjb3JkJ3MgbmFtZS5cbiAgICovO1xuICBfcHJvdG8uZ2V0TmFtZSA9IGZ1bmN0aW9uIGdldE5hbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuTmFtZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSByZWNvcmQncyBuYW1lXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuZXcgbmFtZS5cbiAgICogQHJldHVybnMge0NvZ25pdG9Vc2VyQXR0cmlidXRlfSBUaGUgcmVjb3JkIGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAqLztcbiAgX3Byb3RvLnNldE5hbWUgPSBmdW5jdGlvbiBzZXROYW1lKG5hbWUpIHtcbiAgICB0aGlzLk5hbWUgPSBuYW1lO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSByZWNvcmQuXG4gICAqLztcbiAgX3Byb3RvLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IGEgZmxhdCBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSByZWNvcmQuXG4gICAqLztcbiAgX3Byb3RvLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgTmFtZTogdGhpcy5OYW1lLFxuICAgICAgVmFsdWU6IHRoaXMuVmFsdWVcbiAgICB9O1xuICB9O1xuICByZXR1cm4gQ29nbml0b1VzZXJBdHRyaWJ1dGU7XG59KCk7XG5leHBvcnQgeyBDb2duaXRvVXNlckF0dHJpYnV0ZSBhcyBkZWZhdWx0IH07Il0sIm5hbWVzIjpbIkNvZ25pdG9Vc2VyQXR0cmlidXRlIiwiX3RlbXAiLCJfcmVmIiwiTmFtZSIsIlZhbHVlIiwiX3Byb3RvIiwicHJvdG90eXBlIiwiZ2V0VmFsdWUiLCJzZXRWYWx1ZSIsInZhbHVlIiwiZ2V0TmFtZSIsInNldE5hbWUiLCJuYW1lIiwidG9TdHJpbmciLCJKU09OIiwic3RyaW5naWZ5IiwidG9KU09OIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/amazon-cognito-identity-js/es/CognitoUserAttribute.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/amazon-cognito-identity-js/es/CognitoUserPool.js":
/*!***********************************************************************!*\
  !*** ./node_modules/amazon-cognito-identity-js/es/CognitoUserPool.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CognitoUserPool)\n/* harmony export */ });\n/* harmony import */ var _Client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Client */ \"(ssr)/./node_modules/amazon-cognito-identity-js/es/Client.js\");\n/* harmony import */ var _CognitoUser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CognitoUser */ \"(ssr)/./node_modules/amazon-cognito-identity-js/es/CognitoUser.js\");\n/* harmony import */ var _StorageHelper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./StorageHelper */ \"(ssr)/./node_modules/amazon-cognito-identity-js/es/StorageHelper.js\");\n/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */ \n\n\nvar USER_POOL_ID_MAX_LENGTH = 55;\n/** @class */ var CognitoUserPool = /*#__PURE__*/ function() {\n    /**\n   * Constructs a new CognitoUserPool object\n   * @param {object} data Creation options.\n   * @param {string} data.UserPoolId Cognito user pool id.\n   * @param {string} data.ClientId User pool application client id.\n   * @param {string} data.endpoint Optional custom service endpoint.\n   * @param {object} data.fetchOptions Optional options for fetch API.\n   *        (only credentials option is supported)\n   * @param {object} data.Storage Optional storage object.\n   * @param {boolean} data.AdvancedSecurityDataCollectionFlag Optional:\n   *        boolean flag indicating if the data collection is enabled\n   *        to support cognito advanced security features. By default, this\n   *        flag is set to true.\n   */ function CognitoUserPool(data, wrapRefreshSessionCallback) {\n        var _ref = data || {}, UserPoolId = _ref.UserPoolId, ClientId = _ref.ClientId, endpoint = _ref.endpoint, fetchOptions = _ref.fetchOptions, AdvancedSecurityDataCollectionFlag = _ref.AdvancedSecurityDataCollectionFlag;\n        if (!UserPoolId || !ClientId) {\n            throw new Error(\"Both UserPoolId and ClientId are required.\");\n        }\n        if (UserPoolId.length > USER_POOL_ID_MAX_LENGTH || !/^[\\w-]+_[0-9a-zA-Z]+$/.test(UserPoolId)) {\n            throw new Error(\"Invalid UserPoolId format.\");\n        }\n        var region = UserPoolId.split(\"_\")[0];\n        this.userPoolId = UserPoolId;\n        this.clientId = ClientId;\n        this.client = new _Client__WEBPACK_IMPORTED_MODULE_0__[\"default\"](region, endpoint, fetchOptions);\n        /**\n     * By default, AdvancedSecurityDataCollectionFlag is set to true,\n     * if no input value is provided.\n     */ this.advancedSecurityDataCollectionFlag = AdvancedSecurityDataCollectionFlag !== false;\n        this.storage = data.Storage || new _StorageHelper__WEBPACK_IMPORTED_MODULE_2__[\"default\"]().getStorage();\n        if (wrapRefreshSessionCallback) {\n            this.wrapRefreshSessionCallback = wrapRefreshSessionCallback;\n        }\n    }\n    /**\n   * @returns {string} the user pool id\n   */ var _proto = CognitoUserPool.prototype;\n    _proto.getUserPoolId = function getUserPoolId() {\n        return this.userPoolId;\n    } /**\n   * @returns {string} the user pool name\n   */ ;\n    _proto.getUserPoolName = function getUserPoolName() {\n        return this.getUserPoolId().split(\"_\")[1];\n    } /**\n   * @returns {string} the client id\n   */ ;\n    _proto.getClientId = function getClientId() {\n        return this.clientId;\n    } /**\n   * method for signing up a user\n   * @param {string} username User's username.\n   * @param {string} password Plain-text initial password entered by user.\n   * @param {(AttributeArg[])=} userAttributes New user attributes.\n   * @param {(AttributeArg[])=} validationData Application metadata.\n   * @param {(AttributeArg[])=} clientMetadata Client metadata.\n   * @param {nodeCallback<SignUpResult>} callback Called on error or with the new user.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */ ;\n    _proto.signUp = function signUp(username, password, userAttributes, validationData, callback, clientMetadata) {\n        var _this = this;\n        var jsonReq = {\n            ClientId: this.clientId,\n            Username: username,\n            Password: password,\n            UserAttributes: userAttributes,\n            ValidationData: validationData,\n            ClientMetadata: clientMetadata\n        };\n        if (this.getUserContextData(username)) {\n            jsonReq.UserContextData = this.getUserContextData(username);\n        }\n        this.client.request(\"SignUp\", jsonReq, function(err, data) {\n            if (err) {\n                return callback(err, null);\n            }\n            var cognitoUser = {\n                Username: username,\n                Pool: _this,\n                Storage: _this.storage\n            };\n            var returnData = {\n                user: new _CognitoUser__WEBPACK_IMPORTED_MODULE_1__[\"default\"](cognitoUser),\n                userConfirmed: data.UserConfirmed,\n                userSub: data.UserSub,\n                codeDeliveryDetails: data.CodeDeliveryDetails\n            };\n            return callback(null, returnData);\n        });\n    } /**\n   * method for getting the current user of the application from the local storage\n   *\n   * @returns {CognitoUser} the user retrieved from storage\n   */ ;\n    _proto.getCurrentUser = function getCurrentUser() {\n        var lastUserKey = \"CognitoIdentityServiceProvider.\" + this.clientId + \".LastAuthUser\";\n        var lastAuthUser = this.storage.getItem(lastUserKey);\n        if (lastAuthUser) {\n            var cognitoUser = {\n                Username: lastAuthUser,\n                Pool: this,\n                Storage: this.storage\n            };\n            return new _CognitoUser__WEBPACK_IMPORTED_MODULE_1__[\"default\"](cognitoUser);\n        }\n        return null;\n    } /**\n   * This method returns the encoded data string used for cognito advanced security feature.\n   * This would be generated only when developer has included the JS used for collecting the\n   * data on their client. Please refer to documentation to know more about using AdvancedSecurity\n   * features\n   * @param {string} username the username for the context data\n   * @returns {string} the user context data\n   **/ ;\n    _proto.getUserContextData = function getUserContextData(username) {\n        if (typeof AmazonCognitoAdvancedSecurityData === \"undefined\") {\n            return undefined;\n        }\n        /* eslint-disable */ var amazonCognitoAdvancedSecurityDataConst = AmazonCognitoAdvancedSecurityData;\n        /* eslint-enable */ if (this.advancedSecurityDataCollectionFlag) {\n            var advancedSecurityData = amazonCognitoAdvancedSecurityDataConst.getData(username, this.userPoolId, this.clientId);\n            if (advancedSecurityData) {\n                var userContextData = {\n                    EncodedData: advancedSecurityData\n                };\n                return userContextData;\n            }\n        }\n        return {};\n    };\n    return CognitoUserPool;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYW1hem9uLWNvZ25pdG8taWRlbnRpdHktanMvZXMvQ29nbml0b1VzZXJQb29sLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7O0NBR0MsR0FFNkI7QUFDVTtBQUNJO0FBQzVDLElBQUlHLDBCQUEwQjtBQUU5QixXQUFXLEdBQ1gsSUFBSUMsa0JBQWtCLFdBQVcsR0FBRTtJQUNqQzs7Ozs7Ozs7Ozs7OztHQWFDLEdBQ0QsU0FBU0EsZ0JBQWdCQyxJQUFJLEVBQUVDLDBCQUEwQjtRQUN2RCxJQUFJQyxPQUFPRixRQUFRLENBQUMsR0FDbEJHLGFBQWFELEtBQUtDLFVBQVUsRUFDNUJDLFdBQVdGLEtBQUtFLFFBQVEsRUFDeEJDLFdBQVdILEtBQUtHLFFBQVEsRUFDeEJDLGVBQWVKLEtBQUtJLFlBQVksRUFDaENDLHFDQUFxQ0wsS0FBS0ssa0NBQWtDO1FBQzlFLElBQUksQ0FBQ0osY0FBYyxDQUFDQyxVQUFVO1lBQzVCLE1BQU0sSUFBSUksTUFBTTtRQUNsQjtRQUNBLElBQUlMLFdBQVdNLE1BQU0sR0FBR1gsMkJBQTJCLENBQUMsd0JBQXdCWSxJQUFJLENBQUNQLGFBQWE7WUFDNUYsTUFBTSxJQUFJSyxNQUFNO1FBQ2xCO1FBQ0EsSUFBSUcsU0FBU1IsV0FBV1MsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFO1FBQ3JDLElBQUksQ0FBQ0MsVUFBVSxHQUFHVjtRQUNsQixJQUFJLENBQUNXLFFBQVEsR0FBR1Y7UUFDaEIsSUFBSSxDQUFDVyxNQUFNLEdBQUcsSUFBSXBCLCtDQUFNQSxDQUFDZ0IsUUFBUU4sVUFBVUM7UUFFM0M7OztLQUdDLEdBQ0QsSUFBSSxDQUFDVSxrQ0FBa0MsR0FBR1QsdUNBQXVDO1FBQ2pGLElBQUksQ0FBQ1UsT0FBTyxHQUFHakIsS0FBS2tCLE9BQU8sSUFBSSxJQUFJckIsc0RBQWFBLEdBQUdzQixVQUFVO1FBQzdELElBQUlsQiw0QkFBNEI7WUFDOUIsSUFBSSxDQUFDQSwwQkFBMEIsR0FBR0E7UUFDcEM7SUFDRjtJQUVBOztHQUVDLEdBQ0QsSUFBSW1CLFNBQVNyQixnQkFBZ0JzQixTQUFTO0lBQ3RDRCxPQUFPRSxhQUFhLEdBQUcsU0FBU0E7UUFDOUIsT0FBTyxJQUFJLENBQUNULFVBQVU7SUFDeEIsRUFFQTs7R0FFQztJQUNETyxPQUFPRyxlQUFlLEdBQUcsU0FBU0E7UUFDaEMsT0FBTyxJQUFJLENBQUNELGFBQWEsR0FBR1YsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFO0lBQzNDLEVBRUE7O0dBRUM7SUFDRFEsT0FBT0ksV0FBVyxHQUFHLFNBQVNBO1FBQzVCLE9BQU8sSUFBSSxDQUFDVixRQUFRO0lBQ3RCLEVBT0E7Ozs7Ozs7Ozs7R0FVQztJQUNETSxPQUFPSyxNQUFNLEdBQUcsU0FBU0EsT0FBT0MsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLGNBQWMsRUFBRUMsY0FBYyxFQUFFQyxRQUFRLEVBQUVDLGNBQWM7UUFDMUcsSUFBSUMsUUFBUSxJQUFJO1FBQ2hCLElBQUlDLFVBQVU7WUFDWjdCLFVBQVUsSUFBSSxDQUFDVSxRQUFRO1lBQ3ZCb0IsVUFBVVI7WUFDVlMsVUFBVVI7WUFDVlMsZ0JBQWdCUjtZQUNoQlMsZ0JBQWdCUjtZQUNoQlMsZ0JBQWdCUDtRQUNsQjtRQUNBLElBQUksSUFBSSxDQUFDUSxrQkFBa0IsQ0FBQ2IsV0FBVztZQUNyQ08sUUFBUU8sZUFBZSxHQUFHLElBQUksQ0FBQ0Qsa0JBQWtCLENBQUNiO1FBQ3BEO1FBQ0EsSUFBSSxDQUFDWCxNQUFNLENBQUMwQixPQUFPLENBQUMsVUFBVVIsU0FBUyxTQUFVUyxHQUFHLEVBQUUxQyxJQUFJO1lBQ3hELElBQUkwQyxLQUFLO2dCQUNQLE9BQU9aLFNBQVNZLEtBQUs7WUFDdkI7WUFDQSxJQUFJQyxjQUFjO2dCQUNoQlQsVUFBVVI7Z0JBQ1ZrQixNQUFNWjtnQkFDTmQsU0FBU2MsTUFBTWYsT0FBTztZQUN4QjtZQUNBLElBQUk0QixhQUFhO2dCQUNmQyxNQUFNLElBQUlsRCxvREFBV0EsQ0FBQytDO2dCQUN0QkksZUFBZS9DLEtBQUtnRCxhQUFhO2dCQUNqQ0MsU0FBU2pELEtBQUtrRCxPQUFPO2dCQUNyQkMscUJBQXFCbkQsS0FBS29ELG1CQUFtQjtZQUMvQztZQUNBLE9BQU90QixTQUFTLE1BQU1lO1FBQ3hCO0lBQ0YsRUFFQTs7OztHQUlDO0lBQ0R6QixPQUFPaUMsY0FBYyxHQUFHLFNBQVNBO1FBQy9CLElBQUlDLGNBQWMsb0NBQW9DLElBQUksQ0FBQ3hDLFFBQVEsR0FBRztRQUN0RSxJQUFJeUMsZUFBZSxJQUFJLENBQUN0QyxPQUFPLENBQUN1QyxPQUFPLENBQUNGO1FBQ3hDLElBQUlDLGNBQWM7WUFDaEIsSUFBSVosY0FBYztnQkFDaEJULFVBQVVxQjtnQkFDVlgsTUFBTSxJQUFJO2dCQUNWMUIsU0FBUyxJQUFJLENBQUNELE9BQU87WUFDdkI7WUFDQSxPQUFPLElBQUlyQixvREFBV0EsQ0FBQytDO1FBQ3pCO1FBQ0EsT0FBTztJQUNULEVBRUE7Ozs7Ozs7SUFPRTtJQUNGdkIsT0FBT21CLGtCQUFrQixHQUFHLFNBQVNBLG1CQUFtQmIsUUFBUTtRQUM5RCxJQUFJLE9BQU8rQixzQ0FBc0MsYUFBYTtZQUM1RCxPQUFPQztRQUNUO1FBQ0Esa0JBQWtCLEdBQ2xCLElBQUlDLHlDQUF5Q0Y7UUFDN0MsaUJBQWlCLEdBRWpCLElBQUksSUFBSSxDQUFDekMsa0NBQWtDLEVBQUU7WUFDM0MsSUFBSTRDLHVCQUF1QkQsdUNBQXVDRSxPQUFPLENBQUNuQyxVQUFVLElBQUksQ0FBQ2IsVUFBVSxFQUFFLElBQUksQ0FBQ0MsUUFBUTtZQUNsSCxJQUFJOEMsc0JBQXNCO2dCQUN4QixJQUFJRSxrQkFBa0I7b0JBQ3BCQyxhQUFhSDtnQkFDZjtnQkFDQSxPQUFPRTtZQUNUO1FBQ0Y7UUFDQSxPQUFPLENBQUM7SUFDVjtJQUNBLE9BQU8vRDtBQUNUO0FBQ3NDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnV6enktb2N0by1icm9jY29saS1uZXh0Ly4vbm9kZV9tb2R1bGVzL2FtYXpvbi1jb2duaXRvLWlkZW50aXR5LWpzL2VzL0NvZ25pdG9Vc2VyUG9vbC5qcz8yMDYzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCBDbGllbnQgZnJvbSAnLi9DbGllbnQnO1xuaW1wb3J0IENvZ25pdG9Vc2VyIGZyb20gJy4vQ29nbml0b1VzZXInO1xuaW1wb3J0IFN0b3JhZ2VIZWxwZXIgZnJvbSAnLi9TdG9yYWdlSGVscGVyJztcbnZhciBVU0VSX1BPT0xfSURfTUFYX0xFTkdUSCA9IDU1O1xuXG4vKiogQGNsYXNzICovXG52YXIgQ29nbml0b1VzZXJQb29sID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgYSBuZXcgQ29nbml0b1VzZXJQb29sIG9iamVjdFxuICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YSBDcmVhdGlvbiBvcHRpb25zLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YS5Vc2VyUG9vbElkIENvZ25pdG8gdXNlciBwb29sIGlkLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YS5DbGllbnRJZCBVc2VyIHBvb2wgYXBwbGljYXRpb24gY2xpZW50IGlkLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YS5lbmRwb2ludCBPcHRpb25hbCBjdXN0b20gc2VydmljZSBlbmRwb2ludC5cbiAgICogQHBhcmFtIHtvYmplY3R9IGRhdGEuZmV0Y2hPcHRpb25zIE9wdGlvbmFsIG9wdGlvbnMgZm9yIGZldGNoIEFQSS5cbiAgICogICAgICAgIChvbmx5IGNyZWRlbnRpYWxzIG9wdGlvbiBpcyBzdXBwb3J0ZWQpXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhLlN0b3JhZ2UgT3B0aW9uYWwgc3RvcmFnZSBvYmplY3QuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gZGF0YS5BZHZhbmNlZFNlY3VyaXR5RGF0YUNvbGxlY3Rpb25GbGFnIE9wdGlvbmFsOlxuICAgKiAgICAgICAgYm9vbGVhbiBmbGFnIGluZGljYXRpbmcgaWYgdGhlIGRhdGEgY29sbGVjdGlvbiBpcyBlbmFibGVkXG4gICAqICAgICAgICB0byBzdXBwb3J0IGNvZ25pdG8gYWR2YW5jZWQgc2VjdXJpdHkgZmVhdHVyZXMuIEJ5IGRlZmF1bHQsIHRoaXNcbiAgICogICAgICAgIGZsYWcgaXMgc2V0IHRvIHRydWUuXG4gICAqL1xuICBmdW5jdGlvbiBDb2duaXRvVXNlclBvb2woZGF0YSwgd3JhcFJlZnJlc2hTZXNzaW9uQ2FsbGJhY2spIHtcbiAgICB2YXIgX3JlZiA9IGRhdGEgfHwge30sXG4gICAgICBVc2VyUG9vbElkID0gX3JlZi5Vc2VyUG9vbElkLFxuICAgICAgQ2xpZW50SWQgPSBfcmVmLkNsaWVudElkLFxuICAgICAgZW5kcG9pbnQgPSBfcmVmLmVuZHBvaW50LFxuICAgICAgZmV0Y2hPcHRpb25zID0gX3JlZi5mZXRjaE9wdGlvbnMsXG4gICAgICBBZHZhbmNlZFNlY3VyaXR5RGF0YUNvbGxlY3Rpb25GbGFnID0gX3JlZi5BZHZhbmNlZFNlY3VyaXR5RGF0YUNvbGxlY3Rpb25GbGFnO1xuICAgIGlmICghVXNlclBvb2xJZCB8fCAhQ2xpZW50SWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQm90aCBVc2VyUG9vbElkIGFuZCBDbGllbnRJZCBhcmUgcmVxdWlyZWQuJyk7XG4gICAgfVxuICAgIGlmIChVc2VyUG9vbElkLmxlbmd0aCA+IFVTRVJfUE9PTF9JRF9NQVhfTEVOR1RIIHx8ICEvXltcXHctXStfWzAtOWEtekEtWl0rJC8udGVzdChVc2VyUG9vbElkKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFVzZXJQb29sSWQgZm9ybWF0LicpO1xuICAgIH1cbiAgICB2YXIgcmVnaW9uID0gVXNlclBvb2xJZC5zcGxpdCgnXycpWzBdO1xuICAgIHRoaXMudXNlclBvb2xJZCA9IFVzZXJQb29sSWQ7XG4gICAgdGhpcy5jbGllbnRJZCA9IENsaWVudElkO1xuICAgIHRoaXMuY2xpZW50ID0gbmV3IENsaWVudChyZWdpb24sIGVuZHBvaW50LCBmZXRjaE9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogQnkgZGVmYXVsdCwgQWR2YW5jZWRTZWN1cml0eURhdGFDb2xsZWN0aW9uRmxhZyBpcyBzZXQgdG8gdHJ1ZSxcbiAgICAgKiBpZiBubyBpbnB1dCB2YWx1ZSBpcyBwcm92aWRlZC5cbiAgICAgKi9cbiAgICB0aGlzLmFkdmFuY2VkU2VjdXJpdHlEYXRhQ29sbGVjdGlvbkZsYWcgPSBBZHZhbmNlZFNlY3VyaXR5RGF0YUNvbGxlY3Rpb25GbGFnICE9PSBmYWxzZTtcbiAgICB0aGlzLnN0b3JhZ2UgPSBkYXRhLlN0b3JhZ2UgfHwgbmV3IFN0b3JhZ2VIZWxwZXIoKS5nZXRTdG9yYWdlKCk7XG4gICAgaWYgKHdyYXBSZWZyZXNoU2Vzc2lvbkNhbGxiYWNrKSB7XG4gICAgICB0aGlzLndyYXBSZWZyZXNoU2Vzc2lvbkNhbGxiYWNrID0gd3JhcFJlZnJlc2hTZXNzaW9uQ2FsbGJhY2s7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IHRoZSB1c2VyIHBvb2wgaWRcbiAgICovXG4gIHZhciBfcHJvdG8gPSBDb2duaXRvVXNlclBvb2wucHJvdG90eXBlO1xuICBfcHJvdG8uZ2V0VXNlclBvb2xJZCA9IGZ1bmN0aW9uIGdldFVzZXJQb29sSWQoKSB7XG4gICAgcmV0dXJuIHRoaXMudXNlclBvb2xJZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUgdXNlciBwb29sIG5hbWVcbiAgICovO1xuICBfcHJvdG8uZ2V0VXNlclBvb2xOYW1lID0gZnVuY3Rpb24gZ2V0VXNlclBvb2xOYW1lKCkge1xuICAgIHJldHVybiB0aGlzLmdldFVzZXJQb29sSWQoKS5zcGxpdCgnXycpWzFdO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IHRoZSBjbGllbnQgaWRcbiAgICovO1xuICBfcHJvdG8uZ2V0Q2xpZW50SWQgPSBmdW5jdGlvbiBnZXRDbGllbnRJZCgpIHtcbiAgICByZXR1cm4gdGhpcy5jbGllbnRJZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAdHlwZWRlZiB7b2JqZWN0fSBTaWduVXBSZXN1bHRcbiAgICogQHByb3BlcnR5IHtDb2duaXRvVXNlcn0gdXNlciBOZXcgdXNlci5cbiAgICogQHByb3BlcnR5IHtib29sfSB1c2VyQ29uZmlybWVkIElmIHRoZSB1c2VyIGlzIGFscmVhZHkgY29uZmlybWVkLlxuICAgKi9cbiAgLyoqXG4gICAqIG1ldGhvZCBmb3Igc2lnbmluZyB1cCBhIHVzZXJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVzZXJuYW1lIFVzZXIncyB1c2VybmFtZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhc3N3b3JkIFBsYWluLXRleHQgaW5pdGlhbCBwYXNzd29yZCBlbnRlcmVkIGJ5IHVzZXIuXG4gICAqIEBwYXJhbSB7KEF0dHJpYnV0ZUFyZ1tdKT19IHVzZXJBdHRyaWJ1dGVzIE5ldyB1c2VyIGF0dHJpYnV0ZXMuXG4gICAqIEBwYXJhbSB7KEF0dHJpYnV0ZUFyZ1tdKT19IHZhbGlkYXRpb25EYXRhIEFwcGxpY2F0aW9uIG1ldGFkYXRhLlxuICAgKiBAcGFyYW0geyhBdHRyaWJ1dGVBcmdbXSk9fSBjbGllbnRNZXRhZGF0YSBDbGllbnQgbWV0YWRhdGEuXG4gICAqIEBwYXJhbSB7bm9kZUNhbGxiYWNrPFNpZ25VcFJlc3VsdD59IGNhbGxiYWNrIENhbGxlZCBvbiBlcnJvciBvciB3aXRoIHRoZSBuZXcgdXNlci5cbiAgICogQHBhcmFtIHtDbGllbnRNZXRhZGF0YX0gY2xpZW50TWV0YWRhdGEgb2JqZWN0IHdoaWNoIGlzIHBhc3NlZCBmcm9tIGNsaWVudCB0byBDb2duaXRvIExhbWJkYSB0cmlnZ2VyXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi87XG4gIF9wcm90by5zaWduVXAgPSBmdW5jdGlvbiBzaWduVXAodXNlcm5hbWUsIHBhc3N3b3JkLCB1c2VyQXR0cmlidXRlcywgdmFsaWRhdGlvbkRhdGEsIGNhbGxiYWNrLCBjbGllbnRNZXRhZGF0YSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIGpzb25SZXEgPSB7XG4gICAgICBDbGllbnRJZDogdGhpcy5jbGllbnRJZCxcbiAgICAgIFVzZXJuYW1lOiB1c2VybmFtZSxcbiAgICAgIFBhc3N3b3JkOiBwYXNzd29yZCxcbiAgICAgIFVzZXJBdHRyaWJ1dGVzOiB1c2VyQXR0cmlidXRlcyxcbiAgICAgIFZhbGlkYXRpb25EYXRhOiB2YWxpZGF0aW9uRGF0YSxcbiAgICAgIENsaWVudE1ldGFkYXRhOiBjbGllbnRNZXRhZGF0YVxuICAgIH07XG4gICAgaWYgKHRoaXMuZ2V0VXNlckNvbnRleHREYXRhKHVzZXJuYW1lKSkge1xuICAgICAganNvblJlcS5Vc2VyQ29udGV4dERhdGEgPSB0aGlzLmdldFVzZXJDb250ZXh0RGF0YSh1c2VybmFtZSk7XG4gICAgfVxuICAgIHRoaXMuY2xpZW50LnJlcXVlc3QoJ1NpZ25VcCcsIGpzb25SZXEsIGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVyciwgbnVsbCk7XG4gICAgICB9XG4gICAgICB2YXIgY29nbml0b1VzZXIgPSB7XG4gICAgICAgIFVzZXJuYW1lOiB1c2VybmFtZSxcbiAgICAgICAgUG9vbDogX3RoaXMsXG4gICAgICAgIFN0b3JhZ2U6IF90aGlzLnN0b3JhZ2VcbiAgICAgIH07XG4gICAgICB2YXIgcmV0dXJuRGF0YSA9IHtcbiAgICAgICAgdXNlcjogbmV3IENvZ25pdG9Vc2VyKGNvZ25pdG9Vc2VyKSxcbiAgICAgICAgdXNlckNvbmZpcm1lZDogZGF0YS5Vc2VyQ29uZmlybWVkLFxuICAgICAgICB1c2VyU3ViOiBkYXRhLlVzZXJTdWIsXG4gICAgICAgIGNvZGVEZWxpdmVyeURldGFpbHM6IGRhdGEuQ29kZURlbGl2ZXJ5RGV0YWlsc1xuICAgICAgfTtcbiAgICAgIHJldHVybiBjYWxsYmFjayhudWxsLCByZXR1cm5EYXRhKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBtZXRob2QgZm9yIGdldHRpbmcgdGhlIGN1cnJlbnQgdXNlciBvZiB0aGUgYXBwbGljYXRpb24gZnJvbSB0aGUgbG9jYWwgc3RvcmFnZVxuICAgKlxuICAgKiBAcmV0dXJucyB7Q29nbml0b1VzZXJ9IHRoZSB1c2VyIHJldHJpZXZlZCBmcm9tIHN0b3JhZ2VcbiAgICovO1xuICBfcHJvdG8uZ2V0Q3VycmVudFVzZXIgPSBmdW5jdGlvbiBnZXRDdXJyZW50VXNlcigpIHtcbiAgICB2YXIgbGFzdFVzZXJLZXkgPSBcIkNvZ25pdG9JZGVudGl0eVNlcnZpY2VQcm92aWRlci5cIiArIHRoaXMuY2xpZW50SWQgKyBcIi5MYXN0QXV0aFVzZXJcIjtcbiAgICB2YXIgbGFzdEF1dGhVc2VyID0gdGhpcy5zdG9yYWdlLmdldEl0ZW0obGFzdFVzZXJLZXkpO1xuICAgIGlmIChsYXN0QXV0aFVzZXIpIHtcbiAgICAgIHZhciBjb2duaXRvVXNlciA9IHtcbiAgICAgICAgVXNlcm5hbWU6IGxhc3RBdXRoVXNlcixcbiAgICAgICAgUG9vbDogdGhpcyxcbiAgICAgICAgU3RvcmFnZTogdGhpcy5zdG9yYWdlXG4gICAgICB9O1xuICAgICAgcmV0dXJuIG5ldyBDb2duaXRvVXNlcihjb2duaXRvVXNlcik7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGVuY29kZWQgZGF0YSBzdHJpbmcgdXNlZCBmb3IgY29nbml0byBhZHZhbmNlZCBzZWN1cml0eSBmZWF0dXJlLlxuICAgKiBUaGlzIHdvdWxkIGJlIGdlbmVyYXRlZCBvbmx5IHdoZW4gZGV2ZWxvcGVyIGhhcyBpbmNsdWRlZCB0aGUgSlMgdXNlZCBmb3IgY29sbGVjdGluZyB0aGVcbiAgICogZGF0YSBvbiB0aGVpciBjbGllbnQuIFBsZWFzZSByZWZlciB0byBkb2N1bWVudGF0aW9uIHRvIGtub3cgbW9yZSBhYm91dCB1c2luZyBBZHZhbmNlZFNlY3VyaXR5XG4gICAqIGZlYXR1cmVzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VybmFtZSB0aGUgdXNlcm5hbWUgZm9yIHRoZSBjb250ZXh0IGRhdGFcbiAgICogQHJldHVybnMge3N0cmluZ30gdGhlIHVzZXIgY29udGV4dCBkYXRhXG4gICAqKi87XG4gIF9wcm90by5nZXRVc2VyQ29udGV4dERhdGEgPSBmdW5jdGlvbiBnZXRVc2VyQ29udGV4dERhdGEodXNlcm5hbWUpIHtcbiAgICBpZiAodHlwZW9mIEFtYXpvbkNvZ25pdG9BZHZhbmNlZFNlY3VyaXR5RGF0YSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qIGVzbGludC1kaXNhYmxlICovXG4gICAgdmFyIGFtYXpvbkNvZ25pdG9BZHZhbmNlZFNlY3VyaXR5RGF0YUNvbnN0ID0gQW1hem9uQ29nbml0b0FkdmFuY2VkU2VjdXJpdHlEYXRhO1xuICAgIC8qIGVzbGludC1lbmFibGUgKi9cblxuICAgIGlmICh0aGlzLmFkdmFuY2VkU2VjdXJpdHlEYXRhQ29sbGVjdGlvbkZsYWcpIHtcbiAgICAgIHZhciBhZHZhbmNlZFNlY3VyaXR5RGF0YSA9IGFtYXpvbkNvZ25pdG9BZHZhbmNlZFNlY3VyaXR5RGF0YUNvbnN0LmdldERhdGEodXNlcm5hbWUsIHRoaXMudXNlclBvb2xJZCwgdGhpcy5jbGllbnRJZCk7XG4gICAgICBpZiAoYWR2YW5jZWRTZWN1cml0eURhdGEpIHtcbiAgICAgICAgdmFyIHVzZXJDb250ZXh0RGF0YSA9IHtcbiAgICAgICAgICBFbmNvZGVkRGF0YTogYWR2YW5jZWRTZWN1cml0eURhdGFcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHVzZXJDb250ZXh0RGF0YTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHt9O1xuICB9O1xuICByZXR1cm4gQ29nbml0b1VzZXJQb29sO1xufSgpO1xuZXhwb3J0IHsgQ29nbml0b1VzZXJQb29sIGFzIGRlZmF1bHQgfTsiXSwibmFtZXMiOlsiQ2xpZW50IiwiQ29nbml0b1VzZXIiLCJTdG9yYWdlSGVscGVyIiwiVVNFUl9QT09MX0lEX01BWF9MRU5HVEgiLCJDb2duaXRvVXNlclBvb2wiLCJkYXRhIiwid3JhcFJlZnJlc2hTZXNzaW9uQ2FsbGJhY2siLCJfcmVmIiwiVXNlclBvb2xJZCIsIkNsaWVudElkIiwiZW5kcG9pbnQiLCJmZXRjaE9wdGlvbnMiLCJBZHZhbmNlZFNlY3VyaXR5RGF0YUNvbGxlY3Rpb25GbGFnIiwiRXJyb3IiLCJsZW5ndGgiLCJ0ZXN0IiwicmVnaW9uIiwic3BsaXQiLCJ1c2VyUG9vbElkIiwiY2xpZW50SWQiLCJjbGllbnQiLCJhZHZhbmNlZFNlY3VyaXR5RGF0YUNvbGxlY3Rpb25GbGFnIiwic3RvcmFnZSIsIlN0b3JhZ2UiLCJnZXRTdG9yYWdlIiwiX3Byb3RvIiwicHJvdG90eXBlIiwiZ2V0VXNlclBvb2xJZCIsImdldFVzZXJQb29sTmFtZSIsImdldENsaWVudElkIiwic2lnblVwIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInVzZXJBdHRyaWJ1dGVzIiwidmFsaWRhdGlvbkRhdGEiLCJjYWxsYmFjayIsImNsaWVudE1ldGFkYXRhIiwiX3RoaXMiLCJqc29uUmVxIiwiVXNlcm5hbWUiLCJQYXNzd29yZCIsIlVzZXJBdHRyaWJ1dGVzIiwiVmFsaWRhdGlvbkRhdGEiLCJDbGllbnRNZXRhZGF0YSIsImdldFVzZXJDb250ZXh0RGF0YSIsIlVzZXJDb250ZXh0RGF0YSIsInJlcXVlc3QiLCJlcnIiLCJjb2duaXRvVXNlciIsIlBvb2wiLCJyZXR1cm5EYXRhIiwidXNlciIsInVzZXJDb25maXJtZWQiLCJVc2VyQ29uZmlybWVkIiwidXNlclN1YiIsIlVzZXJTdWIiLCJjb2RlRGVsaXZlcnlEZXRhaWxzIiwiQ29kZURlbGl2ZXJ5RGV0YWlscyIsImdldEN1cnJlbnRVc2VyIiwibGFzdFVzZXJLZXkiLCJsYXN0QXV0aFVzZXIiLCJnZXRJdGVtIiwiQW1hem9uQ29nbml0b0FkdmFuY2VkU2VjdXJpdHlEYXRhIiwidW5kZWZpbmVkIiwiYW1hem9uQ29nbml0b0FkdmFuY2VkU2VjdXJpdHlEYXRhQ29uc3QiLCJhZHZhbmNlZFNlY3VyaXR5RGF0YSIsImdldERhdGEiLCJ1c2VyQ29udGV4dERhdGEiLCJFbmNvZGVkRGF0YSIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/amazon-cognito-identity-js/es/CognitoUserPool.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/amazon-cognito-identity-js/es/CognitoUserSession.js":
/*!**************************************************************************!*\
  !*** ./node_modules/amazon-cognito-identity-js/es/CognitoUserSession.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CognitoUserSession)\n/* harmony export */ });\n/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */ /** @class */ var CognitoUserSession = /*#__PURE__*/ function() {\n    /**\n   * Constructs a new CognitoUserSession object\n   * @param {CognitoIdToken} IdToken The session's Id token.\n   * @param {CognitoRefreshToken=} RefreshToken The session's refresh token.\n   * @param {CognitoAccessToken} AccessToken The session's access token.\n   * @param {int} ClockDrift The saved computer's clock drift or undefined to force calculation.\n   */ function CognitoUserSession(_temp) {\n        var _ref = _temp === void 0 ? {} : _temp, IdToken = _ref.IdToken, RefreshToken = _ref.RefreshToken, AccessToken = _ref.AccessToken, ClockDrift = _ref.ClockDrift;\n        if (AccessToken == null || IdToken == null) {\n            throw new Error(\"Id token and Access Token must be present.\");\n        }\n        this.idToken = IdToken;\n        this.refreshToken = RefreshToken;\n        this.accessToken = AccessToken;\n        this.clockDrift = ClockDrift === undefined ? this.calculateClockDrift() : ClockDrift;\n    }\n    /**\n   * @returns {CognitoIdToken} the session's Id token\n   */ var _proto = CognitoUserSession.prototype;\n    _proto.getIdToken = function getIdToken() {\n        return this.idToken;\n    } /**\n   * @returns {CognitoRefreshToken} the session's refresh token\n   */ ;\n    _proto.getRefreshToken = function getRefreshToken() {\n        return this.refreshToken;\n    } /**\n   * @returns {CognitoAccessToken} the session's access token\n   */ ;\n    _proto.getAccessToken = function getAccessToken() {\n        return this.accessToken;\n    } /**\n   * @returns {int} the session's clock drift\n   */ ;\n    _proto.getClockDrift = function getClockDrift() {\n        return this.clockDrift;\n    } /**\n   * @returns {int} the computer's clock drift\n   */ ;\n    _proto.calculateClockDrift = function calculateClockDrift() {\n        var now = Math.floor(new Date() / 1000);\n        var iat = Math.min(this.accessToken.getIssuedAt(), this.idToken.getIssuedAt());\n        return now - iat;\n    } /**\n   * Checks to see if the session is still valid based on session expiry information found\n   * in tokens and the current time (adjusted with clock drift)\n   * @returns {boolean} if the session is still valid\n   */ ;\n    _proto.isValid = function isValid() {\n        var now = Math.floor(new Date() / 1000);\n        var adjusted = now - this.clockDrift;\n        return adjusted < this.accessToken.getExpiration() && adjusted < this.idToken.getExpiration();\n    };\n    return CognitoUserSession;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYW1hem9uLWNvZ25pdG8taWRlbnRpdHktanMvZXMvQ29nbml0b1VzZXJTZXNzaW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7O0NBR0MsR0FDRCxXQUFXLEdBQ1gsSUFBSUEscUJBQXFCLFdBQVcsR0FBRTtJQUNwQzs7Ozs7O0dBTUMsR0FDRCxTQUFTQSxtQkFBbUJDLEtBQUs7UUFDL0IsSUFBSUMsT0FBT0QsVUFBVSxLQUFLLElBQUksQ0FBQyxJQUFJQSxPQUNqQ0UsVUFBVUQsS0FBS0MsT0FBTyxFQUN0QkMsZUFBZUYsS0FBS0UsWUFBWSxFQUNoQ0MsY0FBY0gsS0FBS0csV0FBVyxFQUM5QkMsYUFBYUosS0FBS0ksVUFBVTtRQUM5QixJQUFJRCxlQUFlLFFBQVFGLFdBQVcsTUFBTTtZQUMxQyxNQUFNLElBQUlJLE1BQU07UUFDbEI7UUFDQSxJQUFJLENBQUNDLE9BQU8sR0FBR0w7UUFDZixJQUFJLENBQUNNLFlBQVksR0FBR0w7UUFDcEIsSUFBSSxDQUFDTSxXQUFXLEdBQUdMO1FBQ25CLElBQUksQ0FBQ00sVUFBVSxHQUFHTCxlQUFlTSxZQUFZLElBQUksQ0FBQ0MsbUJBQW1CLEtBQUtQO0lBQzVFO0lBRUE7O0dBRUMsR0FDRCxJQUFJUSxTQUFTZCxtQkFBbUJlLFNBQVM7SUFDekNELE9BQU9FLFVBQVUsR0FBRyxTQUFTQTtRQUMzQixPQUFPLElBQUksQ0FBQ1IsT0FBTztJQUNyQixFQUVBOztHQUVDO0lBQ0RNLE9BQU9HLGVBQWUsR0FBRyxTQUFTQTtRQUNoQyxPQUFPLElBQUksQ0FBQ1IsWUFBWTtJQUMxQixFQUVBOztHQUVDO0lBQ0RLLE9BQU9JLGNBQWMsR0FBRyxTQUFTQTtRQUMvQixPQUFPLElBQUksQ0FBQ1IsV0FBVztJQUN6QixFQUVBOztHQUVDO0lBQ0RJLE9BQU9LLGFBQWEsR0FBRyxTQUFTQTtRQUM5QixPQUFPLElBQUksQ0FBQ1IsVUFBVTtJQUN4QixFQUVBOztHQUVDO0lBQ0RHLE9BQU9ELG1CQUFtQixHQUFHLFNBQVNBO1FBQ3BDLElBQUlPLE1BQU1DLEtBQUtDLEtBQUssQ0FBQyxJQUFJQyxTQUFTO1FBQ2xDLElBQUlDLE1BQU1ILEtBQUtJLEdBQUcsQ0FBQyxJQUFJLENBQUNmLFdBQVcsQ0FBQ2dCLFdBQVcsSUFBSSxJQUFJLENBQUNsQixPQUFPLENBQUNrQixXQUFXO1FBQzNFLE9BQU9OLE1BQU1JO0lBQ2YsRUFFQTs7OztHQUlDO0lBQ0RWLE9BQU9hLE9BQU8sR0FBRyxTQUFTQTtRQUN4QixJQUFJUCxNQUFNQyxLQUFLQyxLQUFLLENBQUMsSUFBSUMsU0FBUztRQUNsQyxJQUFJSyxXQUFXUixNQUFNLElBQUksQ0FBQ1QsVUFBVTtRQUNwQyxPQUFPaUIsV0FBVyxJQUFJLENBQUNsQixXQUFXLENBQUNtQixhQUFhLE1BQU1ELFdBQVcsSUFBSSxDQUFDcEIsT0FBTyxDQUFDcUIsYUFBYTtJQUM3RjtJQUNBLE9BQU83QjtBQUNUO0FBQ3lDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnV6enktb2N0by1icm9jY29saS1uZXh0Ly4vbm9kZV9tb2R1bGVzL2FtYXpvbi1jb2duaXRvLWlkZW50aXR5LWpzL2VzL0NvZ25pdG9Vc2VyU2Vzc2lvbi5qcz8zMGJkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG4vKiogQGNsYXNzICovXG52YXIgQ29nbml0b1VzZXJTZXNzaW9uID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgYSBuZXcgQ29nbml0b1VzZXJTZXNzaW9uIG9iamVjdFxuICAgKiBAcGFyYW0ge0NvZ25pdG9JZFRva2VufSBJZFRva2VuIFRoZSBzZXNzaW9uJ3MgSWQgdG9rZW4uXG4gICAqIEBwYXJhbSB7Q29nbml0b1JlZnJlc2hUb2tlbj19IFJlZnJlc2hUb2tlbiBUaGUgc2Vzc2lvbidzIHJlZnJlc2ggdG9rZW4uXG4gICAqIEBwYXJhbSB7Q29nbml0b0FjY2Vzc1Rva2VufSBBY2Nlc3NUb2tlbiBUaGUgc2Vzc2lvbidzIGFjY2VzcyB0b2tlbi5cbiAgICogQHBhcmFtIHtpbnR9IENsb2NrRHJpZnQgVGhlIHNhdmVkIGNvbXB1dGVyJ3MgY2xvY2sgZHJpZnQgb3IgdW5kZWZpbmVkIHRvIGZvcmNlIGNhbGN1bGF0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gQ29nbml0b1VzZXJTZXNzaW9uKF90ZW1wKSB7XG4gICAgdmFyIF9yZWYgPSBfdGVtcCA9PT0gdm9pZCAwID8ge30gOiBfdGVtcCxcbiAgICAgIElkVG9rZW4gPSBfcmVmLklkVG9rZW4sXG4gICAgICBSZWZyZXNoVG9rZW4gPSBfcmVmLlJlZnJlc2hUb2tlbixcbiAgICAgIEFjY2Vzc1Rva2VuID0gX3JlZi5BY2Nlc3NUb2tlbixcbiAgICAgIENsb2NrRHJpZnQgPSBfcmVmLkNsb2NrRHJpZnQ7XG4gICAgaWYgKEFjY2Vzc1Rva2VuID09IG51bGwgfHwgSWRUb2tlbiA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0lkIHRva2VuIGFuZCBBY2Nlc3MgVG9rZW4gbXVzdCBiZSBwcmVzZW50LicpO1xuICAgIH1cbiAgICB0aGlzLmlkVG9rZW4gPSBJZFRva2VuO1xuICAgIHRoaXMucmVmcmVzaFRva2VuID0gUmVmcmVzaFRva2VuO1xuICAgIHRoaXMuYWNjZXNzVG9rZW4gPSBBY2Nlc3NUb2tlbjtcbiAgICB0aGlzLmNsb2NrRHJpZnQgPSBDbG9ja0RyaWZ0ID09PSB1bmRlZmluZWQgPyB0aGlzLmNhbGN1bGF0ZUNsb2NrRHJpZnQoKSA6IENsb2NrRHJpZnQ7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge0NvZ25pdG9JZFRva2VufSB0aGUgc2Vzc2lvbidzIElkIHRva2VuXG4gICAqL1xuICB2YXIgX3Byb3RvID0gQ29nbml0b1VzZXJTZXNzaW9uLnByb3RvdHlwZTtcbiAgX3Byb3RvLmdldElkVG9rZW4gPSBmdW5jdGlvbiBnZXRJZFRva2VuKCkge1xuICAgIHJldHVybiB0aGlzLmlkVG9rZW47XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge0NvZ25pdG9SZWZyZXNoVG9rZW59IHRoZSBzZXNzaW9uJ3MgcmVmcmVzaCB0b2tlblxuICAgKi87XG4gIF9wcm90by5nZXRSZWZyZXNoVG9rZW4gPSBmdW5jdGlvbiBnZXRSZWZyZXNoVG9rZW4oKSB7XG4gICAgcmV0dXJuIHRoaXMucmVmcmVzaFRva2VuO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtDb2duaXRvQWNjZXNzVG9rZW59IHRoZSBzZXNzaW9uJ3MgYWNjZXNzIHRva2VuXG4gICAqLztcbiAgX3Byb3RvLmdldEFjY2Vzc1Rva2VuID0gZnVuY3Rpb24gZ2V0QWNjZXNzVG9rZW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuYWNjZXNzVG9rZW47XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge2ludH0gdGhlIHNlc3Npb24ncyBjbG9jayBkcmlmdFxuICAgKi87XG4gIF9wcm90by5nZXRDbG9ja0RyaWZ0ID0gZnVuY3Rpb24gZ2V0Q2xvY2tEcmlmdCgpIHtcbiAgICByZXR1cm4gdGhpcy5jbG9ja0RyaWZ0O1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtpbnR9IHRoZSBjb21wdXRlcidzIGNsb2NrIGRyaWZ0XG4gICAqLztcbiAgX3Byb3RvLmNhbGN1bGF0ZUNsb2NrRHJpZnQgPSBmdW5jdGlvbiBjYWxjdWxhdGVDbG9ja0RyaWZ0KCkge1xuICAgIHZhciBub3cgPSBNYXRoLmZsb29yKG5ldyBEYXRlKCkgLyAxMDAwKTtcbiAgICB2YXIgaWF0ID0gTWF0aC5taW4odGhpcy5hY2Nlc3NUb2tlbi5nZXRJc3N1ZWRBdCgpLCB0aGlzLmlkVG9rZW4uZ2V0SXNzdWVkQXQoKSk7XG4gICAgcmV0dXJuIG5vdyAtIGlhdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgdG8gc2VlIGlmIHRoZSBzZXNzaW9uIGlzIHN0aWxsIHZhbGlkIGJhc2VkIG9uIHNlc3Npb24gZXhwaXJ5IGluZm9ybWF0aW9uIGZvdW5kXG4gICAqIGluIHRva2VucyBhbmQgdGhlIGN1cnJlbnQgdGltZSAoYWRqdXN0ZWQgd2l0aCBjbG9jayBkcmlmdClcbiAgICogQHJldHVybnMge2Jvb2xlYW59IGlmIHRoZSBzZXNzaW9uIGlzIHN0aWxsIHZhbGlkXG4gICAqLztcbiAgX3Byb3RvLmlzVmFsaWQgPSBmdW5jdGlvbiBpc1ZhbGlkKCkge1xuICAgIHZhciBub3cgPSBNYXRoLmZsb29yKG5ldyBEYXRlKCkgLyAxMDAwKTtcbiAgICB2YXIgYWRqdXN0ZWQgPSBub3cgLSB0aGlzLmNsb2NrRHJpZnQ7XG4gICAgcmV0dXJuIGFkanVzdGVkIDwgdGhpcy5hY2Nlc3NUb2tlbi5nZXRFeHBpcmF0aW9uKCkgJiYgYWRqdXN0ZWQgPCB0aGlzLmlkVG9rZW4uZ2V0RXhwaXJhdGlvbigpO1xuICB9O1xuICByZXR1cm4gQ29nbml0b1VzZXJTZXNzaW9uO1xufSgpO1xuZXhwb3J0IHsgQ29nbml0b1VzZXJTZXNzaW9uIGFzIGRlZmF1bHQgfTsiXSwibmFtZXMiOlsiQ29nbml0b1VzZXJTZXNzaW9uIiwiX3RlbXAiLCJfcmVmIiwiSWRUb2tlbiIsIlJlZnJlc2hUb2tlbiIsIkFjY2Vzc1Rva2VuIiwiQ2xvY2tEcmlmdCIsIkVycm9yIiwiaWRUb2tlbiIsInJlZnJlc2hUb2tlbiIsImFjY2Vzc1Rva2VuIiwiY2xvY2tEcmlmdCIsInVuZGVmaW5lZCIsImNhbGN1bGF0ZUNsb2NrRHJpZnQiLCJfcHJvdG8iLCJwcm90b3R5cGUiLCJnZXRJZFRva2VuIiwiZ2V0UmVmcmVzaFRva2VuIiwiZ2V0QWNjZXNzVG9rZW4iLCJnZXRDbG9ja0RyaWZ0Iiwibm93IiwiTWF0aCIsImZsb29yIiwiRGF0ZSIsImlhdCIsIm1pbiIsImdldElzc3VlZEF0IiwiaXNWYWxpZCIsImFkanVzdGVkIiwiZ2V0RXhwaXJhdGlvbiIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/amazon-cognito-identity-js/es/CognitoUserSession.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/amazon-cognito-identity-js/es/CookieStorage.js":
/*!*********************************************************************!*\
  !*** ./node_modules/amazon-cognito-identity-js/es/CookieStorage.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CookieStorage)\n/* harmony export */ });\n/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! js-cookie */ \"(ssr)/./node_modules/js-cookie/src/js.cookie.js\");\n/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(js_cookie__WEBPACK_IMPORTED_MODULE_0__);\n\n/** @class */ var CookieStorage = /*#__PURE__*/ function() {\n    /**\n   * Constructs a new CookieStorage object\n   * @param {object} data Creation options.\n   * @param {string} data.domain Cookies domain (default: domain of the page\n   * \t\t\t\twhere the cookie was created, excluding subdomains)\n   * @param {string} data.path Cookies path (default: '/')\n   * @param {integer} data.expires Cookie expiration (in days, default: 365)\n   * @param {boolean} data.secure Cookie secure flag (default: true)\n   * @param {string} data.sameSite Cookie request behavior (default: null)\n   */ function CookieStorage(data) {\n        if (data === void 0) {\n            data = {};\n        }\n        if (data.domain) {\n            this.domain = data.domain;\n        }\n        if (data.path) {\n            this.path = data.path;\n        } else {\n            this.path = \"/\";\n        }\n        if (Object.prototype.hasOwnProperty.call(data, \"expires\")) {\n            this.expires = data.expires;\n        } else {\n            this.expires = 365;\n        }\n        if (Object.prototype.hasOwnProperty.call(data, \"secure\")) {\n            this.secure = data.secure;\n        } else {\n            this.secure = true;\n        }\n        if (Object.prototype.hasOwnProperty.call(data, \"sameSite\")) {\n            if (![\n                \"strict\",\n                \"lax\",\n                \"none\"\n            ].includes(data.sameSite)) {\n                throw new Error('The sameSite value of cookieStorage must be \"lax\", \"strict\" or \"none\".');\n            }\n            if (data.sameSite === \"none\" && !this.secure) {\n                throw new Error(\"sameSite = None requires the Secure attribute in latest browser versions.\");\n            }\n            this.sameSite = data.sameSite;\n        } else {\n            this.sameSite = null;\n        }\n    }\n    /**\n   * This is used to set a specific item in storage\n   * @param {string} key - the key for the item\n   * @param {object} value - the value\n   * @returns {string} value that was set\n   */ var _proto = CookieStorage.prototype;\n    _proto.setItem = function setItem(key, value) {\n        var options = {\n            path: this.path,\n            expires: this.expires,\n            domain: this.domain,\n            secure: this.secure\n        };\n        if (this.sameSite) {\n            options.sameSite = this.sameSite;\n        }\n        js_cookie__WEBPACK_IMPORTED_MODULE_0__.set(key, value, options);\n        return js_cookie__WEBPACK_IMPORTED_MODULE_0__.get(key);\n    } /**\n   * This is used to get a specific key from storage\n   * @param {string} key - the key for the item\n   * This is used to clear the storage\n   * @returns {string} the data item\n   */ ;\n    _proto.getItem = function getItem(key) {\n        return js_cookie__WEBPACK_IMPORTED_MODULE_0__.get(key);\n    } /**\n   * This is used to remove an item from storage\n   * @param {string} key - the key being set\n   * @returns {string} value - value that was deleted\n   */ ;\n    _proto.removeItem = function removeItem(key) {\n        var options = {\n            path: this.path,\n            expires: this.expires,\n            domain: this.domain,\n            secure: this.secure\n        };\n        if (this.sameSite) {\n            options.sameSite = this.sameSite;\n        }\n        return js_cookie__WEBPACK_IMPORTED_MODULE_0__.remove(key, options);\n    } /**\n   * This is used to clear the storage of optional\n   * items that were previously set\n   * @returns {} an empty object\n   */ ;\n    _proto.clear = function clear() {\n        var cookies = js_cookie__WEBPACK_IMPORTED_MODULE_0__.get();\n        var numKeys = Object.keys(cookies).length;\n        for(var index = 0; index < numKeys; ++index){\n            this.removeItem(Object.keys(cookies)[index]);\n        }\n        return {};\n    };\n    return CookieStorage;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYW1hem9uLWNvZ25pdG8taWRlbnRpdHktanMvZXMvQ29va2llU3RvcmFnZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBcUM7QUFFckMsV0FBVyxHQUNYLElBQUlDLGdCQUFnQixXQUFXLEdBQUU7SUFDL0I7Ozs7Ozs7OztHQVNDLEdBQ0QsU0FBU0EsY0FBY0MsSUFBSTtRQUN6QixJQUFJQSxTQUFTLEtBQUssR0FBRztZQUNuQkEsT0FBTyxDQUFDO1FBQ1Y7UUFDQSxJQUFJQSxLQUFLQyxNQUFNLEVBQUU7WUFDZixJQUFJLENBQUNBLE1BQU0sR0FBR0QsS0FBS0MsTUFBTTtRQUMzQjtRQUNBLElBQUlELEtBQUtFLElBQUksRUFBRTtZQUNiLElBQUksQ0FBQ0EsSUFBSSxHQUFHRixLQUFLRSxJQUFJO1FBQ3ZCLE9BQU87WUFDTCxJQUFJLENBQUNBLElBQUksR0FBRztRQUNkO1FBQ0EsSUFBSUMsT0FBT0MsU0FBUyxDQUFDQyxjQUFjLENBQUNDLElBQUksQ0FBQ04sTUFBTSxZQUFZO1lBQ3pELElBQUksQ0FBQ08sT0FBTyxHQUFHUCxLQUFLTyxPQUFPO1FBQzdCLE9BQU87WUFDTCxJQUFJLENBQUNBLE9BQU8sR0FBRztRQUNqQjtRQUNBLElBQUlKLE9BQU9DLFNBQVMsQ0FBQ0MsY0FBYyxDQUFDQyxJQUFJLENBQUNOLE1BQU0sV0FBVztZQUN4RCxJQUFJLENBQUNRLE1BQU0sR0FBR1IsS0FBS1EsTUFBTTtRQUMzQixPQUFPO1lBQ0wsSUFBSSxDQUFDQSxNQUFNLEdBQUc7UUFDaEI7UUFDQSxJQUFJTCxPQUFPQyxTQUFTLENBQUNDLGNBQWMsQ0FBQ0MsSUFBSSxDQUFDTixNQUFNLGFBQWE7WUFDMUQsSUFBSSxDQUFDO2dCQUFDO2dCQUFVO2dCQUFPO2FBQU8sQ0FBQ1MsUUFBUSxDQUFDVCxLQUFLVSxRQUFRLEdBQUc7Z0JBQ3RELE1BQU0sSUFBSUMsTUFBTTtZQUNsQjtZQUNBLElBQUlYLEtBQUtVLFFBQVEsS0FBSyxVQUFVLENBQUMsSUFBSSxDQUFDRixNQUFNLEVBQUU7Z0JBQzVDLE1BQU0sSUFBSUcsTUFBTTtZQUNsQjtZQUNBLElBQUksQ0FBQ0QsUUFBUSxHQUFHVixLQUFLVSxRQUFRO1FBQy9CLE9BQU87WUFDTCxJQUFJLENBQUNBLFFBQVEsR0FBRztRQUNsQjtJQUNGO0lBRUE7Ozs7O0dBS0MsR0FDRCxJQUFJRSxTQUFTYixjQUFjSyxTQUFTO0lBQ3BDUSxPQUFPQyxPQUFPLEdBQUcsU0FBU0EsUUFBUUMsR0FBRyxFQUFFQyxLQUFLO1FBQzFDLElBQUlDLFVBQVU7WUFDWmQsTUFBTSxJQUFJLENBQUNBLElBQUk7WUFDZkssU0FBUyxJQUFJLENBQUNBLE9BQU87WUFDckJOLFFBQVEsSUFBSSxDQUFDQSxNQUFNO1lBQ25CTyxRQUFRLElBQUksQ0FBQ0EsTUFBTTtRQUNyQjtRQUNBLElBQUksSUFBSSxDQUFDRSxRQUFRLEVBQUU7WUFDakJNLFFBQVFOLFFBQVEsR0FBRyxJQUFJLENBQUNBLFFBQVE7UUFDbEM7UUFDQVosMENBQVcsQ0FBQ2dCLEtBQUtDLE9BQU9DO1FBQ3hCLE9BQU9sQiwwQ0FBVyxDQUFDZ0I7SUFDckIsRUFFQTs7Ozs7R0FLQztJQUNERixPQUFPTyxPQUFPLEdBQUcsU0FBU0EsUUFBUUwsR0FBRztRQUNuQyxPQUFPaEIsMENBQVcsQ0FBQ2dCO0lBQ3JCLEVBRUE7Ozs7R0FJQztJQUNERixPQUFPUSxVQUFVLEdBQUcsU0FBU0EsV0FBV04sR0FBRztRQUN6QyxJQUFJRSxVQUFVO1lBQ1pkLE1BQU0sSUFBSSxDQUFDQSxJQUFJO1lBQ2ZLLFNBQVMsSUFBSSxDQUFDQSxPQUFPO1lBQ3JCTixRQUFRLElBQUksQ0FBQ0EsTUFBTTtZQUNuQk8sUUFBUSxJQUFJLENBQUNBLE1BQU07UUFDckI7UUFDQSxJQUFJLElBQUksQ0FBQ0UsUUFBUSxFQUFFO1lBQ2pCTSxRQUFRTixRQUFRLEdBQUcsSUFBSSxDQUFDQSxRQUFRO1FBQ2xDO1FBQ0EsT0FBT1osNkNBQWMsQ0FBQ2dCLEtBQUtFO0lBQzdCLEVBRUE7Ozs7R0FJQztJQUNESixPQUFPVSxLQUFLLEdBQUcsU0FBU0E7UUFDdEIsSUFBSUMsVUFBVXpCLDBDQUFXO1FBQ3pCLElBQUkwQixVQUFVckIsT0FBT3NCLElBQUksQ0FBQ0YsU0FBU0csTUFBTTtRQUN6QyxJQUFLLElBQUlDLFFBQVEsR0FBR0EsUUFBUUgsU0FBUyxFQUFFRyxNQUFPO1lBQzVDLElBQUksQ0FBQ1AsVUFBVSxDQUFDakIsT0FBT3NCLElBQUksQ0FBQ0YsUUFBUSxDQUFDSSxNQUFNO1FBQzdDO1FBQ0EsT0FBTyxDQUFDO0lBQ1Y7SUFDQSxPQUFPNUI7QUFDVDtBQUNvQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Z1enp5LW9jdG8tYnJvY2NvbGktbmV4dC8uL25vZGVfbW9kdWxlcy9hbWF6b24tY29nbml0by1pZGVudGl0eS1qcy9lcy9Db29raWVTdG9yYWdlLmpzPzNiZmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgQ29va2llcyBmcm9tICdqcy1jb29raWUnO1xuXG4vKiogQGNsYXNzICovXG52YXIgQ29va2llU3RvcmFnZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgbmV3IENvb2tpZVN0b3JhZ2Ugb2JqZWN0XG4gICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIENyZWF0aW9uIG9wdGlvbnMuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhLmRvbWFpbiBDb29raWVzIGRvbWFpbiAoZGVmYXVsdDogZG9tYWluIG9mIHRoZSBwYWdlXG4gICAqIFx0XHRcdFx0d2hlcmUgdGhlIGNvb2tpZSB3YXMgY3JlYXRlZCwgZXhjbHVkaW5nIHN1YmRvbWFpbnMpXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhLnBhdGggQ29va2llcyBwYXRoIChkZWZhdWx0OiAnLycpXG4gICAqIEBwYXJhbSB7aW50ZWdlcn0gZGF0YS5leHBpcmVzIENvb2tpZSBleHBpcmF0aW9uIChpbiBkYXlzLCBkZWZhdWx0OiAzNjUpXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gZGF0YS5zZWN1cmUgQ29va2llIHNlY3VyZSBmbGFnIChkZWZhdWx0OiB0cnVlKVxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YS5zYW1lU2l0ZSBDb29raWUgcmVxdWVzdCBiZWhhdmlvciAoZGVmYXVsdDogbnVsbClcbiAgICovXG4gIGZ1bmN0aW9uIENvb2tpZVN0b3JhZ2UoZGF0YSkge1xuICAgIGlmIChkYXRhID09PSB2b2lkIDApIHtcbiAgICAgIGRhdGEgPSB7fTtcbiAgICB9XG4gICAgaWYgKGRhdGEuZG9tYWluKSB7XG4gICAgICB0aGlzLmRvbWFpbiA9IGRhdGEuZG9tYWluO1xuICAgIH1cbiAgICBpZiAoZGF0YS5wYXRoKSB7XG4gICAgICB0aGlzLnBhdGggPSBkYXRhLnBhdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucGF0aCA9ICcvJztcbiAgICB9XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCAnZXhwaXJlcycpKSB7XG4gICAgICB0aGlzLmV4cGlyZXMgPSBkYXRhLmV4cGlyZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZXhwaXJlcyA9IDM2NTtcbiAgICB9XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCAnc2VjdXJlJykpIHtcbiAgICAgIHRoaXMuc2VjdXJlID0gZGF0YS5zZWN1cmU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2VjdXJlID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCAnc2FtZVNpdGUnKSkge1xuICAgICAgaWYgKCFbJ3N0cmljdCcsICdsYXgnLCAnbm9uZSddLmluY2x1ZGVzKGRhdGEuc2FtZVNpdGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHNhbWVTaXRlIHZhbHVlIG9mIGNvb2tpZVN0b3JhZ2UgbXVzdCBiZSBcImxheFwiLCBcInN0cmljdFwiIG9yIFwibm9uZVwiLicpO1xuICAgICAgfVxuICAgICAgaWYgKGRhdGEuc2FtZVNpdGUgPT09ICdub25lJyAmJiAhdGhpcy5zZWN1cmUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzYW1lU2l0ZSA9IE5vbmUgcmVxdWlyZXMgdGhlIFNlY3VyZSBhdHRyaWJ1dGUgaW4gbGF0ZXN0IGJyb3dzZXIgdmVyc2lvbnMuJyk7XG4gICAgICB9XG4gICAgICB0aGlzLnNhbWVTaXRlID0gZGF0YS5zYW1lU2l0ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zYW1lU2l0ZSA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgdXNlZCB0byBzZXQgYSBzcGVjaWZpYyBpdGVtIGluIHN0b3JhZ2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIHRoZSBrZXkgZm9yIHRoZSBpdGVtXG4gICAqIEBwYXJhbSB7b2JqZWN0fSB2YWx1ZSAtIHRoZSB2YWx1ZVxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSB2YWx1ZSB0aGF0IHdhcyBzZXRcbiAgICovXG4gIHZhciBfcHJvdG8gPSBDb29raWVTdG9yYWdlLnByb3RvdHlwZTtcbiAgX3Byb3RvLnNldEl0ZW0gPSBmdW5jdGlvbiBzZXRJdGVtKGtleSwgdmFsdWUpIHtcbiAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgIHBhdGg6IHRoaXMucGF0aCxcbiAgICAgIGV4cGlyZXM6IHRoaXMuZXhwaXJlcyxcbiAgICAgIGRvbWFpbjogdGhpcy5kb21haW4sXG4gICAgICBzZWN1cmU6IHRoaXMuc2VjdXJlXG4gICAgfTtcbiAgICBpZiAodGhpcy5zYW1lU2l0ZSkge1xuICAgICAgb3B0aW9ucy5zYW1lU2l0ZSA9IHRoaXMuc2FtZVNpdGU7XG4gICAgfVxuICAgIENvb2tpZXMuc2V0KGtleSwgdmFsdWUsIG9wdGlvbnMpO1xuICAgIHJldHVybiBDb29raWVzLmdldChrZXkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgdXNlZCB0byBnZXQgYSBzcGVjaWZpYyBrZXkgZnJvbSBzdG9yYWdlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSB0aGUga2V5IGZvciB0aGUgaXRlbVxuICAgKiBUaGlzIGlzIHVzZWQgdG8gY2xlYXIgdGhlIHN0b3JhZ2VcbiAgICogQHJldHVybnMge3N0cmluZ30gdGhlIGRhdGEgaXRlbVxuICAgKi87XG4gIF9wcm90by5nZXRJdGVtID0gZnVuY3Rpb24gZ2V0SXRlbShrZXkpIHtcbiAgICByZXR1cm4gQ29va2llcy5nZXQoa2V5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGlzIHVzZWQgdG8gcmVtb3ZlIGFuIGl0ZW0gZnJvbSBzdG9yYWdlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSB0aGUga2V5IGJlaW5nIHNldFxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSB2YWx1ZSAtIHZhbHVlIHRoYXQgd2FzIGRlbGV0ZWRcbiAgICovO1xuICBfcHJvdG8ucmVtb3ZlSXRlbSA9IGZ1bmN0aW9uIHJlbW92ZUl0ZW0oa2V5KSB7XG4gICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICBwYXRoOiB0aGlzLnBhdGgsXG4gICAgICBleHBpcmVzOiB0aGlzLmV4cGlyZXMsXG4gICAgICBkb21haW46IHRoaXMuZG9tYWluLFxuICAgICAgc2VjdXJlOiB0aGlzLnNlY3VyZVxuICAgIH07XG4gICAgaWYgKHRoaXMuc2FtZVNpdGUpIHtcbiAgICAgIG9wdGlvbnMuc2FtZVNpdGUgPSB0aGlzLnNhbWVTaXRlO1xuICAgIH1cbiAgICByZXR1cm4gQ29va2llcy5yZW1vdmUoa2V5LCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGlzIHVzZWQgdG8gY2xlYXIgdGhlIHN0b3JhZ2Ugb2Ygb3B0aW9uYWxcbiAgICogaXRlbXMgdGhhdCB3ZXJlIHByZXZpb3VzbHkgc2V0XG4gICAqIEByZXR1cm5zIHt9IGFuIGVtcHR5IG9iamVjdFxuICAgKi87XG4gIF9wcm90by5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgIHZhciBjb29raWVzID0gQ29va2llcy5nZXQoKTtcbiAgICB2YXIgbnVtS2V5cyA9IE9iamVjdC5rZXlzKGNvb2tpZXMpLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbnVtS2V5czsgKytpbmRleCkge1xuICAgICAgdGhpcy5yZW1vdmVJdGVtKE9iamVjdC5rZXlzKGNvb2tpZXMpW2luZGV4XSk7XG4gICAgfVxuICAgIHJldHVybiB7fTtcbiAgfTtcbiAgcmV0dXJuIENvb2tpZVN0b3JhZ2U7XG59KCk7XG5leHBvcnQgeyBDb29raWVTdG9yYWdlIGFzIGRlZmF1bHQgfTsiXSwibmFtZXMiOlsiQ29va2llcyIsIkNvb2tpZVN0b3JhZ2UiLCJkYXRhIiwiZG9tYWluIiwicGF0aCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImV4cGlyZXMiLCJzZWN1cmUiLCJpbmNsdWRlcyIsInNhbWVTaXRlIiwiRXJyb3IiLCJfcHJvdG8iLCJzZXRJdGVtIiwia2V5IiwidmFsdWUiLCJvcHRpb25zIiwic2V0IiwiZ2V0IiwiZ2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJyZW1vdmUiLCJjbGVhciIsImNvb2tpZXMiLCJudW1LZXlzIiwia2V5cyIsImxlbmd0aCIsImluZGV4IiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/amazon-cognito-identity-js/es/CookieStorage.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/amazon-cognito-identity-js/es/DateHelper.js":
/*!******************************************************************!*\
  !*** ./node_modules/amazon-cognito-identity-js/es/DateHelper.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DateHelper)\n/* harmony export */ });\n/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */ var monthNames = [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\"\n];\nvar weekNames = [\n    \"Sun\",\n    \"Mon\",\n    \"Tue\",\n    \"Wed\",\n    \"Thu\",\n    \"Fri\",\n    \"Sat\"\n];\n/** @class */ var DateHelper = /*#__PURE__*/ function() {\n    function DateHelper() {}\n    var _proto = DateHelper.prototype;\n    /**\n   * @returns {string} The current time in \"ddd MMM D HH:mm:ss UTC YYYY\" format.\n   */ _proto.getNowString = function getNowString() {\n        var now = new Date();\n        var weekDay = weekNames[now.getUTCDay()];\n        var month = monthNames[now.getUTCMonth()];\n        var day = now.getUTCDate();\n        var hours = now.getUTCHours();\n        if (hours < 10) {\n            hours = \"0\" + hours;\n        }\n        var minutes = now.getUTCMinutes();\n        if (minutes < 10) {\n            minutes = \"0\" + minutes;\n        }\n        var seconds = now.getUTCSeconds();\n        if (seconds < 10) {\n            seconds = \"0\" + seconds;\n        }\n        var year = now.getUTCFullYear();\n        // ddd MMM D HH:mm:ss UTC YYYY\n        var dateNow = weekDay + \" \" + month + \" \" + day + \" \" + hours + \":\" + minutes + \":\" + seconds + \" UTC \" + year;\n        return dateNow;\n    };\n    return DateHelper;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYW1hem9uLWNvZ25pdG8taWRlbnRpdHktanMvZXMvRGF0ZUhlbHBlci5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7OztDQUdDLEdBRUQsSUFBSUEsYUFBYTtJQUFDO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztDQUFNO0FBQ3JHLElBQUlDLFlBQVk7SUFBQztJQUFPO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztDQUFNO0FBRWpFLFdBQVcsR0FDWCxJQUFJQyxhQUFhLFdBQVcsR0FBRTtJQUM1QixTQUFTQSxjQUFjO0lBQ3ZCLElBQUlDLFNBQVNELFdBQVdFLFNBQVM7SUFDakM7O0dBRUMsR0FDREQsT0FBT0UsWUFBWSxHQUFHLFNBQVNBO1FBQzdCLElBQUlDLE1BQU0sSUFBSUM7UUFDZCxJQUFJQyxVQUFVUCxTQUFTLENBQUNLLElBQUlHLFNBQVMsR0FBRztRQUN4QyxJQUFJQyxRQUFRVixVQUFVLENBQUNNLElBQUlLLFdBQVcsR0FBRztRQUN6QyxJQUFJQyxNQUFNTixJQUFJTyxVQUFVO1FBQ3hCLElBQUlDLFFBQVFSLElBQUlTLFdBQVc7UUFDM0IsSUFBSUQsUUFBUSxJQUFJO1lBQ2RBLFFBQVEsTUFBTUE7UUFDaEI7UUFDQSxJQUFJRSxVQUFVVixJQUFJVyxhQUFhO1FBQy9CLElBQUlELFVBQVUsSUFBSTtZQUNoQkEsVUFBVSxNQUFNQTtRQUNsQjtRQUNBLElBQUlFLFVBQVVaLElBQUlhLGFBQWE7UUFDL0IsSUFBSUQsVUFBVSxJQUFJO1lBQ2hCQSxVQUFVLE1BQU1BO1FBQ2xCO1FBQ0EsSUFBSUUsT0FBT2QsSUFBSWUsY0FBYztRQUU3Qiw4QkFBOEI7UUFDOUIsSUFBSUMsVUFBVWQsVUFBVSxNQUFNRSxRQUFRLE1BQU1FLE1BQU0sTUFBTUUsUUFBUSxNQUFNRSxVQUFVLE1BQU1FLFVBQVUsVUFBVUU7UUFDMUcsT0FBT0U7SUFDVDtJQUNBLE9BQU9wQjtBQUNUO0FBQ2lDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnV6enktb2N0by1icm9jY29saS1uZXh0Ly4vbm9kZV9tb2R1bGVzL2FtYXpvbi1jb2duaXRvLWlkZW50aXR5LWpzL2VzL0RhdGVIZWxwZXIuanM/MWYwNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG52YXIgbW9udGhOYW1lcyA9IFsnSmFuJywgJ0ZlYicsICdNYXInLCAnQXByJywgJ01heScsICdKdW4nLCAnSnVsJywgJ0F1ZycsICdTZXAnLCAnT2N0JywgJ05vdicsICdEZWMnXTtcbnZhciB3ZWVrTmFtZXMgPSBbJ1N1bicsICdNb24nLCAnVHVlJywgJ1dlZCcsICdUaHUnLCAnRnJpJywgJ1NhdCddO1xuXG4vKiogQGNsYXNzICovXG52YXIgRGF0ZUhlbHBlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIERhdGVIZWxwZXIoKSB7fVxuICB2YXIgX3Byb3RvID0gRGF0ZUhlbHBlci5wcm90b3R5cGU7XG4gIC8qKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgY3VycmVudCB0aW1lIGluIFwiZGRkIE1NTSBEIEhIOm1tOnNzIFVUQyBZWVlZXCIgZm9ybWF0LlxuICAgKi9cbiAgX3Byb3RvLmdldE5vd1N0cmluZyA9IGZ1bmN0aW9uIGdldE5vd1N0cmluZygpIHtcbiAgICB2YXIgbm93ID0gbmV3IERhdGUoKTtcbiAgICB2YXIgd2Vla0RheSA9IHdlZWtOYW1lc1tub3cuZ2V0VVRDRGF5KCldO1xuICAgIHZhciBtb250aCA9IG1vbnRoTmFtZXNbbm93LmdldFVUQ01vbnRoKCldO1xuICAgIHZhciBkYXkgPSBub3cuZ2V0VVRDRGF0ZSgpO1xuICAgIHZhciBob3VycyA9IG5vdy5nZXRVVENIb3VycygpO1xuICAgIGlmIChob3VycyA8IDEwKSB7XG4gICAgICBob3VycyA9IFwiMFwiICsgaG91cnM7XG4gICAgfVxuICAgIHZhciBtaW51dGVzID0gbm93LmdldFVUQ01pbnV0ZXMoKTtcbiAgICBpZiAobWludXRlcyA8IDEwKSB7XG4gICAgICBtaW51dGVzID0gXCIwXCIgKyBtaW51dGVzO1xuICAgIH1cbiAgICB2YXIgc2Vjb25kcyA9IG5vdy5nZXRVVENTZWNvbmRzKCk7XG4gICAgaWYgKHNlY29uZHMgPCAxMCkge1xuICAgICAgc2Vjb25kcyA9IFwiMFwiICsgc2Vjb25kcztcbiAgICB9XG4gICAgdmFyIHllYXIgPSBub3cuZ2V0VVRDRnVsbFllYXIoKTtcblxuICAgIC8vIGRkZCBNTU0gRCBISDptbTpzcyBVVEMgWVlZWVxuICAgIHZhciBkYXRlTm93ID0gd2Vla0RheSArIFwiIFwiICsgbW9udGggKyBcIiBcIiArIGRheSArIFwiIFwiICsgaG91cnMgKyBcIjpcIiArIG1pbnV0ZXMgKyBcIjpcIiArIHNlY29uZHMgKyBcIiBVVEMgXCIgKyB5ZWFyO1xuICAgIHJldHVybiBkYXRlTm93O1xuICB9O1xuICByZXR1cm4gRGF0ZUhlbHBlcjtcbn0oKTtcbmV4cG9ydCB7IERhdGVIZWxwZXIgYXMgZGVmYXVsdCB9OyJdLCJuYW1lcyI6WyJtb250aE5hbWVzIiwid2Vla05hbWVzIiwiRGF0ZUhlbHBlciIsIl9wcm90byIsInByb3RvdHlwZSIsImdldE5vd1N0cmluZyIsIm5vdyIsIkRhdGUiLCJ3ZWVrRGF5IiwiZ2V0VVRDRGF5IiwibW9udGgiLCJnZXRVVENNb250aCIsImRheSIsImdldFVUQ0RhdGUiLCJob3VycyIsImdldFVUQ0hvdXJzIiwibWludXRlcyIsImdldFVUQ01pbnV0ZXMiLCJzZWNvbmRzIiwiZ2V0VVRDU2Vjb25kcyIsInllYXIiLCJnZXRVVENGdWxsWWVhciIsImRhdGVOb3ciLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/amazon-cognito-identity-js/es/DateHelper.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/amazon-cognito-identity-js/es/Platform/constants.js":
/*!**************************************************************************!*\
  !*** ./node_modules/amazon-cognito-identity-js/es/Platform/constants.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AUTH_CATEGORY: () => (/* binding */ AUTH_CATEGORY),\n/* harmony export */   FRAMEWORK: () => (/* binding */ FRAMEWORK)\n/* harmony export */ });\nvar FRAMEWORK = {\n    None: \"0\",\n    ReactNative: \"1\"\n};\nvar AUTH_CATEGORY = \"auth\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYW1hem9uLWNvZ25pdG8taWRlbnRpdHktanMvZXMvUGxhdGZvcm0vY29uc3RhbnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQU8sSUFBSUEsWUFBWTtJQUNyQkMsTUFBTTtJQUNOQyxhQUFhO0FBQ2YsRUFBRTtBQUNLLElBQUlDLGdCQUFnQixPQUFPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnV6enktb2N0by1icm9jY29saS1uZXh0Ly4vbm9kZV9tb2R1bGVzL2FtYXpvbi1jb2duaXRvLWlkZW50aXR5LWpzL2VzL1BsYXRmb3JtL2NvbnN0YW50cy5qcz85NWJlIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB2YXIgRlJBTUVXT1JLID0ge1xuICBOb25lOiAnMCcsXG4gIFJlYWN0TmF0aXZlOiAnMSdcbn07XG5leHBvcnQgdmFyIEFVVEhfQ0FURUdPUlkgPSAnYXV0aCc7Il0sIm5hbWVzIjpbIkZSQU1FV09SSyIsIk5vbmUiLCJSZWFjdE5hdGl2ZSIsIkFVVEhfQ0FURUdPUlkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/amazon-cognito-identity-js/es/Platform/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/amazon-cognito-identity-js/es/Platform/index.js":
/*!**********************************************************************!*\
  !*** ./node_modules/amazon-cognito-identity-js/es/Platform/index.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Platform: () => (/* binding */ Platform),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getUserAgent: () => (/* binding */ getUserAgent)\n/* harmony export */ });\n/* harmony import */ var _version__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./version */ \"(ssr)/./node_modules/amazon-cognito-identity-js/es/Platform/version.js\");\n/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */ \nvar BASE_USER_AGENT = \"aws-amplify/\" + _version__WEBPACK_IMPORTED_MODULE_0__.version;\nvar Platform = {\n    userAgent: BASE_USER_AGENT,\n    isReactNative: typeof navigator !== \"undefined\" && navigator.product === \"ReactNative\"\n};\nvar getUserAgent = function getUserAgent() {\n    return Platform.userAgent;\n};\n/**\n * @deprecated use named import\n */ /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Platform);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYW1hem9uLWNvZ25pdG8taWRlbnRpdHktanMvZXMvUGxhdGZvcm0vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7Q0FHQyxHQUNtQztBQUNwQyxJQUFJQyxrQkFBa0IsaUJBQWlCRCw2Q0FBT0E7QUFDdkMsSUFBSUUsV0FBVztJQUNwQkMsV0FBV0Y7SUFDWEcsZUFBZSxPQUFPQyxjQUFjLGVBQWVBLFVBQVVDLE9BQU8sS0FBSztBQUMzRSxFQUFFO0FBQ0ssSUFBSUMsZUFBZSxTQUFTQTtJQUNqQyxPQUFPTCxTQUFTQyxTQUFTO0FBQzNCLEVBQUU7QUFFRjs7Q0FFQyxHQUNELGlFQUFlRCxRQUFRQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnV6enktb2N0by1icm9jY29saS1uZXh0Ly4vbm9kZV9tb2R1bGVzL2FtYXpvbi1jb2duaXRvLWlkZW50aXR5LWpzL2VzL1BsYXRmb3JtL2luZGV4LmpzP2IxODAiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cbmltcG9ydCB7IHZlcnNpb24gfSBmcm9tICcuL3ZlcnNpb24nO1xudmFyIEJBU0VfVVNFUl9BR0VOVCA9IFwiYXdzLWFtcGxpZnkvXCIgKyB2ZXJzaW9uO1xuZXhwb3J0IHZhciBQbGF0Zm9ybSA9IHtcbiAgdXNlckFnZW50OiBCQVNFX1VTRVJfQUdFTlQsXG4gIGlzUmVhY3ROYXRpdmU6IHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci5wcm9kdWN0ID09PSAnUmVhY3ROYXRpdmUnXG59O1xuZXhwb3J0IHZhciBnZXRVc2VyQWdlbnQgPSBmdW5jdGlvbiBnZXRVc2VyQWdlbnQoKSB7XG4gIHJldHVybiBQbGF0Zm9ybS51c2VyQWdlbnQ7XG59O1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIHVzZSBuYW1lZCBpbXBvcnRcbiAqL1xuZXhwb3J0IGRlZmF1bHQgUGxhdGZvcm07Il0sIm5hbWVzIjpbInZlcnNpb24iLCJCQVNFX1VTRVJfQUdFTlQiLCJQbGF0Zm9ybSIsInVzZXJBZ2VudCIsImlzUmVhY3ROYXRpdmUiLCJuYXZpZ2F0b3IiLCJwcm9kdWN0IiwiZ2V0VXNlckFnZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/amazon-cognito-identity-js/es/Platform/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/amazon-cognito-identity-js/es/Platform/version.js":
/*!************************************************************************!*\
  !*** ./node_modules/amazon-cognito-identity-js/es/Platform/version.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   version: () => (/* binding */ version)\n/* harmony export */ });\n// generated by genversion\nvar version = \"5.0.4\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYW1hem9uLWNvZ25pdG8taWRlbnRpdHktanMvZXMvUGxhdGZvcm0vdmVyc2lvbi5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsMEJBQTBCO0FBQ25CLElBQUlBLFVBQVUsUUFBUSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z1enp5LW9jdG8tYnJvY2NvbGktbmV4dC8uL25vZGVfbW9kdWxlcy9hbWF6b24tY29nbml0by1pZGVudGl0eS1qcy9lcy9QbGF0Zm9ybS92ZXJzaW9uLmpzPzUwODQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZ2VuZXJhdGVkIGJ5IGdlbnZlcnNpb25cbmV4cG9ydCB2YXIgdmVyc2lvbiA9ICc1LjAuNCc7Il0sIm5hbWVzIjpbInZlcnNpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/amazon-cognito-identity-js/es/Platform/version.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/amazon-cognito-identity-js/es/StorageHelper.js":
/*!*********************************************************************!*\
  !*** ./node_modules/amazon-cognito-identity-js/es/StorageHelper.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MemoryStorage: () => (/* binding */ MemoryStorage),\n/* harmony export */   \"default\": () => (/* binding */ StorageHelper)\n/* harmony export */ });\n/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */ var dataMemory = {};\n/** @class */ var MemoryStorage = /*#__PURE__*/ function() {\n    function MemoryStorage() {}\n    /**\n   * This is used to set a specific item in storage\n   * @param {string} key - the key for the item\n   * @param {object} value - the value\n   * @returns {string} value that was set\n   */ MemoryStorage.setItem = function setItem(key, value) {\n        dataMemory[key] = value;\n        return dataMemory[key];\n    } /**\n   * This is used to get a specific key from storage\n   * @param {string} key - the key for the item\n   * This is used to clear the storage\n   * @returns {string} the data item\n   */ ;\n    MemoryStorage.getItem = function getItem(key) {\n        return Object.prototype.hasOwnProperty.call(dataMemory, key) ? dataMemory[key] : undefined;\n    } /**\n   * This is used to remove an item from storage\n   * @param {string} key - the key being set\n   * @returns {boolean} return true\n   */ ;\n    MemoryStorage.removeItem = function removeItem(key) {\n        return delete dataMemory[key];\n    } /**\n   * This is used to clear the storage\n   * @returns {string} nothing\n   */ ;\n    MemoryStorage.clear = function clear() {\n        dataMemory = {};\n        return dataMemory;\n    };\n    return MemoryStorage;\n}();\n/** @class */ var StorageHelper = /*#__PURE__*/ function() {\n    /**\n   * This is used to get a storage object\n   * @returns {object} the storage\n   */ function StorageHelper() {\n        try {\n            this.storageWindow = window.localStorage;\n            this.storageWindow.setItem(\"aws.cognito.test-ls\", 1);\n            this.storageWindow.removeItem(\"aws.cognito.test-ls\");\n        } catch (exception) {\n            this.storageWindow = MemoryStorage;\n        }\n    }\n    /**\n   * This is used to return the storage\n   * @returns {object} the storage\n   */ var _proto = StorageHelper.prototype;\n    _proto.getStorage = function getStorage() {\n        return this.storageWindow;\n    };\n    return StorageHelper;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYW1hem9uLWNvZ25pdG8taWRlbnRpdHktanMvZXMvU3RvcmFnZUhlbHBlci5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBOzs7Q0FHQyxHQUVELElBQUlBLGFBQWEsQ0FBQztBQUVsQixXQUFXLEdBQ0osSUFBSUMsZ0JBQWdCLFdBQVcsR0FBRTtJQUN0QyxTQUFTQSxpQkFBaUI7SUFDMUI7Ozs7O0dBS0MsR0FDREEsY0FBY0MsT0FBTyxHQUFHLFNBQVNBLFFBQVFDLEdBQUcsRUFBRUMsS0FBSztRQUNqREosVUFBVSxDQUFDRyxJQUFJLEdBQUdDO1FBQ2xCLE9BQU9KLFVBQVUsQ0FBQ0csSUFBSTtJQUN4QixFQUVBOzs7OztHQUtDO0lBQ0RGLGNBQWNJLE9BQU8sR0FBRyxTQUFTQSxRQUFRRixHQUFHO1FBQzFDLE9BQU9HLE9BQU9DLFNBQVMsQ0FBQ0MsY0FBYyxDQUFDQyxJQUFJLENBQUNULFlBQVlHLE9BQU9ILFVBQVUsQ0FBQ0csSUFBSSxHQUFHTztJQUNuRixFQUVBOzs7O0dBSUM7SUFDRFQsY0FBY1UsVUFBVSxHQUFHLFNBQVNBLFdBQVdSLEdBQUc7UUFDaEQsT0FBTyxPQUFPSCxVQUFVLENBQUNHLElBQUk7SUFDL0IsRUFFQTs7O0dBR0M7SUFDREYsY0FBY1csS0FBSyxHQUFHLFNBQVNBO1FBQzdCWixhQUFhLENBQUM7UUFDZCxPQUFPQTtJQUNUO0lBQ0EsT0FBT0M7QUFDVCxJQUFJO0FBRUosV0FBVyxHQUNYLElBQUlZLGdCQUFnQixXQUFXLEdBQUU7SUFDL0I7OztHQUdDLEdBQ0QsU0FBU0E7UUFDUCxJQUFJO1lBQ0YsSUFBSSxDQUFDQyxhQUFhLEdBQUdDLE9BQU9DLFlBQVk7WUFDeEMsSUFBSSxDQUFDRixhQUFhLENBQUNaLE9BQU8sQ0FBQyx1QkFBdUI7WUFDbEQsSUFBSSxDQUFDWSxhQUFhLENBQUNILFVBQVUsQ0FBQztRQUNoQyxFQUFFLE9BQU9NLFdBQVc7WUFDbEIsSUFBSSxDQUFDSCxhQUFhLEdBQUdiO1FBQ3ZCO0lBQ0Y7SUFFQTs7O0dBR0MsR0FDRCxJQUFJaUIsU0FBU0wsY0FBY04sU0FBUztJQUNwQ1csT0FBT0MsVUFBVSxHQUFHLFNBQVNBO1FBQzNCLE9BQU8sSUFBSSxDQUFDTCxhQUFhO0lBQzNCO0lBQ0EsT0FBT0Q7QUFDVDtBQUNvQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Z1enp5LW9jdG8tYnJvY2NvbGktbmV4dC8uL25vZGVfbW9kdWxlcy9hbWF6b24tY29nbml0by1pZGVudGl0eS1qcy9lcy9TdG9yYWdlSGVscGVyLmpzPzEyNjkiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxudmFyIGRhdGFNZW1vcnkgPSB7fTtcblxuLyoqIEBjbGFzcyAqL1xuZXhwb3J0IHZhciBNZW1vcnlTdG9yYWdlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTWVtb3J5U3RvcmFnZSgpIHt9XG4gIC8qKlxuICAgKiBUaGlzIGlzIHVzZWQgdG8gc2V0IGEgc3BlY2lmaWMgaXRlbSBpbiBzdG9yYWdlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSB0aGUga2V5IGZvciB0aGUgaXRlbVxuICAgKiBAcGFyYW0ge29iamVjdH0gdmFsdWUgLSB0aGUgdmFsdWVcbiAgICogQHJldHVybnMge3N0cmluZ30gdmFsdWUgdGhhdCB3YXMgc2V0XG4gICAqL1xuICBNZW1vcnlTdG9yYWdlLnNldEl0ZW0gPSBmdW5jdGlvbiBzZXRJdGVtKGtleSwgdmFsdWUpIHtcbiAgICBkYXRhTWVtb3J5W2tleV0gPSB2YWx1ZTtcbiAgICByZXR1cm4gZGF0YU1lbW9yeVtrZXldO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgdXNlZCB0byBnZXQgYSBzcGVjaWZpYyBrZXkgZnJvbSBzdG9yYWdlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSB0aGUga2V5IGZvciB0aGUgaXRlbVxuICAgKiBUaGlzIGlzIHVzZWQgdG8gY2xlYXIgdGhlIHN0b3JhZ2VcbiAgICogQHJldHVybnMge3N0cmluZ30gdGhlIGRhdGEgaXRlbVxuICAgKi87XG4gIE1lbW9yeVN0b3JhZ2UuZ2V0SXRlbSA9IGZ1bmN0aW9uIGdldEl0ZW0oa2V5KSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkYXRhTWVtb3J5LCBrZXkpID8gZGF0YU1lbW9yeVtrZXldIDogdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgdXNlZCB0byByZW1vdmUgYW4gaXRlbSBmcm9tIHN0b3JhZ2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIHRoZSBrZXkgYmVpbmcgc2V0XG4gICAqIEByZXR1cm5zIHtib29sZWFufSByZXR1cm4gdHJ1ZVxuICAgKi87XG4gIE1lbW9yeVN0b3JhZ2UucmVtb3ZlSXRlbSA9IGZ1bmN0aW9uIHJlbW92ZUl0ZW0oa2V5KSB7XG4gICAgcmV0dXJuIGRlbGV0ZSBkYXRhTWVtb3J5W2tleV07XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBpcyB1c2VkIHRvIGNsZWFyIHRoZSBzdG9yYWdlXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IG5vdGhpbmdcbiAgICovO1xuICBNZW1vcnlTdG9yYWdlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgZGF0YU1lbW9yeSA9IHt9O1xuICAgIHJldHVybiBkYXRhTWVtb3J5O1xuICB9O1xuICByZXR1cm4gTWVtb3J5U3RvcmFnZTtcbn0oKTtcblxuLyoqIEBjbGFzcyAqL1xudmFyIFN0b3JhZ2VIZWxwZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogVGhpcyBpcyB1c2VkIHRvIGdldCBhIHN0b3JhZ2Ugb2JqZWN0XG4gICAqIEByZXR1cm5zIHtvYmplY3R9IHRoZSBzdG9yYWdlXG4gICAqL1xuICBmdW5jdGlvbiBTdG9yYWdlSGVscGVyKCkge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLnN0b3JhZ2VXaW5kb3cgPSB3aW5kb3cubG9jYWxTdG9yYWdlO1xuICAgICAgdGhpcy5zdG9yYWdlV2luZG93LnNldEl0ZW0oJ2F3cy5jb2duaXRvLnRlc3QtbHMnLCAxKTtcbiAgICAgIHRoaXMuc3RvcmFnZVdpbmRvdy5yZW1vdmVJdGVtKCdhd3MuY29nbml0by50ZXN0LWxzJyk7XG4gICAgfSBjYXRjaCAoZXhjZXB0aW9uKSB7XG4gICAgICB0aGlzLnN0b3JhZ2VXaW5kb3cgPSBNZW1vcnlTdG9yYWdlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGlzIHVzZWQgdG8gcmV0dXJuIHRoZSBzdG9yYWdlXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IHRoZSBzdG9yYWdlXG4gICAqL1xuICB2YXIgX3Byb3RvID0gU3RvcmFnZUhlbHBlci5wcm90b3R5cGU7XG4gIF9wcm90by5nZXRTdG9yYWdlID0gZnVuY3Rpb24gZ2V0U3RvcmFnZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zdG9yYWdlV2luZG93O1xuICB9O1xuICByZXR1cm4gU3RvcmFnZUhlbHBlcjtcbn0oKTtcbmV4cG9ydCB7IFN0b3JhZ2VIZWxwZXIgYXMgZGVmYXVsdCB9OyJdLCJuYW1lcyI6WyJkYXRhTWVtb3J5IiwiTWVtb3J5U3RvcmFnZSIsInNldEl0ZW0iLCJrZXkiLCJ2YWx1ZSIsImdldEl0ZW0iLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJ1bmRlZmluZWQiLCJyZW1vdmVJdGVtIiwiY2xlYXIiLCJTdG9yYWdlSGVscGVyIiwic3RvcmFnZVdpbmRvdyIsIndpbmRvdyIsImxvY2FsU3RvcmFnZSIsImV4Y2VwdGlvbiIsIl9wcm90byIsImdldFN0b3JhZ2UiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/amazon-cognito-identity-js/es/StorageHelper.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/amazon-cognito-identity-js/es/UserAgent.js":
/*!*****************************************************************!*\
  !*** ./node_modules/amazon-cognito-identity-js/es/UserAgent.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addAuthCategoryToCognitoUserAgent: () => (/* binding */ addAuthCategoryToCognitoUserAgent),\n/* harmony export */   addFrameworkToCognitoUserAgent: () => (/* binding */ addFrameworkToCognitoUserAgent),\n/* harmony export */   appendToCognitoUserAgent: () => (/* binding */ appendToCognitoUserAgent),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getAmplifyUserAgent: () => (/* binding */ getAmplifyUserAgent)\n/* harmony export */ });\n/* harmony import */ var _Platform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Platform */ \"(ssr)/./node_modules/amazon-cognito-identity-js/es/Platform/index.js\");\n/* harmony import */ var _Platform_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Platform/constants */ \"(ssr)/./node_modules/amazon-cognito-identity-js/es/Platform/constants.js\");\n\n\n// constructor\nfunction UserAgent() {}\n// public\nUserAgent.prototype.userAgent = (0,_Platform__WEBPACK_IMPORTED_MODULE_0__.getUserAgent)();\nvar appendToCognitoUserAgent = function appendToCognitoUserAgent(content) {\n    if (!content) {\n        return;\n    }\n    if (UserAgent.prototype.userAgent && !UserAgent.prototype.userAgent.includes(content)) {\n        UserAgent.prototype.userAgent = UserAgent.prototype.userAgent.concat(\" \", content);\n    }\n    if (!UserAgent.prototype.userAgent || UserAgent.prototype.userAgent === \"\") {\n        UserAgent.prototype.userAgent = content;\n    }\n};\nvar addAuthCategoryToCognitoUserAgent = function addAuthCategoryToCognitoUserAgent() {\n    UserAgent.category = _Platform_constants__WEBPACK_IMPORTED_MODULE_1__.AUTH_CATEGORY;\n};\nvar addFrameworkToCognitoUserAgent = function addFrameworkToCognitoUserAgent(framework) {\n    UserAgent.framework = framework;\n};\nvar getAmplifyUserAgent = function getAmplifyUserAgent(action) {\n    var uaCategoryAction = UserAgent.category ? \" \" + UserAgent.category : \"\";\n    var uaFramework = UserAgent.framework ? \" framework/\" + UserAgent.framework : \"\";\n    var userAgent = \"\" + UserAgent.prototype.userAgent + uaCategoryAction + uaFramework;\n    return userAgent;\n};\n// class for defining the amzn user-agent\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UserAgent);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYW1hem9uLWNvZ25pdG8taWRlbnRpdHktanMvZXMvVXNlckFnZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBMEM7QUFDVztBQUVyRCxjQUFjO0FBQ2QsU0FBU0UsYUFBYTtBQUN0QixTQUFTO0FBQ1RBLFVBQVVDLFNBQVMsQ0FBQ0MsU0FBUyxHQUFHSix1REFBWUE7QUFDckMsSUFBSUssMkJBQTJCLFNBQVNBLHlCQUF5QkMsT0FBTztJQUM3RSxJQUFJLENBQUNBLFNBQVM7UUFDWjtJQUNGO0lBQ0EsSUFBSUosVUFBVUMsU0FBUyxDQUFDQyxTQUFTLElBQUksQ0FBQ0YsVUFBVUMsU0FBUyxDQUFDQyxTQUFTLENBQUNHLFFBQVEsQ0FBQ0QsVUFBVTtRQUNyRkosVUFBVUMsU0FBUyxDQUFDQyxTQUFTLEdBQUdGLFVBQVVDLFNBQVMsQ0FBQ0MsU0FBUyxDQUFDSSxNQUFNLENBQUMsS0FBS0Y7SUFDNUU7SUFDQSxJQUFJLENBQUNKLFVBQVVDLFNBQVMsQ0FBQ0MsU0FBUyxJQUFJRixVQUFVQyxTQUFTLENBQUNDLFNBQVMsS0FBSyxJQUFJO1FBQzFFRixVQUFVQyxTQUFTLENBQUNDLFNBQVMsR0FBR0U7SUFDbEM7QUFDRixFQUFFO0FBQ0ssSUFBSUcsb0NBQW9DLFNBQVNBO0lBQ3REUCxVQUFVUSxRQUFRLEdBQUdULDhEQUFhQTtBQUNwQyxFQUFFO0FBQ0ssSUFBSVUsaUNBQWlDLFNBQVNBLCtCQUErQkMsU0FBUztJQUMzRlYsVUFBVVUsU0FBUyxHQUFHQTtBQUN4QixFQUFFO0FBQ0ssSUFBSUMsc0JBQXNCLFNBQVNBLG9CQUFvQkMsTUFBTTtJQUNsRSxJQUFJQyxtQkFBbUJiLFVBQVVRLFFBQVEsR0FBRyxNQUFNUixVQUFVUSxRQUFRLEdBQUc7SUFDdkUsSUFBSU0sY0FBY2QsVUFBVVUsU0FBUyxHQUFHLGdCQUFnQlYsVUFBVVUsU0FBUyxHQUFHO0lBQzlFLElBQUlSLFlBQVksS0FBS0YsVUFBVUMsU0FBUyxDQUFDQyxTQUFTLEdBQUdXLG1CQUFtQkM7SUFDeEUsT0FBT1o7QUFDVCxFQUFFO0FBRUYseUNBQXlDO0FBQ3pDLGlFQUFlRixTQUFTQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnV6enktb2N0by1icm9jY29saS1uZXh0Ly4vbm9kZV9tb2R1bGVzL2FtYXpvbi1jb2duaXRvLWlkZW50aXR5LWpzL2VzL1VzZXJBZ2VudC5qcz9hYzQ4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFVzZXJBZ2VudCB9IGZyb20gJy4vUGxhdGZvcm0nO1xuaW1wb3J0IHsgQVVUSF9DQVRFR09SWSB9IGZyb20gJy4vUGxhdGZvcm0vY29uc3RhbnRzJztcblxuLy8gY29uc3RydWN0b3JcbmZ1bmN0aW9uIFVzZXJBZ2VudCgpIHt9XG4vLyBwdWJsaWNcblVzZXJBZ2VudC5wcm90b3R5cGUudXNlckFnZW50ID0gZ2V0VXNlckFnZW50KCk7XG5leHBvcnQgdmFyIGFwcGVuZFRvQ29nbml0b1VzZXJBZ2VudCA9IGZ1bmN0aW9uIGFwcGVuZFRvQ29nbml0b1VzZXJBZ2VudChjb250ZW50KSB7XG4gIGlmICghY29udGVudCkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoVXNlckFnZW50LnByb3RvdHlwZS51c2VyQWdlbnQgJiYgIVVzZXJBZ2VudC5wcm90b3R5cGUudXNlckFnZW50LmluY2x1ZGVzKGNvbnRlbnQpKSB7XG4gICAgVXNlckFnZW50LnByb3RvdHlwZS51c2VyQWdlbnQgPSBVc2VyQWdlbnQucHJvdG90eXBlLnVzZXJBZ2VudC5jb25jYXQoJyAnLCBjb250ZW50KTtcbiAgfVxuICBpZiAoIVVzZXJBZ2VudC5wcm90b3R5cGUudXNlckFnZW50IHx8IFVzZXJBZ2VudC5wcm90b3R5cGUudXNlckFnZW50ID09PSAnJykge1xuICAgIFVzZXJBZ2VudC5wcm90b3R5cGUudXNlckFnZW50ID0gY29udGVudDtcbiAgfVxufTtcbmV4cG9ydCB2YXIgYWRkQXV0aENhdGVnb3J5VG9Db2duaXRvVXNlckFnZW50ID0gZnVuY3Rpb24gYWRkQXV0aENhdGVnb3J5VG9Db2duaXRvVXNlckFnZW50KCkge1xuICBVc2VyQWdlbnQuY2F0ZWdvcnkgPSBBVVRIX0NBVEVHT1JZO1xufTtcbmV4cG9ydCB2YXIgYWRkRnJhbWV3b3JrVG9Db2duaXRvVXNlckFnZW50ID0gZnVuY3Rpb24gYWRkRnJhbWV3b3JrVG9Db2duaXRvVXNlckFnZW50KGZyYW1ld29yaykge1xuICBVc2VyQWdlbnQuZnJhbWV3b3JrID0gZnJhbWV3b3JrO1xufTtcbmV4cG9ydCB2YXIgZ2V0QW1wbGlmeVVzZXJBZ2VudCA9IGZ1bmN0aW9uIGdldEFtcGxpZnlVc2VyQWdlbnQoYWN0aW9uKSB7XG4gIHZhciB1YUNhdGVnb3J5QWN0aW9uID0gVXNlckFnZW50LmNhdGVnb3J5ID8gXCIgXCIgKyBVc2VyQWdlbnQuY2F0ZWdvcnkgOiAnJztcbiAgdmFyIHVhRnJhbWV3b3JrID0gVXNlckFnZW50LmZyYW1ld29yayA/IFwiIGZyYW1ld29yay9cIiArIFVzZXJBZ2VudC5mcmFtZXdvcmsgOiAnJztcbiAgdmFyIHVzZXJBZ2VudCA9IFwiXCIgKyBVc2VyQWdlbnQucHJvdG90eXBlLnVzZXJBZ2VudCArIHVhQ2F0ZWdvcnlBY3Rpb24gKyB1YUZyYW1ld29yaztcbiAgcmV0dXJuIHVzZXJBZ2VudDtcbn07XG5cbi8vIGNsYXNzIGZvciBkZWZpbmluZyB0aGUgYW16biB1c2VyLWFnZW50XG5leHBvcnQgZGVmYXVsdCBVc2VyQWdlbnQ7Il0sIm5hbWVzIjpbImdldFVzZXJBZ2VudCIsIkFVVEhfQ0FURUdPUlkiLCJVc2VyQWdlbnQiLCJwcm90b3R5cGUiLCJ1c2VyQWdlbnQiLCJhcHBlbmRUb0NvZ25pdG9Vc2VyQWdlbnQiLCJjb250ZW50IiwiaW5jbHVkZXMiLCJjb25jYXQiLCJhZGRBdXRoQ2F0ZWdvcnlUb0NvZ25pdG9Vc2VyQWdlbnQiLCJjYXRlZ29yeSIsImFkZEZyYW1ld29ya1RvQ29nbml0b1VzZXJBZ2VudCIsImZyYW1ld29yayIsImdldEFtcGxpZnlVc2VyQWdlbnQiLCJhY3Rpb24iLCJ1YUNhdGVnb3J5QWN0aW9uIiwidWFGcmFtZXdvcmsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/amazon-cognito-identity-js/es/UserAgent.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/amazon-cognito-identity-js/es/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/amazon-cognito-identity-js/es/index.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthenticationDetails: () => (/* reexport safe */ _AuthenticationDetails__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   AuthenticationHelper: () => (/* reexport safe */ _AuthenticationHelper__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   CognitoAccessToken: () => (/* reexport safe */ _CognitoAccessToken__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\n/* harmony export */   CognitoIdToken: () => (/* reexport safe */ _CognitoIdToken__WEBPACK_IMPORTED_MODULE_3__[\"default\"]),\n/* harmony export */   CognitoRefreshToken: () => (/* reexport safe */ _CognitoRefreshToken__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\n/* harmony export */   CognitoUser: () => (/* reexport safe */ _CognitoUser__WEBPACK_IMPORTED_MODULE_5__[\"default\"]),\n/* harmony export */   CognitoUserAttribute: () => (/* reexport safe */ _CognitoUserAttribute__WEBPACK_IMPORTED_MODULE_6__[\"default\"]),\n/* harmony export */   CognitoUserPool: () => (/* reexport safe */ _CognitoUserPool__WEBPACK_IMPORTED_MODULE_7__[\"default\"]),\n/* harmony export */   CognitoUserSession: () => (/* reexport safe */ _CognitoUserSession__WEBPACK_IMPORTED_MODULE_8__[\"default\"]),\n/* harmony export */   CookieStorage: () => (/* reexport safe */ _CookieStorage__WEBPACK_IMPORTED_MODULE_9__[\"default\"]),\n/* harmony export */   DateHelper: () => (/* reexport safe */ _DateHelper__WEBPACK_IMPORTED_MODULE_10__[\"default\"]),\n/* harmony export */   WordArray: () => (/* reexport safe */ _utils_WordArray__WEBPACK_IMPORTED_MODULE_12__[\"default\"]),\n/* harmony export */   appendToCognitoUserAgent: () => (/* reexport safe */ _UserAgent__WEBPACK_IMPORTED_MODULE_11__.appendToCognitoUserAgent)\n/* harmony export */ });\n/* harmony import */ var _AuthenticationDetails__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AuthenticationDetails */ \"(ssr)/./node_modules/amazon-cognito-identity-js/es/AuthenticationDetails.js\");\n/* harmony import */ var _AuthenticationHelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AuthenticationHelper */ \"(ssr)/./node_modules/amazon-cognito-identity-js/es/AuthenticationHelper.js\");\n/* harmony import */ var _CognitoAccessToken__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CognitoAccessToken */ \"(ssr)/./node_modules/amazon-cognito-identity-js/es/CognitoAccessToken.js\");\n/* harmony import */ var _CognitoIdToken__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./CognitoIdToken */ \"(ssr)/./node_modules/amazon-cognito-identity-js/es/CognitoIdToken.js\");\n/* harmony import */ var _CognitoRefreshToken__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./CognitoRefreshToken */ \"(ssr)/./node_modules/amazon-cognito-identity-js/es/CognitoRefreshToken.js\");\n/* harmony import */ var _CognitoUser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./CognitoUser */ \"(ssr)/./node_modules/amazon-cognito-identity-js/es/CognitoUser.js\");\n/* harmony import */ var _CognitoUserAttribute__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./CognitoUserAttribute */ \"(ssr)/./node_modules/amazon-cognito-identity-js/es/CognitoUserAttribute.js\");\n/* harmony import */ var _CognitoUserPool__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./CognitoUserPool */ \"(ssr)/./node_modules/amazon-cognito-identity-js/es/CognitoUserPool.js\");\n/* harmony import */ var _CognitoUserSession__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./CognitoUserSession */ \"(ssr)/./node_modules/amazon-cognito-identity-js/es/CognitoUserSession.js\");\n/* harmony import */ var _CookieStorage__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./CookieStorage */ \"(ssr)/./node_modules/amazon-cognito-identity-js/es/CookieStorage.js\");\n/* harmony import */ var _DateHelper__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./DateHelper */ \"(ssr)/./node_modules/amazon-cognito-identity-js/es/DateHelper.js\");\n/* harmony import */ var _UserAgent__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./UserAgent */ \"(ssr)/./node_modules/amazon-cognito-identity-js/es/UserAgent.js\");\n/* harmony import */ var _utils_WordArray__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./utils/WordArray */ \"(ssr)/./node_modules/amazon-cognito-identity-js/es/utils/WordArray.js\");\n/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */ \n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYW1hem9uLWNvZ25pdG8taWRlbnRpdHktanMvZXMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7O0NBR0MsR0FFMEU7QUFDRjtBQUNKO0FBQ1I7QUFDVTtBQUNoQjtBQUNrQjtBQUNWO0FBQ007QUFDVjtBQUNOO0FBQ0U7QUFDRSIsInNvdXJjZXMiOlsid2VicGFjazovL2Z1enp5LW9jdG8tYnJvY2NvbGktbmV4dC8uL25vZGVfbW9kdWxlcy9hbWF6b24tY29nbml0by1pZGVudGl0eS1qcy9lcy9pbmRleC5qcz8yMjIyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXV0aGVudGljYXRpb25EZXRhaWxzIH0gZnJvbSAnLi9BdXRoZW50aWNhdGlvbkRldGFpbHMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBdXRoZW50aWNhdGlvbkhlbHBlciB9IGZyb20gJy4vQXV0aGVudGljYXRpb25IZWxwZXInO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDb2duaXRvQWNjZXNzVG9rZW4gfSBmcm9tICcuL0NvZ25pdG9BY2Nlc3NUb2tlbic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENvZ25pdG9JZFRva2VuIH0gZnJvbSAnLi9Db2duaXRvSWRUb2tlbic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENvZ25pdG9SZWZyZXNoVG9rZW4gfSBmcm9tICcuL0NvZ25pdG9SZWZyZXNoVG9rZW4nO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDb2duaXRvVXNlciB9IGZyb20gJy4vQ29nbml0b1VzZXInO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDb2duaXRvVXNlckF0dHJpYnV0ZSB9IGZyb20gJy4vQ29nbml0b1VzZXJBdHRyaWJ1dGUnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDb2duaXRvVXNlclBvb2wgfSBmcm9tICcuL0NvZ25pdG9Vc2VyUG9vbCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENvZ25pdG9Vc2VyU2Vzc2lvbiB9IGZyb20gJy4vQ29nbml0b1VzZXJTZXNzaW9uJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ29va2llU3RvcmFnZSB9IGZyb20gJy4vQ29va2llU3RvcmFnZSc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIERhdGVIZWxwZXIgfSBmcm9tICcuL0RhdGVIZWxwZXInO1xuZXhwb3J0IHsgYXBwZW5kVG9Db2duaXRvVXNlckFnZW50IH0gZnJvbSAnLi9Vc2VyQWdlbnQnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBXb3JkQXJyYXkgfSBmcm9tICcuL3V0aWxzL1dvcmRBcnJheSc7Il0sIm5hbWVzIjpbImRlZmF1bHQiLCJBdXRoZW50aWNhdGlvbkRldGFpbHMiLCJBdXRoZW50aWNhdGlvbkhlbHBlciIsIkNvZ25pdG9BY2Nlc3NUb2tlbiIsIkNvZ25pdG9JZFRva2VuIiwiQ29nbml0b1JlZnJlc2hUb2tlbiIsIkNvZ25pdG9Vc2VyIiwiQ29nbml0b1VzZXJBdHRyaWJ1dGUiLCJDb2duaXRvVXNlclBvb2wiLCJDb2duaXRvVXNlclNlc3Npb24iLCJDb29raWVTdG9yYWdlIiwiRGF0ZUhlbHBlciIsImFwcGVuZFRvQ29nbml0b1VzZXJBZ2VudCIsIldvcmRBcnJheSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/amazon-cognito-identity-js/es/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/amazon-cognito-identity-js/es/utils/WordArray.js":
/*!***********************************************************************!*\
  !*** ./node_modules/amazon-cognito-identity-js/es/utils/WordArray.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ WordArray)\n/* harmony export */ });\n/* harmony import */ var _cryptoSecureRandomInt__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cryptoSecureRandomInt */ \"(ssr)/./node_modules/amazon-cognito-identity-js/es/utils/cryptoSecureRandomInt.js\");\n\n/**\n * Hex encoding strategy.\n * Converts a word array to a hex string.\n * @param {WordArray} wordArray The word array.\n * @return {string} The hex string.\n * @static\n */ function hexStringify(wordArray) {\n    // Shortcuts\n    var words = wordArray.words;\n    var sigBytes = wordArray.sigBytes;\n    // Convert\n    var hexChars = [];\n    for(var i = 0; i < sigBytes; i++){\n        var bite = words[i >>> 2] >>> 24 - i % 4 * 8 & 0xff;\n        hexChars.push((bite >>> 4).toString(16));\n        hexChars.push((bite & 0x0f).toString(16));\n    }\n    return hexChars.join(\"\");\n}\nvar WordArray = /*#__PURE__*/ function() {\n    function WordArray(words, sigBytes) {\n        words = this.words = words || [];\n        if (sigBytes != undefined) {\n            this.sigBytes = sigBytes;\n        } else {\n            this.sigBytes = words.length * 4;\n        }\n    }\n    var _proto = WordArray.prototype;\n    _proto.random = function random(nBytes) {\n        var words = [];\n        for(var i = 0; i < nBytes; i += 4){\n            words.push((0,_cryptoSecureRandomInt__WEBPACK_IMPORTED_MODULE_0__[\"default\"])());\n        }\n        return new WordArray(words, nBytes);\n    };\n    _proto.toString = function toString() {\n        return hexStringify(this);\n    };\n    return WordArray;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYW1hem9uLWNvZ25pdG8taWRlbnRpdHktanMvZXMvdXRpbHMvV29yZEFycmF5LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTREO0FBRTVEOzs7Ozs7Q0FNQyxHQUNELFNBQVNDLGFBQWFDLFNBQVM7SUFDN0IsWUFBWTtJQUNaLElBQUlDLFFBQVFELFVBQVVDLEtBQUs7SUFDM0IsSUFBSUMsV0FBV0YsVUFBVUUsUUFBUTtJQUVqQyxVQUFVO0lBQ1YsSUFBSUMsV0FBVyxFQUFFO0lBQ2pCLElBQUssSUFBSUMsSUFBSSxHQUFHQSxJQUFJRixVQUFVRSxJQUFLO1FBQ2pDLElBQUlDLE9BQU9KLEtBQUssQ0FBQ0csTUFBTSxFQUFFLEtBQUssS0FBS0EsSUFBSSxJQUFJLElBQUk7UUFDL0NELFNBQVNHLElBQUksQ0FBQyxDQUFDRCxTQUFTLEdBQUdFLFFBQVEsQ0FBQztRQUNwQ0osU0FBU0csSUFBSSxDQUFDLENBQUNELE9BQU8sSUFBRyxFQUFHRSxRQUFRLENBQUM7SUFDdkM7SUFDQSxPQUFPSixTQUFTSyxJQUFJLENBQUM7QUFDdkI7QUFDQSxJQUFJQyxZQUFZLFdBQVcsR0FBRTtJQUMzQixTQUFTQSxVQUFVUixLQUFLLEVBQUVDLFFBQVE7UUFDaENELFFBQVEsSUFBSSxDQUFDQSxLQUFLLEdBQUdBLFNBQVMsRUFBRTtRQUNoQyxJQUFJQyxZQUFZUSxXQUFXO1lBQ3pCLElBQUksQ0FBQ1IsUUFBUSxHQUFHQTtRQUNsQixPQUFPO1lBQ0wsSUFBSSxDQUFDQSxRQUFRLEdBQUdELE1BQU1VLE1BQU0sR0FBRztRQUNqQztJQUNGO0lBQ0EsSUFBSUMsU0FBU0gsVUFBVUksU0FBUztJQUNoQ0QsT0FBT0UsTUFBTSxHQUFHLFNBQVNBLE9BQU9DLE1BQU07UUFDcEMsSUFBSWQsUUFBUSxFQUFFO1FBQ2QsSUFBSyxJQUFJRyxJQUFJLEdBQUdBLElBQUlXLFFBQVFYLEtBQUssRUFBRztZQUNsQ0gsTUFBTUssSUFBSSxDQUFDUixrRUFBcUJBO1FBQ2xDO1FBQ0EsT0FBTyxJQUFJVyxVQUFVUixPQUFPYztJQUM5QjtJQUNBSCxPQUFPTCxRQUFRLEdBQUcsU0FBU0E7UUFDekIsT0FBT1IsYUFBYSxJQUFJO0lBQzFCO0lBQ0EsT0FBT1U7QUFDVDtBQUNnQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Z1enp5LW9jdG8tYnJvY2NvbGktbmV4dC8uL25vZGVfbW9kdWxlcy9hbWF6b24tY29nbml0by1pZGVudGl0eS1qcy9lcy91dGlscy9Xb3JkQXJyYXkuanM/OGNiNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY3J5cHRvU2VjdXJlUmFuZG9tSW50IGZyb20gJy4vY3J5cHRvU2VjdXJlUmFuZG9tSW50JztcblxuLyoqXG4gKiBIZXggZW5jb2Rpbmcgc3RyYXRlZ3kuXG4gKiBDb252ZXJ0cyBhIHdvcmQgYXJyYXkgdG8gYSBoZXggc3RyaW5nLlxuICogQHBhcmFtIHtXb3JkQXJyYXl9IHdvcmRBcnJheSBUaGUgd29yZCBhcnJheS5cbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGhleCBzdHJpbmcuXG4gKiBAc3RhdGljXG4gKi9cbmZ1bmN0aW9uIGhleFN0cmluZ2lmeSh3b3JkQXJyYXkpIHtcbiAgLy8gU2hvcnRjdXRzXG4gIHZhciB3b3JkcyA9IHdvcmRBcnJheS53b3JkcztcbiAgdmFyIHNpZ0J5dGVzID0gd29yZEFycmF5LnNpZ0J5dGVzO1xuXG4gIC8vIENvbnZlcnRcbiAgdmFyIGhleENoYXJzID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc2lnQnl0ZXM7IGkrKykge1xuICAgIHZhciBiaXRlID0gd29yZHNbaSA+Pj4gMl0gPj4+IDI0IC0gaSAlIDQgKiA4ICYgMHhmZjtcbiAgICBoZXhDaGFycy5wdXNoKChiaXRlID4+PiA0KS50b1N0cmluZygxNikpO1xuICAgIGhleENoYXJzLnB1c2goKGJpdGUgJiAweDBmKS50b1N0cmluZygxNikpO1xuICB9XG4gIHJldHVybiBoZXhDaGFycy5qb2luKCcnKTtcbn1cbnZhciBXb3JkQXJyYXkgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBXb3JkQXJyYXkod29yZHMsIHNpZ0J5dGVzKSB7XG4gICAgd29yZHMgPSB0aGlzLndvcmRzID0gd29yZHMgfHwgW107XG4gICAgaWYgKHNpZ0J5dGVzICE9IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5zaWdCeXRlcyA9IHNpZ0J5dGVzO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNpZ0J5dGVzID0gd29yZHMubGVuZ3RoICogNDtcbiAgICB9XG4gIH1cbiAgdmFyIF9wcm90byA9IFdvcmRBcnJheS5wcm90b3R5cGU7XG4gIF9wcm90by5yYW5kb20gPSBmdW5jdGlvbiByYW5kb20obkJ5dGVzKSB7XG4gICAgdmFyIHdvcmRzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuQnl0ZXM7IGkgKz0gNCkge1xuICAgICAgd29yZHMucHVzaChjcnlwdG9TZWN1cmVSYW5kb21JbnQoKSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgV29yZEFycmF5KHdvcmRzLCBuQnl0ZXMpO1xuICB9O1xuICBfcHJvdG8udG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gaGV4U3RyaW5naWZ5KHRoaXMpO1xuICB9O1xuICByZXR1cm4gV29yZEFycmF5O1xufSgpO1xuZXhwb3J0IHsgV29yZEFycmF5IGFzIGRlZmF1bHQgfTsiXSwibmFtZXMiOlsiY3J5cHRvU2VjdXJlUmFuZG9tSW50IiwiaGV4U3RyaW5naWZ5Iiwid29yZEFycmF5Iiwid29yZHMiLCJzaWdCeXRlcyIsImhleENoYXJzIiwiaSIsImJpdGUiLCJwdXNoIiwidG9TdHJpbmciLCJqb2luIiwiV29yZEFycmF5IiwidW5kZWZpbmVkIiwibGVuZ3RoIiwiX3Byb3RvIiwicHJvdG90eXBlIiwicmFuZG9tIiwibkJ5dGVzIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/amazon-cognito-identity-js/es/utils/WordArray.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/amazon-cognito-identity-js/es/utils/cryptoSecureRandomInt.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/amazon-cognito-identity-js/es/utils/cryptoSecureRandomInt.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ cryptoSecureRandomInt)\n/* harmony export */ });\nvar crypto;\n// Native crypto from window (Browser)\nif (false) {}\n// Native (experimental IE 11) crypto from window (Browser)\nif (!crypto && \"undefined\" !== \"undefined\" && 0) {}\n// Native crypto from global (NodeJS)\nif (!crypto && typeof global !== \"undefined\" && global.crypto) {\n    crypto = global.crypto;\n}\n// Native crypto import via require (NodeJS)\nif (!crypto && \"function\" === \"function\") {\n    try {\n        crypto = __webpack_require__(/*! crypto */ \"crypto\");\n    } catch (err) {}\n}\n/*\n * Cryptographically secure pseudorandom number generator\n * As Math.random() is cryptographically not safe to use\n */ function cryptoSecureRandomInt() {\n    if (crypto) {\n        // Use getRandomValues method (Browser)\n        if (typeof crypto.getRandomValues === \"function\") {\n            try {\n                return crypto.getRandomValues(new Uint32Array(1))[0];\n            } catch (err) {}\n        }\n        // Use randomBytes method (NodeJS)\n        if (typeof crypto.randomBytes === \"function\") {\n            try {\n                return crypto.randomBytes(4).readInt32LE();\n            } catch (err) {}\n        }\n    }\n    throw new Error(\"Native crypto module could not be used to get secure random number.\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYW1hem9uLWNvZ25pdG8taWRlbnRpdHktanMvZXMvdXRpbHMvY3J5cHRvU2VjdXJlUmFuZG9tSW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxJQUFJQTtBQUVKLHNDQUFzQztBQUN0QyxJQUFJLEtBQThDLEVBQUUsRUFFbkQ7QUFFRCwyREFBMkQ7QUFDM0QsSUFBSSxDQUFDQSxVQUFVLGdCQUFrQixlQUFlQyxDQUFlLEVBQUUsRUFFaEU7QUFFRCxxQ0FBcUM7QUFDckMsSUFBSSxDQUFDRCxVQUFVLE9BQU9HLFdBQVcsZUFBZUEsT0FBT0gsTUFBTSxFQUFFO0lBQzdEQSxTQUFTRyxPQUFPSCxNQUFNO0FBQ3hCO0FBRUEsNENBQTRDO0FBQzVDLElBQUksQ0FBQ0EsVUFBVSxVQUFjSSxLQUFLLFlBQVk7SUFDNUMsSUFBSTtRQUNGSixTQUFTSSxtQkFBT0EsQ0FBQztJQUNuQixFQUFFLE9BQU9DLEtBQUssQ0FBQztBQUNqQjtBQUVBOzs7Q0FHQyxHQUNjLFNBQVNDO0lBQ3RCLElBQUlOLFFBQVE7UUFDVix1Q0FBdUM7UUFDdkMsSUFBSSxPQUFPQSxPQUFPTyxlQUFlLEtBQUssWUFBWTtZQUNoRCxJQUFJO2dCQUNGLE9BQU9QLE9BQU9PLGVBQWUsQ0FBQyxJQUFJQyxZQUFZLEdBQUcsQ0FBQyxFQUFFO1lBQ3RELEVBQUUsT0FBT0gsS0FBSyxDQUFDO1FBQ2pCO1FBRUEsa0NBQWtDO1FBQ2xDLElBQUksT0FBT0wsT0FBT1MsV0FBVyxLQUFLLFlBQVk7WUFDNUMsSUFBSTtnQkFDRixPQUFPVCxPQUFPUyxXQUFXLENBQUMsR0FBR0MsV0FBVztZQUMxQyxFQUFFLE9BQU9MLEtBQUssQ0FBQztRQUNqQjtJQUNGO0lBQ0EsTUFBTSxJQUFJTSxNQUFNO0FBQ2xCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnV6enktb2N0by1icm9jY29saS1uZXh0Ly4vbm9kZV9tb2R1bGVzL2FtYXpvbi1jb2duaXRvLWlkZW50aXR5LWpzL2VzL3V0aWxzL2NyeXB0b1NlY3VyZVJhbmRvbUludC5qcz9hYWZkIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBjcnlwdG87XG5cbi8vIE5hdGl2ZSBjcnlwdG8gZnJvbSB3aW5kb3cgKEJyb3dzZXIpXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmNyeXB0bykge1xuICBjcnlwdG8gPSB3aW5kb3cuY3J5cHRvO1xufVxuXG4vLyBOYXRpdmUgKGV4cGVyaW1lbnRhbCBJRSAxMSkgY3J5cHRvIGZyb20gd2luZG93IChCcm93c2VyKVxuaWYgKCFjcnlwdG8gJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lm1zQ3J5cHRvKSB7XG4gIGNyeXB0byA9IHdpbmRvdy5tc0NyeXB0bztcbn1cblxuLy8gTmF0aXZlIGNyeXB0byBmcm9tIGdsb2JhbCAoTm9kZUpTKVxuaWYgKCFjcnlwdG8gJiYgdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgJiYgZ2xvYmFsLmNyeXB0bykge1xuICBjcnlwdG8gPSBnbG9iYWwuY3J5cHRvO1xufVxuXG4vLyBOYXRpdmUgY3J5cHRvIGltcG9ydCB2aWEgcmVxdWlyZSAoTm9kZUpTKVxuaWYgKCFjcnlwdG8gJiYgdHlwZW9mIHJlcXVpcmUgPT09ICdmdW5jdGlvbicpIHtcbiAgdHJ5IHtcbiAgICBjcnlwdG8gPSByZXF1aXJlKCdjcnlwdG8nKTtcbiAgfSBjYXRjaCAoZXJyKSB7fVxufVxuXG4vKlxuICogQ3J5cHRvZ3JhcGhpY2FsbHkgc2VjdXJlIHBzZXVkb3JhbmRvbSBudW1iZXIgZ2VuZXJhdG9yXG4gKiBBcyBNYXRoLnJhbmRvbSgpIGlzIGNyeXB0b2dyYXBoaWNhbGx5IG5vdCBzYWZlIHRvIHVzZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcnlwdG9TZWN1cmVSYW5kb21JbnQoKSB7XG4gIGlmIChjcnlwdG8pIHtcbiAgICAvLyBVc2UgZ2V0UmFuZG9tVmFsdWVzIG1ldGhvZCAoQnJvd3NlcilcbiAgICBpZiAodHlwZW9mIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50MzJBcnJheSgxKSlbMF07XG4gICAgICB9IGNhdGNoIChlcnIpIHt9XG4gICAgfVxuXG4gICAgLy8gVXNlIHJhbmRvbUJ5dGVzIG1ldGhvZCAoTm9kZUpTKVxuICAgIGlmICh0eXBlb2YgY3J5cHRvLnJhbmRvbUJ5dGVzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gY3J5cHRvLnJhbmRvbUJ5dGVzKDQpLnJlYWRJbnQzMkxFKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHt9XG4gICAgfVxuICB9XG4gIHRocm93IG5ldyBFcnJvcignTmF0aXZlIGNyeXB0byBtb2R1bGUgY291bGQgbm90IGJlIHVzZWQgdG8gZ2V0IHNlY3VyZSByYW5kb20gbnVtYmVyLicpO1xufSJdLCJuYW1lcyI6WyJjcnlwdG8iLCJ3aW5kb3ciLCJtc0NyeXB0byIsImdsb2JhbCIsInJlcXVpcmUiLCJlcnIiLCJjcnlwdG9TZWN1cmVSYW5kb21JbnQiLCJnZXRSYW5kb21WYWx1ZXMiLCJVaW50MzJBcnJheSIsInJhbmRvbUJ5dGVzIiwicmVhZEludDMyTEUiLCJFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/amazon-cognito-identity-js/es/utils/cryptoSecureRandomInt.js\n");

/***/ })

};
;